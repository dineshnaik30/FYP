(self["webpackChunkhealthmonitoring"]=self["webpackChunkhealthmonitoring"]||[]).push([[998],{1001:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:c}}n.d(e,{Z:function(){return r}})},9662:function(t,e,n){var r=n(7854),i=n(614),o=n(6330),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},9483:function(t,e,n){var r=n(7854),i=n(4411),o=n(6330),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},6077:function(t,e,n){var r=n(7854),i=n(614),o=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),i=n(30),o=n(3070),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},1530:function(t,e,n){"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},5787:function(t,e,n){var r=n(7854),i=n(7976),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},9670:function(t,e,n){var r=n(7854),i=n(111),o=r.String,a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(t,e,n){var r=n(7293);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},260:function(t,e,n){"use strict";var r,i,o,a=n(4019),s=n(9781),u=n(7854),c=n(614),l=n(111),h=n(2597),f=n(648),p=n(6330),d=n(8880),v=n(1320),g=n(3070).f,y=n(7976),m=n(9518),_=n(7674),b=n(5112),w=n(9711),E=u.Int8Array,I=E&&E.prototype,T=u.Uint8ClampedArray,S=T&&T.prototype,C=E&&m(E),k=I&&m(I),A=Object.prototype,x=u.TypeError,N=b("toStringTag"),R=w("TYPED_ARRAY_TAG"),O=w("TYPED_ARRAY_CONSTRUCTOR"),P=a&&!!_&&"Opera"!==f(u.opera),D=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},F=function(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||h(L,e)||h(M,e)},j=function(t){if(!l(t))return!1;var e=f(t);return h(L,e)||h(M,e)},U=function(t){if(j(t))return t;throw x("Target is not a typed array")},q=function(t){if(c(t)&&(!_||y(C,t)))return t;throw x(p(t)+" is not a typed array constructor")},V=function(t,e,n,r){if(s){if(n)for(var i in L){var o=u[i];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(a){try{o.prototype[t]=e}catch(c){}}}k[t]&&!n||v(k,t,n?e:P&&I[t]||e,r)}},B=function(t,e,n){var r,i;if(s){if(_){if(n)for(r in L)if(i=u[r],i&&h(i,t))try{delete i[t]}catch(o){}if(C[t]&&!n)return;try{return v(C,t,n?e:P&&C[t]||e)}catch(o){}}for(r in L)i=u[r],!i||i[t]&&!n||v(i,t,e)}};for(r in L)i=u[r],o=i&&i.prototype,o?d(o,O,i):P=!1;for(r in M)i=u[r],o=i&&i.prototype,o&&d(o,O,i);if((!P||!c(C)||C===Function.prototype)&&(C=function(){throw x("Incorrect invocation")},P))for(r in L)u[r]&&_(u[r],C);if((!P||!k||k===A)&&(k=C.prototype,P))for(r in L)u[r]&&_(u[r].prototype,k);if(P&&m(S)!==k&&_(S,k),s&&!h(k,N))for(r in D=!0,g(k,N,{get:function(){return l(this)?this[R]:void 0}}),L)u[r]&&d(u[r],R,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_CONSTRUCTOR:O,TYPED_ARRAY_TAG:D&&R,aTypedArray:U,aTypedArrayConstructor:q,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:B,isView:F,isTypedArray:j,TypedArray:C,TypedArrayPrototype:k}},3331:function(t,e,n){"use strict";var r=n(7854),i=n(1702),o=n(9781),a=n(4019),s=n(6530),u=n(8880),c=n(2248),l=n(7293),h=n(5787),f=n(9303),p=n(7466),d=n(7067),v=n(1179),g=n(9518),y=n(7674),m=n(8006).f,_=n(3070).f,b=n(1285),w=n(1589),E=n(8003),I=n(9909),T=s.PROPER,S=s.CONFIGURABLE,C=I.get,k=I.set,A="ArrayBuffer",x="DataView",N="prototype",R="Wrong length",O="Wrong index",P=r[A],D=P,L=D&&D[N],M=r[x],F=M&&M[N],j=Object.prototype,U=r.Array,q=r.RangeError,V=i(b),B=i([].reverse),K=v.pack,H=v.unpack,W=function(t){return[255&t]},z=function(t){return[255&t,t>>8&255]},G=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},$=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Q=function(t){return K(t,23,4)},Y=function(t){return K(t,52,8)},X=function(t,e){_(t[N],e,{get:function(){return C(this)[e]}})},J=function(t,e,n,r){var i=d(n),o=C(t);if(i+e>o.byteLength)throw q(O);var a=C(o.buffer).bytes,s=i+o.byteOffset,u=w(a,s,s+e);return r?u:B(u)},Z=function(t,e,n,r,i,o){var a=d(n),s=C(t);if(a+e>s.byteLength)throw q(O);for(var u=C(s.buffer).bytes,c=a+s.byteOffset,l=r(+i),h=0;h<e;h++)u[c+h]=l[o?h:e-h-1]};if(a){var tt=T&&P.name!==A;if(l((function(){P(1)}))&&l((function(){new P(-1)}))&&!l((function(){return new P,new P(1.5),new P(NaN),tt&&!S})))tt&&S&&u(P,"name",A);else{D=function(t){return h(this,L),new P(d(t))},D[N]=L;for(var et,nt=m(P),rt=0;nt.length>rt;)(et=nt[rt++])in D||u(D,et,P[et]);L.constructor=D}y&&g(F)!==j&&y(F,j);var it=new M(new D(2)),ot=i(F.setInt8);it.setInt8(0,2147483648),it.setInt8(1,2147483649),!it.getInt8(0)&&it.getInt8(1)||c(F,{setInt8:function(t,e){ot(this,t,e<<24>>24)},setUint8:function(t,e){ot(this,t,e<<24>>24)}},{unsafe:!0})}else D=function(t){h(this,L);var e=d(t);k(this,{bytes:V(U(e),0),byteLength:e}),o||(this.byteLength=e)},L=D[N],M=function(t,e,n){h(this,F),h(t,L);var r=C(t).byteLength,i=f(e);if(i<0||i>r)throw q("Wrong offset");if(n=void 0===n?r-i:p(n),i+n>r)throw q(R);k(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},F=M[N],o&&(X(D,"byteLength"),X(M,"buffer"),X(M,"byteLength"),X(M,"byteOffset")),c(F,{getInt8:function(t){return J(this,1,t)[0]<<24>>24},getUint8:function(t){return J(this,1,t)[0]},getInt16:function(t){var e=J(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=J(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return $(J(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return $(J(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return H(J(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return H(J(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Z(this,1,t,W,e)},setUint8:function(t,e){Z(this,1,t,W,e)},setInt16:function(t,e){Z(this,2,t,z,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Z(this,2,t,z,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Z(this,4,t,G,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Z(this,4,t,G,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Z(this,4,t,Q,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Z(this,8,t,Y,e,arguments.length>2?arguments[2]:void 0)}});E(D,A),E(M,x),t.exports={ArrayBuffer:D,DataView:M}},1048:function(t,e,n){"use strict";var r=n(7908),i=n(1400),o=n(6244),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n),u=i(t,s),c=i(e,s),l=arguments.length>2?arguments[2]:void 0,h=a((void 0===l?s:i(l,s))-c,s-u),f=1;c<u&&u<c+h&&(f=-1,c+=h-1,u+=h-1);while(h-- >0)c in n?n[u]=n[c]:delete n[u],u+=f,c+=f;return n}},1285:function(t,e,n){"use strict";var r=n(7908),i=n(1400),o=n(6244);t.exports=function(t){var e=r(this),n=o(e),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);while(c>s)e[s++]=t;return e}},8533:function(t,e,n){"use strict";var r=n(2092).forEach,i=n(9341),o=i("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},7745:function(t,e,n){var r=n(6244);t.exports=function(t,e){var n=0,i=r(e),o=new t(i);while(i>n)o[n]=e[n++];return o}},8457:function(t,e,n){"use strict";var r=n(7854),i=n(9974),o=n(6916),a=n(7908),s=n(3411),u=n(7659),c=n(4411),l=n(6244),h=n(6135),f=n(8554),p=n(1246),d=r.Array;t.exports=function(t){var e=a(t),n=c(this),r=arguments.length,v=r>1?arguments[1]:void 0,g=void 0!==v;g&&(v=i(v,r>2?arguments[2]:void 0));var y,m,_,b,w,E,I=p(e),T=0;if(!I||this==d&&u(I))for(y=l(e),m=n?new this(y):d(y);y>T;T++)E=g?v(e[T],T):e[T],h(m,T,E);else for(b=f(e,I),w=b.next,m=n?new this:[];!(_=o(w,b)).done;T++)E=g?s(b,v,[_.value,T],!0):_.value,h(m,T,E);return m.length=T,m}},1318:function(t,e,n){var r=n(5656),i=n(1400),o=n(6244),a=function(t){return function(e,n,a){var s,u=r(e),c=o(u),l=i(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:function(t,e,n){var r=n(9974),i=n(1702),o=n(8361),a=n(7908),s=n(6244),u=n(5417),c=i([].push),l=function(t){var e=1==t,n=2==t,i=3==t,l=4==t,h=6==t,f=7==t,p=5==t||h;return function(d,v,g,y){for(var m,_,b=a(d),w=o(b),E=r(v,g),I=s(w),T=0,S=y||u,C=e?S(d,I):n||f?S(d,0):void 0;I>T;T++)if((p||T in w)&&(m=w[T],_=E(m,T,b),t))if(e)C[T]=_;else if(_)switch(t){case 3:return!0;case 5:return m;case 6:return T;case 2:c(C,m)}else switch(t){case 4:return!1;case 7:c(C,m)}return h?-1:i||l?l:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:function(t,e,n){"use strict";var r=n(2104),i=n(5656),o=n(9303),a=n(6244),s=n(9341),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,h=s("lastIndexOf"),f=l||!h;t.exports=f?function(t){if(l)return r(c,this,arguments)||0;var e=i(this),n=a(e),s=n-1;for(arguments.length>1&&(s=u(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:c},1194:function(t,e,n){var r=n(7293),i=n(5112),o=n(7392),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,n){"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},3671:function(t,e,n){var r=n(7854),i=n(9662),o=n(7908),a=n(8361),s=n(6244),u=r.TypeError,c=function(t){return function(e,n,r,c){i(n);var l=o(e),h=a(l),f=s(l),p=t?f-1:0,d=t?-1:1;if(r<2)while(1){if(p in h){c=h[p],p+=d;break}if(p+=d,t?p<0:f<=p)throw u("Reduce of empty array with no initial value")}for(;t?p>=0:f>p;p+=d)p in h&&(c=n(c,h[p],p,l));return c}};t.exports={left:c(!1),right:c(!0)}},1589:function(t,e,n){var r=n(7854),i=n(1400),o=n(6244),a=n(6135),s=r.Array,u=Math.max;t.exports=function(t,e,n){for(var r=o(t),c=i(e,r),l=i(void 0===n?r:n,r),h=s(u(l-c,0)),f=0;c<l;c++,f++)a(h,f,t[c]);return h.length=f,h}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},4362:function(t,e,n){var r=n(1589),i=Math.floor,o=function(t,e){var n=t.length,u=i(n/2);return n<8?a(t,e):s(t,o(r(t,0,u),e),o(r(t,u),e),e)},a=function(t,e){var n,r,i=t.length,o=1;while(o<i){r=o,n=t[o];while(r&&e(t[r-1],n)>0)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},s=function(t,e,n,r){var i=e.length,o=n.length,a=0,s=0;while(a<i||s<o)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t};t.exports=o},7475:function(t,e,n){var r=n(7854),i=n(3157),o=n(4411),a=n(111),s=n(5112),u=s("species"),c=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,o(e)&&(e===c||i(e.prototype))?e=void 0:a(e)&&(e=e[u],null===e&&(e=void 0))),void 0===e?c:e}},5417:function(t,e,n){var r=n(7475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},4170:function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[e.charAt(r)]=r;t.exports={itoc:e,ctoi:n}},3411:function(t,e,n){var r=n(9670),i=n(9212);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(a){i(t,"throw",a)}}},7072:function(t,e,n){var r=n(5112),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(u){}return n}},4326:function(t,e,n){var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:function(t,e,n){var r=n(7854),i=n(1694),o=n(614),a=n(4326),s=n(5112),u=s("toStringTag"),c=r.Object,l="Arguments"==a(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(n){}};t.exports=i?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=h(e=c(t),u))?n:l?a(e):"Object"==(r=a(e))&&o(e.callee)?"Arguments":r}},7741:function(t,e,n){var r=n(1702),i=r("".replace),o=function(t){return String(Error(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,s=a.test(o);t.exports=function(t,e){if(s&&"string"==typeof t)while(e--)t=i(t,a,"");return t}},5631:function(t,e,n){"use strict";var r=n(3070).f,i=n(30),o=n(2248),a=n(9974),s=n(5787),u=n(408),c=n(654),l=n(6340),h=n(9781),f=n(2423).fastKey,p=n(9909),d=p.set,v=p.getterFor;t.exports={getConstructor:function(t,e,n,c){var l=t((function(t,r){s(t,p),d(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),void 0!=r&&u(r,t[c],{that:t,AS_ENTRIES:n})})),p=l.prototype,g=v(e),y=function(t,e,n){var r,i,o=g(t),a=m(t,e);return a?a.value=n:(o.last=a={index:i=f(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),h?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},m=function(t,e){var n,r=g(t),i=f(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(p,{clear:function(){var t=this,e=g(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:t.size=0},delete:function(t){var e=this,n=g(e),r=m(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),h?n.size--:e.size--}return!!r},forEach:function(t){var e,n=g(this),r=a(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),o(p,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),h&&r(p,"size",{get:function(){return g(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",i=v(e),o=v(r);c(t,e,(function(t,e){d(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},9320:function(t,e,n){"use strict";var r=n(1702),i=n(2248),o=n(2423).getWeakData,a=n(9670),s=n(111),u=n(5787),c=n(408),l=n(2092),h=n(2597),f=n(9909),p=f.set,d=f.getterFor,v=l.find,g=l.findIndex,y=r([].splice),m=0,_=function(t){return t.frozen||(t.frozen=new b)},b=function(){this.entries=[]},w=function(t,e){return v(t.entries,(function(t){return t[0]===e}))};b.prototype={get:function(t){var e=w(this,t);if(e)return e[1]},has:function(t){return!!w(this,t)},set:function(t,e){var n=w(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&y(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var l=t((function(t,i){u(t,f),p(t,{type:e,id:m++,frozen:void 0}),void 0!=i&&c(i,t[r],{that:t,AS_ENTRIES:n})})),f=l.prototype,v=d(e),g=function(t,e,n){var r=v(t),i=o(a(e),!0);return!0===i?_(r).set(e,n):i[r.id]=n,t};return i(f,{delete:function(t){var e=v(this);if(!s(t))return!1;var n=o(t);return!0===n?_(e)["delete"](t):n&&h(n,e.id)&&delete n[e.id]},has:function(t){var e=v(this);if(!s(t))return!1;var n=o(t);return!0===n?_(e).has(t):n&&h(n,e.id)}}),i(f,n?{get:function(t){var e=v(this);if(s(t)){var n=o(t);return!0===n?_(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),l}}},7710:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(1702),a=n(4705),s=n(1320),u=n(2423),c=n(408),l=n(5787),h=n(614),f=n(111),p=n(7293),d=n(7072),v=n(8003),g=n(9587);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),_=y?"set":"add",b=i[t],w=b&&b.prototype,E=b,I={},T=function(t){var e=o(w[t]);s(w,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!f(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return m&&!f(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!f(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},S=a(t,!h(b)||!(m||w.forEach&&!p((function(){(new b).entries().next()}))));if(S)E=n.getConstructor(e,t,y,_),u.enable();else if(a(t,!0)){var C=new E,k=C[_](m?{}:-0,1)!=C,A=p((function(){C.has(1)})),x=d((function(t){new b(t)})),N=!m&&p((function(){var t=new b,e=5;while(e--)t[_](e,e);return!t.has(-0)}));x||(E=e((function(t,e){l(t,w);var n=g(new b,t,E);return void 0!=e&&c(e,n[_],{that:n,AS_ENTRIES:y}),n})),E.prototype=w,w.constructor=E),(A||N)&&(T("delete"),T("has"),y&&T("get")),(N||k)&&T(_),m&&w.clear&&delete w.clear}return I[t]=E,r({global:!0,forced:E!=b},I),v(E,t),m||n.setStrong(E,t,y),E}},9920:function(t,e,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e,n){for(var s=i(e),u=a.f,c=o.f,l=0;l<s.length;l++){var h=s[l];r(t,h)||n&&r(n,h)||u(t,h,c(e,h))}}},4964:function(t,e,n){var r=n(5112),i=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(r){}}return!1}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4230:function(t,e,n){var r=n(1702),i=n(4488),o=n(1340),a=/"/g,s=r("".replace);t.exports=function(t,e,n,r){var u=o(i(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+s(o(r),a,"&quot;")+'"'),c+">"+u+"</"+e+">"}},4994:function(t,e,n){"use strict";var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),a=n(8003),s=n(7497),u=function(){return this};t.exports=function(t,e,n,c){var l=e+" Iterator";return t.prototype=i(r,{next:o(+!c,n)}),a(t,l,!1,!0),s[l]=u,t}},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var r=n(4948),i=n(3070),o=n(9114);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},654:function(t,e,n){"use strict";var r=n(2109),i=n(6916),o=n(1913),a=n(6530),s=n(614),u=n(4994),c=n(9518),l=n(7674),h=n(8003),f=n(8880),p=n(1320),d=n(5112),v=n(7497),g=n(3383),y=a.PROPER,m=a.CONFIGURABLE,_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,w=d("iterator"),E="keys",I="values",T="entries",S=function(){return this};t.exports=function(t,e,n,a,d,g,C){u(n,e,a);var k,A,x,N=function(t){if(t===d&&L)return L;if(!b&&t in P)return P[t];switch(t){case E:return function(){return new n(this,t)};case I:return function(){return new n(this,t)};case T:return function(){return new n(this,t)}}return function(){return new n(this)}},R=e+" Iterator",O=!1,P=t.prototype,D=P[w]||P["@@iterator"]||d&&P[d],L=!b&&D||N(d),M="Array"==e&&P.entries||D;if(M&&(k=c(M.call(new t)),k!==Object.prototype&&k.next&&(o||c(k)===_||(l?l(k,_):s(k[w])||p(k,w,S)),h(k,R,!0,!0),o&&(v[R]=S))),y&&d==I&&D&&D.name!==I&&(!o&&m?f(P,"name",I):(O=!0,L=function(){return i(D,this)})),d)if(A={values:N(I),keys:g?L:N(E),entries:N(T)},C)for(x in A)(b||O||!(x in P))&&p(P,x,A[x]);else r({target:e,proto:!0,forced:b||O},A);return o&&!C||P[w]===L||p(P,w,L,{name:d}),v[e]=L,A}},7235:function(t,e,n){var r=n(857),i=n(2597),o=n(6061),a=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,e,n){var r=n(317),i=r("span").classList,o=i&&i.constructor&&i.constructor.prototype;t.exports=o===Object.prototype?void 0:o},8886:function(t,e,n){var r=n(8113),i=r.match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},7871:function(t){t.exports="object"==typeof window},256:function(t,e,n){var r=n(8113);t.exports=/MSIE|Trident/.test(r)},1528:function(t,e,n){var r=n(8113),i=n(7854);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},6833:function(t,e,n){var r=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(t,e,n){var r=n(4326),i=n(7854);t.exports="process"==r(i.process)},1036:function(t,e,n){var r=n(8113);t.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,i,o=n(7854),a=n(8113),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},8008:function(t,e,n){var r=n(8113),i=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(t,e,n){var r=n(7293),i=n(9114);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},7762:function(t,e,n){"use strict";var r=n(9781),i=n(7293),o=n(9670),a=n(30),s=n(6277),u=Error.prototype.toString,c=i((function(){if(r){var t=a(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==u.call(t))return!0}return"2: 1"!==u.call({message:1,name:2})||"Error"!==u.call({})}));t.exports=c?function(){var t=o(this),e=s(t.name,"Error"),n=s(t.message);return e?n?e+": "+n:e:n}:u},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(1320),s=n(3505),u=n(9920),c=n(4705);t.exports=function(t,e){var n,l,h,f,p,d,v=t.target,g=t.global,y=t.stat;if(l=g?r:y?r[v]||s(v,{}):(r[v]||{}).prototype,l)for(h in e){if(p=e[h],t.noTargetGet?(d=i(l,h),f=d&&d.value):f=l[h],n=c(g?h:v+(y?".":"#")+h,t.forced),!n&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(t.sham||f&&f.sham)&&o(p,"sham",!0),a(l,h,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},7007:function(t,e,n){"use strict";n(4916);var r=n(1702),i=n(1320),o=n(2261),a=n(7293),s=n(5112),u=n(8880),c=s("species"),l=RegExp.prototype;t.exports=function(t,e,n,h){var f=s(t),p=!a((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=p&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!p||!d||n){var v=r(/./[f]),g=e(f,""[t],(function(t,e,n,i,a){var s=r(t),u=e.exec;return u===o||u===l.exec?p&&!a?{done:!0,value:v(e,n,i)}:{done:!0,value:s(n,e,i)}:{done:!1}}));i(String.prototype,t,g[0]),i(l,f,g[1])}h&&u(l[f],"sham",!0)}},6677:function(t,e,n){var r=n(7293);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},9974:function(t,e,n){var r=n(1702),i=n(9662),o=n(4374),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},1702:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),i=n(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},1246:function(t,e,n){var r=n(648),i=n(8173),o=n(7497),a=n(5112),s=a("iterator");t.exports=function(t){if(void 0!=t)return i(t,s)||i(t,"@@iterator")||o[r(t)]}},8554:function(t,e,n){var r=n(7854),i=n(6916),o=n(9662),a=n(9670),s=n(6330),u=n(1246),c=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(o(n))return a(i(n,t));throw c(s(t)+" is not iterable")}},8173:function(t,e,n){var r=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},647:function(t,e,n){var r=n(1702),i=n(7908),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,h,f){var p=n+t.length,d=r.length,v=l;return void 0!==h&&(h=i(h),v=c),s(f,v,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,p);case"<":c=h[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>d){var f=o(l/10);return 0===f?i:f<=d?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:function(t){t.exports={}},842:function(t,e,n){var r=n(7854);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1179:function(t,e,n){var r=n(7854),i=r.Array,o=Math.abs,a=Math.pow,s=Math.floor,u=Math.log,c=Math.LN2,l=function(t,e,n){var r,l,h,f=i(n),p=8*n-e-1,d=(1<<p)-1,v=d>>1,g=23===e?a(2,-24)-a(2,-77):0,y=t<0||0===t&&1/t<0?1:0,m=0;t=o(t),t!=t||t===1/0?(l=t!=t?1:0,r=d):(r=s(u(t)/c),h=a(2,-r),t*h<1&&(r--,h*=2),t+=r+v>=1?g/h:g*a(2,1-v),t*h>=2&&(r++,h/=2),r+v>=d?(l=0,r=d):r+v>=1?(l=(t*h-1)*a(2,e),r+=v):(l=t*a(2,v-1)*a(2,e),r=0));while(e>=8)f[m++]=255&l,l/=256,e-=8;r=r<<e|l,p+=e;while(p>0)f[m++]=255&r,r/=256,p-=8;return f[--m]|=128*y,f},h=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,s=o>>1,u=i-7,c=r-1,l=t[c--],h=127&l;l>>=7;while(u>0)h=256*h+t[c--],u-=8;n=h&(1<<-u)-1,h>>=-u,u+=e;while(u>0)n=256*n+t[c--],u-=8;if(0===h)h=1-s;else{if(h===o)return n?NaN:l?-1/0:1/0;n+=a(2,e),h-=s}return(l?-1:1)*n*a(2,h-e)};t.exports={pack:l,unpack:h}},8361:function(t,e,n){var r=n(7854),i=n(1702),o=n(7293),a=n(4326),s=r.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},9587:function(t,e,n){var r=n(614),i=n(111),o=n(7674);t.exports=function(t,e,n){var a,s;return o&&r(a=e.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(t,s),t}},2788:function(t,e,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},8340:function(t,e,n){var r=n(111),i=n(8880);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},2423:function(t,e,n){var r=n(2109),i=n(1702),o=n(3501),a=n(111),s=n(2597),u=n(3070).f,c=n(8006),l=n(1156),h=n(2050),f=n(9711),p=n(6677),d=!1,v=f("meta"),g=0,y=function(t){u(t,v,{value:{objectID:"O"+g++,weakData:{}}})},m=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,v)){if(!h(t))return"F";if(!e)return"E";y(t)}return t[v].objectID},_=function(t,e){if(!s(t,v)){if(!h(t))return!0;if(!e)return!1;y(t)}return t[v].weakData},b=function(t){return p&&d&&h(t)&&!s(t,v)&&y(t),t},w=function(){E.enable=function(){},d=!0;var t=c.f,e=i([].splice),n={};n[v]=1,t(n).length&&(c.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===v){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},E=t.exports={enable:w,fastKey:m,getWeakData:_,onFreeze:b};o[v]=!0},9909:function(t,e,n){var r,i,o,a=n(8536),s=n(7854),u=n(1702),c=n(111),l=n(8880),h=n(2597),f=n(5465),p=n(6200),d=n(3501),v="Object already initialized",g=s.TypeError,y=s.WeakMap,m=function(t){return o(t)?i(t):r(t,{})},_=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}};if(a||f.state){var b=f.state||(f.state=new y),w=u(b.get),E=u(b.has),I=u(b.set);r=function(t,e){if(E(b,t))throw new g(v);return e.facade=t,I(b,t,e),e},i=function(t){return w(b,t)||{}},o=function(t){return E(b,t)}}else{var T=p("state");d[T]=!0,r=function(t,e){if(h(t,T))throw new g(v);return e.facade=t,l(t,T,e),e},i=function(t){return h(t,T)?t[T]:{}},o=function(t){return h(t,T)}}t.exports={set:r,get:i,has:o,enforce:m,getterFor:_}},7659:function(t,e,n){var r=n(5112),i=n(7497),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},614:function(t){t.exports=function(t){return"function"==typeof t}},4411:function(t,e,n){var r=n(1702),i=n(7293),o=n(614),a=n(648),s=n(5005),u=n(2788),c=function(){},l=[],h=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),d=!f.exec(c),v=function(t){if(!o(t))return!1;try{return h(c,l,t),!0}catch(e){return!1}},g=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!p(f,u(t))}catch(e){return!0}};g.sham=!0,t.exports=!h||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?g:v},4705:function(t,e,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==l||n!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},5988:function(t,e,n){var r=n(111),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},111:function(t,e,n){var r=n(614);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},7850:function(t,e,n){var r=n(111),i=n(4326),o=n(5112),a=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},2190:function(t,e,n){var r=n(7854),i=n(5005),o=n(614),a=n(7976),s=n(3307),u=r.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},408:function(t,e,n){var r=n(7854),i=n(9974),o=n(6916),a=n(9670),s=n(6330),u=n(7659),c=n(6244),l=n(7976),h=n(8554),f=n(1246),p=n(9212),d=r.TypeError,v=function(t,e){this.stopped=t,this.result=e},g=v.prototype;t.exports=function(t,e,n){var r,y,m,_,b,w,E,I=n&&n.that,T=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),k=i(e,I),A=function(t){return r&&p(r,"normal",t),new v(!0,t)},x=function(t){return T?(a(t),C?k(t[0],t[1],A):k(t[0],t[1])):C?k(t,A):k(t)};if(S)r=t;else{if(y=f(t),!y)throw d(s(t)+" is not iterable");if(u(y)){for(m=0,_=c(t);_>m;m++)if(b=x(t[m]),b&&l(g,b))return b;return new v(!1)}r=h(t,y)}w=r.next;while(!(E=o(w,r)).done){try{b=x(E.value)}catch(N){p(r,"throw",N)}if("object"==typeof b&&b&&l(g,b))return b}return new v(!1)}},9212:function(t,e,n){var r=n(6916),i=n(9670),o=n(8173);t.exports=function(t,e,n){var a,s;i(t);try{if(a=o(t,"return"),!a){if("throw"===e)throw n;return n}a=r(a,t)}catch(u){s=!0,a=u}if("throw"===e)throw n;if(s)throw a;return i(a),n}},3383:function(t,e,n){"use strict";var r,i,o,a=n(7293),s=n(614),u=n(30),c=n(9518),l=n(1320),h=n(5112),f=n(1913),p=h("iterator"),d=!1;[].keys&&(o=[].keys(),"next"in o?(i=c(c(o)),i!==Object.prototype&&(r=i)):d=!0);var v=void 0==r||a((function(){var t={};return r[p].call(t)!==t}));v?r={}:f&&(r=u(r)),s(r[p])||l(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},7497:function(t){t.exports={}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},5948:function(t,e,n){var r,i,o,a,s,u,c,l,h=n(7854),f=n(9974),p=n(1236).f,d=n(261).set,v=n(6833),g=n(1528),y=n(1036),m=n(5268),_=h.MutationObserver||h.WebKitMutationObserver,b=h.document,w=h.process,E=h.Promise,I=p(h,"queueMicrotask"),T=I&&I.value;T||(r=function(){var t,e;m&&(t=w.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(n){throw i?a():o=void 0,n}}o=void 0,t&&t.enter()},v||m||y||!_||!b?!g&&E&&E.resolve?(c=E.resolve(void 0),c.constructor=E,l=f(c.then,c),a=function(){l(r)}):m?a=function(){w.nextTick(r)}:(d=f(d,h),a=function(){d(r)}):(s=!0,u=b.createTextNode(""),new _(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=T||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},3366:function(t,e,n){var r=n(7854);t.exports=r.Promise},133:function(t,e,n){var r=n(7392),i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},590:function(t,e,n){var r=n(7293),i=n(5112),o=n(1913),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e["delete"]("b"),n+=r+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:function(t,e,n){var r=n(7854),i=n(614),o=n(2788),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},8523:function(t,e,n){"use strict";var r=n(9662),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},6277:function(t,e,n){var r=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},3929:function(t,e,n){var r=n(7854),i=n(7850),o=r.TypeError;t.exports=function(t){if(i(t))throw o("The method doesn't accept regular expressions");return t}},7023:function(t,e,n){var r=n(7854),i=r.isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&i(t)}},1574:function(t,e,n){"use strict";var r=n(9781),i=n(1702),o=n(6916),a=n(7293),s=n(1956),u=n(5181),c=n(5296),l=n(7908),h=n(8361),f=Object.assign,p=Object.defineProperty,d=i([].concat);t.exports=!f||a((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||s(f({},e)).join("")!=i}))?function(t,e){var n=l(t),i=arguments.length,a=1,f=u.f,p=c.f;while(i>a){var v,g=h(arguments[a++]),y=f?d(s(g),f(g)):s(g),m=y.length,_=0;while(m>_)v=y[_++],r&&!o(p,g,v)||(n[v]=g[v])}return n}:f},30:function(t,e,n){var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),u=n(490),c=n(317),l=n(6200),h=">",f="<",p="prototype",d="script",v=l("IE_PROTO"),g=function(){},y=function(t){return f+d+h+t+f+"/"+d+h},m=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=c("iframe"),n="java"+d+":";return e.style.display="none",u.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(y("document.F=Object")),t.close(),t.F},b=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}b="undefined"!=typeof document?document.domain&&r?m(r):_():m(r);var t=a.length;while(t--)delete b[p][a[t]];return b()};s[v]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[p]=i(t),n=new g,g[p]=null,n[v]=t):n=b(),void 0===e?n:o.f(n,e)}},6048:function(t,e,n){var r=n(9781),i=n(3353),o=n(3070),a=n(9670),s=n(5656),u=n(1956);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);var n,r=s(e),i=u(e),c=i.length,l=0;while(c>l)o.f(t,n=i[l++],r[n]);return t}},3070:function(t,e,n){var r=n(7854),i=n(9781),o=n(4664),a=n(3353),s=n(9670),u=n(4948),c=r.TypeError,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f="enumerable",p="configurable",d="writable";e.f=i?a?function(t,e,n){if(s(t),e=u(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=h(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:f in n?n[f]:r[f],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=u(e),s(n),o)try{return l(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),u=n(4948),c=n(2597),l=n(4664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=s(t),e=u(e),l)try{return h(t,e)}catch(n){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},1156:function(t,e,n){var r=n(4326),i=n(5656),o=n(8006).f,a=n(1589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return o(t)}catch(e){return a(s)}};t.exports.f=function(t){return s&&"Window"==r(t)?u(t):o(i(t))}},8006:function(t,e,n){var r=n(6324),i=n(748),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(7854),i=n(2597),o=n(614),a=n(7908),s=n(6200),u=n(8544),c=s("IE_PROTO"),l=r.Object,h=l.prototype;t.exports=u?l.getPrototypeOf:function(t){var e=a(t);if(i(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof l?h:null}},2050:function(t,e,n){var r=n(7293),i=n(111),o=n(4326),a=n(7556),s=Object.isExtensible,u=r((function(){s(1)}));t.exports=u||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!=o(t))&&(!s||s(t)))}:s},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);while(e.length>c)i(r,n=e[c++])&&(~a(l,n)||u(l,n));return l}},1956:function(t,e,n){var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(1702),i=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},4699:function(t,e,n){var r=n(9781),i=n(1702),o=n(1956),a=n(5656),s=n(5296).f,u=i(s),c=i([].push),l=function(t){return function(e){var n,i=a(e),s=o(i),l=s.length,h=0,f=[];while(l>h)n=s[h++],r&&!u(i,n)||c(f,t?[n,i[n]]:i[n]);return f}};t.exports={entries:l(!0),values:l(!1)}},288:function(t,e,n){"use strict";var r=n(1694),i=n(648);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:function(t,e,n){var r=n(7854),i=n(6916),o=n(614),a=n(111),s=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!a(r=i(n,t)))return r;if(o(n=t.valueOf)&&!a(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!a(r=i(n,t)))return r;throw s("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?u(e,n(t)):e}},857:function(t,e,n){var r=n(7854);t.exports=r},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},9478:function(t,e,n){var r=n(9670),i=n(111),o=n(8523);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},8572:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},2248:function(t,e,n){var r=n(1320);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},1320:function(t,e,n){var r=n(7854),i=n(614),o=n(2597),a=n(8880),s=n(3505),u=n(2788),c=n(9909),l=n(6530).CONFIGURABLE,h=c.get,f=c.enforce,p=String(String).split("String");(t.exports=function(t,e,n,u){var c,h=!!u&&!!u.unsafe,d=!!u&&!!u.enumerable,v=!!u&&!!u.noTargetGet,g=u&&void 0!==u.name?u.name:e;i(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==g)&&a(n,"name",g),c=f(n),c.source||(c.source=p.join("string"==typeof g?g:""))),t!==r?(h?!v&&t[e]&&(d=!0):delete t[e],d?t[e]=n:a(t,e,n)):d?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return i(this)&&h(this).source||u(this)}))},7651:function(t,e,n){var r=n(7854),i=n(6916),o=n(9670),a=n(614),s=n(4326),u=n(2261),c=r.TypeError;t.exports=function(t,e){var n=t.exec;if(a(n)){var r=i(n,t,e);return null!==r&&o(r),r}if("RegExp"===s(t))return i(u,t,e);throw c("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){"use strict";var r=n(6916),i=n(1702),o=n(1340),a=n(7066),s=n(2999),u=n(2309),c=n(30),l=n(9909).get,h=n(9441),f=n(7168),p=u("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,v=d,g=i("".charAt),y=i("".indexOf),m=i("".replace),_=i("".slice),b=function(){var t=/a/,e=/b*/g;return r(d,t,"a"),r(d,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),w=s.BROKEN_CARET,E=void 0!==/()??/.exec("")[1],I=b||E||w||h||f;I&&(v=function(t){var e,n,i,s,u,h,f,I=this,T=l(I),S=o(t),C=T.raw;if(C)return C.lastIndex=I.lastIndex,e=r(v,C,S),I.lastIndex=C.lastIndex,e;var k=T.groups,A=w&&I.sticky,x=r(a,I),N=I.source,R=0,O=S;if(A&&(x=m(x,"y",""),-1===y(x,"g")&&(x+="g"),O=_(S,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==g(S,I.lastIndex-1))&&(N="(?: "+N+")",O=" "+O,R++),n=new RegExp("^(?:"+N+")",x)),E&&(n=new RegExp("^"+N+"$(?!\\s)",x)),b&&(i=I.lastIndex),s=r(d,A?n:I,O),A?s?(s.input=_(s.input,R),s[0]=_(s[0],R),s.index=I.lastIndex,I.lastIndex+=s[0].length):I.lastIndex=0:b&&s&&(I.lastIndex=I.global?s.index+s[0].length:i),E&&s&&s.length>1&&r(p,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&k)for(s.groups=h=c(null),u=0;u<k.length;u++)f=k[u],h[f[0]]=s[f[1]];return s}),t.exports=v},7066:function(t,e,n){"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,n){var r=n(7293),i=n(7854),o=i.RegExp,a=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=a||r((function(){return!o("a","y").sticky})),u=a||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:u,MISSED_STICKY:s,UNSUPPORTED_Y:a}},9441:function(t,e,n){var r=n(7293),i=n(7854),o=i.RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:function(t,e,n){var r=n(7293),i=n(7854),o=i.RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t,e,n){var r=n(7854),i=r.TypeError;t.exports=function(t){if(void 0==t)throw i("Can't call method on "+t);return t}},1150:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},3505:function(t,e,n){var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6340:function(t,e,n){"use strict";var r=n(5005),i=n(3070),o=n(5112),a=n(9781),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var r=n(3070).f,i=n(2597),o=n(5112),a=o("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,a)&&r(t,a,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3505),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(t,e,n){var r=n(9670),i=n(9483),o=n(5112),a=o("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},3429:function(t,e,n){var r=n(7293);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},8710:function(t,e,n){var r=n(1702),i=n(9303),o=n(1340),a=n(4488),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(t){return function(e,n){var r,l,h=o(a(e)),f=i(n),p=h.length;return f<0||f>=p?t?"":void 0:(r=u(h,f),r<55296||r>56319||f+1===p||(l=u(h,f+1))<56320||l>57343?t?s(h,f):r:t?c(h,f,f+2):l-56320+(r-55296<<10)+65536)}};t.exports={codeAt:l(!1),charAt:l(!0)}},4986:function(t,e,n){var r=n(8113);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},6650:function(t,e,n){var r=n(1702),i=n(7466),o=n(1340),a=n(8415),s=n(4488),u=r(a),c=r("".slice),l=Math.ceil,h=function(t){return function(e,n,r){var a,h,f=o(s(e)),p=i(n),d=f.length,v=void 0===r?" ":o(r);return p<=d||""==v?f:(a=p-d,h=u(v,l(a/v.length)),h.length>a&&(h=c(h,0,a)),t?f+h:h+f)}};t.exports={start:h(!1),end:h(!0)}},3197:function(t,e,n){"use strict";var r=n(7854),i=n(1702),o=2147483647,a=36,s=1,u=26,c=38,l=700,h=72,f=128,p="-",d=/[^\0-\u007E]/,v=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",y=a-s,m=r.RangeError,_=i(v.exec),b=Math.floor,w=String.fromCharCode,E=i("".charCodeAt),I=i([].join),T=i([].push),S=i("".replace),C=i("".split),k=i("".toLowerCase),A=function(t){var e=[],n=0,r=t.length;while(n<r){var i=E(t,n++);if(i>=55296&&i<=56319&&n<r){var o=E(t,n++);56320==(64512&o)?T(e,((1023&i)<<10)+(1023&o)+65536):(T(e,i),n--)}else T(e,i)}return e},x=function(t){return t+22+75*(t<26)},N=function(t,e,n){var r=0;t=n?b(t/l):t>>1,t+=b(t/e);while(t>y*u>>1)t=b(t/y),r+=a;return b(r+(y+1)*t/(t+c))},R=function(t){var e=[];t=A(t);var n,r,i=t.length,c=f,l=0,d=h;for(n=0;n<t.length;n++)r=t[n],r<128&&T(e,w(r));var v=e.length,y=v;v&&T(e,p);while(y<i){var _=o;for(n=0;n<t.length;n++)r=t[n],r>=c&&r<_&&(_=r);var E=y+1;if(_-c>b((o-l)/E))throw m(g);for(l+=(_-c)*E,c=_,n=0;n<t.length;n++){if(r=t[n],r<c&&++l>o)throw m(g);if(r==c){var S=l,C=a;while(1){var k=C<=d?s:C>=d+u?u:C-d;if(S<k)break;var R=S-k,O=a-k;T(e,w(x(k+R%O))),S=b(R/O),C+=a}T(e,w(x(S))),d=N(l,E,y==v),l=0,y++}}l++,c++}return I(e,"")};t.exports=function(t){var e,n,r=[],i=C(S(k(t),v,"."),".");for(e=0;e<i.length;e++)n=i[e],T(r,_(d,n)?"xn--"+R(n):n);return I(r,".")}},8415:function(t,e,n){"use strict";var r=n(7854),i=n(9303),o=n(1340),a=n(4488),s=r.RangeError;t.exports=function(t){var e=o(a(this)),n="",r=i(t);if(r<0||r==1/0)throw s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},6091:function(t,e,n){var r=n(6530).PROPER,i=n(7293),o=n(1361),a="​᠎";t.exports=function(t){return i((function(){return!!o[t]()||a[t]()!==a||r&&o[t].name!==t}))}},3111:function(t,e,n){var r=n(1702),i=n(4488),o=n(1340),a=n(1361),s=r("".replace),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),h=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,c,"")),2&t&&(n=s(n,l,"")),n}};t.exports={start:h(1),end:h(2),trim:h(3)}},261:function(t,e,n){var r,i,o,a,s=n(7854),u=n(2104),c=n(9974),l=n(614),h=n(2597),f=n(7293),p=n(490),d=n(206),v=n(317),g=n(8053),y=n(6833),m=n(5268),_=s.setImmediate,b=s.clearImmediate,w=s.process,E=s.Dispatch,I=s.Function,T=s.MessageChannel,S=s.String,C=0,k={},A="onreadystatechange";try{r=s.location}catch(P){}var x=function(t){if(h(k,t)){var e=k[t];delete k[t],e()}},N=function(t){return function(){x(t)}},R=function(t){x(t.data)},O=function(t){s.postMessage(S(t),r.protocol+"//"+r.host)};_&&b||(_=function(t){g(arguments.length,1);var e=l(t)?t:I(t),n=d(arguments,1);return k[++C]=function(){u(e,void 0,n)},i(C),C},b=function(t){delete k[t]},m?i=function(t){w.nextTick(N(t))}:E&&E.now?i=function(t){E.now(N(t))}:T&&!y?(o=new T,a=o.port2,o.port1.onmessage=R,i=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(O)?(i=O,s.addEventListener("message",R,!1)):i=A in v("script")?function(t){p.appendChild(v("script"))[A]=function(){p.removeChild(this),x(t)}}:function(t){setTimeout(N(t),0)}),t.exports={set:_,clear:b}},863:function(t,e,n){var r=n(1702);t.exports=r(1..valueOf)},1400:function(t,e,n){var r=n(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},7067:function(t,e,n){var r=n(7854),i=n(9303),o=n(7466),a=r.RangeError;t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=o(e);if(e!==n)throw a("Wrong length or index");return n}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!==r||0===r?0:(r>0?n:e)(r)}},7466:function(t,e,n){var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(7854),i=n(4488),o=r.Object;t.exports=function(t){return o(i(t))}},4590:function(t,e,n){var r=n(7854),i=n(3002),o=r.RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw o("Wrong offset");return n}},3002:function(t,e,n){var r=n(7854),i=n(9303),o=r.RangeError;t.exports=function(t){var e=i(t);if(e<0)throw o("The argument can't be less than 0");return e}},7593:function(t,e,n){var r=n(7854),i=n(6916),o=n(111),a=n(2190),s=n(8173),u=n(2140),c=n(5112),l=r.TypeError,h=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var n,r=s(t,h);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){var r=n(5112),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},1340:function(t,e,n){var r=n(7854),i=n(648),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},4038:function(t,e,n){var r=n(5268);t.exports=function(t){try{if(r)return Function('return require("'+t+'")')()}catch(e){}}},6330:function(t,e,n){var r=n(7854),i=r.String;t.exports=function(t){try{return i(t)}catch(e){return"Object"}}},9843:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(6916),a=n(9781),s=n(3832),u=n(260),c=n(3331),l=n(5787),h=n(9114),f=n(8880),p=n(5988),d=n(7466),v=n(7067),g=n(4590),y=n(4948),m=n(2597),_=n(648),b=n(111),w=n(2190),E=n(30),I=n(7976),T=n(7674),S=n(8006).f,C=n(7321),k=n(2092).forEach,A=n(6340),x=n(3070),N=n(1236),R=n(9909),O=n(9587),P=R.get,D=R.set,L=x.f,M=N.f,F=Math.round,j=i.RangeError,U=c.ArrayBuffer,q=U.prototype,V=c.DataView,B=u.NATIVE_ARRAY_BUFFER_VIEWS,K=u.TYPED_ARRAY_CONSTRUCTOR,H=u.TYPED_ARRAY_TAG,W=u.TypedArray,z=u.TypedArrayPrototype,G=u.aTypedArrayConstructor,$=u.isTypedArray,Q="BYTES_PER_ELEMENT",Y="Wrong length",X=function(t,e){G(t);var n=0,r=e.length,i=new t(r);while(r>n)i[n]=e[n++];return i},J=function(t,e){L(t,e,{get:function(){return P(this)[e]}})},Z=function(t){var e;return I(q,t)||"ArrayBuffer"==(e=_(t))||"SharedArrayBuffer"==e},tt=function(t,e){return $(t)&&!w(e)&&e in t&&p(+e)&&e>=0},et=function(t,e){return e=y(e),tt(t,e)?h(2,t[e]):M(t,e)},nt=function(t,e,n){return e=y(e),!(tt(t,e)&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?L(t,e,n):(t[e]=n.value,t)};a?(B||(N.f=et,x.f=nt,J(z,"buffer"),J(z,"byteOffset"),J(z,"byteLength"),J(z,"length")),r({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:et,defineProperty:nt}),t.exports=function(t,e,n){var a=t.match(/\d+$/)[0]/8,u=t+(n?"Clamped":"")+"Array",c="get"+t,h="set"+t,p=i[u],y=p,m=y&&y.prototype,_={},w=function(t,e){var n=P(t);return n.view[c](e*a+n.byteOffset,!0)},I=function(t,e,r){var i=P(t);n&&(r=(r=F(r))<0?0:r>255?255:255&r),i.view[h](e*a+i.byteOffset,r,!0)},x=function(t,e){L(t,e,{get:function(){return w(this,e)},set:function(t){return I(this,e,t)},enumerable:!0})};B?s&&(y=e((function(t,e,n,r){return l(t,m),O(function(){return b(e)?Z(e)?void 0!==r?new p(e,g(n,a),r):void 0!==n?new p(e,g(n,a)):new p(e):$(e)?X(y,e):o(C,y,e):new p(v(e))}(),t,y)})),T&&T(y,W),k(S(p),(function(t){t in y||f(y,t,p[t])})),y.prototype=m):(y=e((function(t,e,n,r){l(t,m);var i,s,u,c=0,h=0;if(b(e)){if(!Z(e))return $(e)?X(y,e):o(C,y,e);i=e,h=g(n,a);var f=e.byteLength;if(void 0===r){if(f%a)throw j(Y);if(s=f-h,s<0)throw j(Y)}else if(s=d(r)*a,s+h>f)throw j(Y);u=s/a}else u=v(e),s=u*a,i=new U(s);D(t,{buffer:i,byteOffset:h,byteLength:s,length:u,view:new V(i)});while(c<u)x(t,c++)})),T&&T(y,W),m=y.prototype=E(z)),m.constructor!==y&&f(m,"constructor",y),f(m,K,y),H&&f(m,H,u),_[u]=y,r({global:!0,forced:y!=p,sham:!B},_),Q in y||f(y,Q,a),Q in m||f(m,Q,a),A(u)}):t.exports=function(){}},3832:function(t,e,n){var r=n(7854),i=n(7293),o=n(7072),a=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;t.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},3074:function(t,e,n){var r=n(7745),i=n(6304);t.exports=function(t,e){return r(i(t),e)}},7321:function(t,e,n){var r=n(9974),i=n(6916),o=n(9483),a=n(7908),s=n(6244),u=n(8554),c=n(1246),l=n(7659),h=n(260).aTypedArrayConstructor;t.exports=function(t){var e,n,f,p,d,v,g=o(this),y=a(t),m=arguments.length,_=m>1?arguments[1]:void 0,b=void 0!==_,w=c(y);if(w&&!l(w)){d=u(y,w),v=d.next,y=[];while(!(p=i(v,d)).done)y.push(p.value)}for(b&&m>2&&(_=r(_,arguments[2])),n=s(y),f=new(h(g))(n),e=0;n>e;e++)f[e]=b?_(y[e],e):y[e];return f}},6304:function(t,e,n){var r=n(260),i=n(6707),o=r.TYPED_ARRAY_CONSTRUCTOR,a=r.aTypedArrayConstructor;t.exports=function(t){return a(i(t,t[o]))}},9711:function(t,e,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t,e,n){var r=n(7854),i=r.TypeError;t.exports=function(t,e){if(t<e)throw i("Not enough arguments");return t}},6061:function(t,e,n){var r=n(5112);e.f=r},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(133),u=n(3307),c=i("wks"),l=r.Symbol,h=l&&l["for"],f=u?l:l&&l.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(l,t)?c[t]=l[t]:c[t]=u&&h?h(e):f(e)}return c[t]}},1361:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9191:function(t,e,n){"use strict";var r=n(5005),i=n(2597),o=n(8880),a=n(7976),s=n(7674),u=n(9920),c=n(9587),l=n(6277),h=n(8340),f=n(7741),p=n(2914),d=n(1913);t.exports=function(t,e,n,v){var g=v?2:1,y=t.split("."),m=y[y.length-1],_=r.apply(null,y);if(_){var b=_.prototype;if(!d&&i(b,"cause")&&delete b.cause,!n)return _;var w=r("Error"),E=e((function(t,e){var n=l(v?e:t,void 0),r=v?new _(t):new _;return void 0!==n&&o(r,"message",n),p&&o(r,"stack",f(r.stack,2)),this&&a(b,this)&&c(r,this,E),arguments.length>g&&h(r,arguments[g]),r}));if(E.prototype=b,"Error"!==m&&(s?s(E,w):u(E,w,{name:!0})),u(E,_),!d)try{b.name!==m&&o(b,"name",m),b.constructor=E}catch(I){}return E}}},8264:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(3331),a=n(6340),s="ArrayBuffer",u=o[s],c=i[s];r({global:!0,forced:c!==u},{ArrayBuffer:u}),a(s)},2262:function(t,e,n){"use strict";var r=n(2109),i=n(7908),o=n(6244),a=n(9303),s=n(1223);r({target:"Array",proto:!0},{at:function(t){var e=i(this),n=o(e),r=a(t),s=r>=0?r:n+r;return s<0||s>=n?void 0:e[s]}}),s("at")},2222:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(7293),a=n(3157),s=n(111),u=n(7908),c=n(6244),l=n(6135),h=n(5417),f=n(1194),p=n(5112),d=n(7392),v=p("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",m=i.TypeError,_=d>=51||!o((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),b=f("concat"),w=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:a(t)},E=!_||!b;r({target:"Array",proto:!0,forced:E},{concat:function(t){var e,n,r,i,o,a=u(this),s=h(a,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],w(o)){if(i=c(o),f+i>g)throw m(y);for(n=0;n<i;n++,f++)n in o&&l(s,f,o[n])}else{if(f>=g)throw m(y);l(s,f++,o)}return s.length=f,s}})},7327:function(t,e,n){"use strict";var r=n(2109),i=n(2092).filter,o=n(1194),a=o("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},4553:function(t,e,n){"use strict";var r=n(2109),i=n(2092).findIndex,o=n(1223),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},9826:function(t,e,n){"use strict";var r=n(2109),i=n(2092).find,o=n(1223),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},1038:function(t,e,n){var r=n(2109),i=n(8457),o=n(7072),a=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:i})},6699:function(t,e,n){"use strict";var r=n(2109),i=n(1318).includes,o=n(1223);r({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},6992:function(t,e,n){"use strict";var r=n(5656),i=n(1223),o=n(7497),a=n(9909),s=n(3070).f,u=n(654),c=n(1913),l=n(9781),h="Array Iterator",f=a.set,p=a.getterFor(h);t.exports=u(Array,"Array",(function(t,e){f(this,{type:h,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var d=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==d.name)try{s(d,"name",{value:"values"})}catch(v){}},9600:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(8361),a=n(5656),s=n(9341),u=i([].join),c=o!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(t){return u(a(this),void 0===t?",":t)}})},1249:function(t,e,n){"use strict";var r=n(2109),i=n(2092).map,o=n(1194),a=o("map");r({target:"Array",proto:!0,forced:!a},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(3157),a=n(4411),s=n(111),u=n(1400),c=n(6244),l=n(5656),h=n(6135),f=n(5112),p=n(1194),d=n(206),v=p("slice"),g=f("species"),y=i.Array,m=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var n,r,i,f=l(this),p=c(f),v=u(t,p),_=u(void 0===e?p:e,p);if(o(f)&&(n=f.constructor,a(n)&&(n===y||o(n.prototype))?n=void 0:s(n)&&(n=n[g],null===n&&(n=void 0)),n===y||void 0===n))return d(f,v,_);for(r=new(void 0===n?y:n)(m(_-v,0)),i=0;v<_;v++,i++)v in f&&h(r,i,f[v]);return r.length=i,r}})},2707:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(9662),a=n(7908),s=n(6244),u=n(1340),c=n(7293),l=n(4362),h=n(9341),f=n(8886),p=n(256),d=n(7392),v=n(8008),g=[],y=i(g.sort),m=i(g.push),_=c((function(){g.sort(void 0)})),b=c((function(){g.sort(null)})),w=h("sort"),E=!c((function(){if(d)return d<70;if(!(f&&f>3)){if(p)return!0;if(v)return v<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:e+r,v:n})}for(g.sort((function(t,e){return e.v-t.v})),r=0;r<g.length;r++)e=g[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}})),I=_||!b||!w||!E,T=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}};r({target:"Array",proto:!0,forced:I},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(E)return void 0===t?y(e):y(e,t);var n,r,i=[],u=s(e);for(r=0;r<u;r++)r in e&&m(i,e[r]);l(i,T(t)),n=i.length,r=0;while(r<n)e[r]=i[r++];while(r<u)delete e[r++];return e}})},561:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(1400),a=n(9303),s=n(6244),u=n(7908),c=n(5417),l=n(6135),h=n(1194),f=h("splice"),p=i.TypeError,d=Math.max,v=Math.min,g=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,i,h,f,m,_=u(this),b=s(_),w=o(t,b),E=arguments.length;if(0===E?n=r=0:1===E?(n=0,r=b-w):(n=E-2,r=v(d(a(e),0),b-w)),b+n-r>g)throw p(y);for(i=c(_,r),h=0;h<r;h++)f=w+h,f in _&&l(i,h,_[f]);if(i.length=r,n<r){for(h=w;h<b-r;h++)f=h+r,m=h+n,f in _?_[m]=_[f]:delete _[m];for(h=b;h>b-r+n;h--)delete _[h-1]}else if(n>r)for(h=b-r;h>w;h--)f=h+r-1,m=h+n-1,f in _?_[m]=_[f]:delete _[m];for(h=0;h<n;h++)_[h+w]=arguments[h+2];return _.length=b-r+n,i}})},1703:function(t,e,n){var r=n(2109),i=n(7854),o=n(2104),a=n(9191),s="WebAssembly",u=i[s],c=7!==Error("e",{cause:7}).cause,l=function(t,e){var n={};n[t]=a(t,e,c),r({global:!0,forced:c},n)},h=function(t,e){if(u&&u[t]){var n={};n[t]=a(s+"."+t,e,c),r({target:s,stat:!0,forced:c},n)}};l("Error",(function(t){return function(e){return o(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return o(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return o(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return o(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return o(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return o(t,this,arguments)}})),l("URIError",(function(t){return function(e){return o(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return o(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return o(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return o(t,this,arguments)}}))},8309:function(t,e,n){var r=n(9781),i=n(6530).EXISTS,o=n(1702),a=n(3070).f,s=Function.prototype,u=o(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(c.exec),h="name";r&&!i&&a(s,h,{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(t){return""}}})},5837:function(t,e,n){var r=n(2109),i=n(7854);r({global:!0},{globalThis:i})},8862:function(t,e,n){var r=n(2109),i=n(7854),o=n(5005),a=n(2104),s=n(1702),u=n(7293),c=i.Array,l=o("JSON","stringify"),h=s(/./.exec),f=s("".charAt),p=s("".charCodeAt),d=s("".replace),v=s(1..toString),g=/[\uD800-\uDFFF]/g,y=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,_=function(t,e,n){var r=f(n,e-1),i=f(n,e+1);return h(y,t)&&!h(m,i)||h(m,t)&&!h(y,r)?"\\u"+v(p(t,0),16):t},b=u((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&r({target:"JSON",stat:!0,forced:b},{stringify:function(t,e,n){for(var r=0,i=arguments.length,o=c(i);r<i;r++)o[r]=arguments[r];var s=a(l,null,o);return"string"==typeof s?d(s,g,_):s}})},3706:function(t,e,n){var r=n(7854),i=n(8003);i(r.JSON,"JSON",!0)},1532:function(t,e,n){"use strict";var r=n(7710),i=n(5631);r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},2703:function(t,e,n){var r=n(8003);r(Math,"Math",!0)},9653:function(t,e,n){"use strict";var r=n(9781),i=n(7854),o=n(1702),a=n(4705),s=n(1320),u=n(2597),c=n(9587),l=n(7976),h=n(2190),f=n(7593),p=n(7293),d=n(8006).f,v=n(1236).f,g=n(3070).f,y=n(863),m=n(3111).trim,_="Number",b=i[_],w=b.prototype,E=i.TypeError,I=o("".slice),T=o("".charCodeAt),S=function(t){var e=f(t,"number");return"bigint"==typeof e?e:C(e)},C=function(t){var e,n,r,i,o,a,s,u,c=f(t,"number");if(h(c))throw E("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=m(c),e=T(c,0),43===e||45===e){if(n=T(c,2),88===n||120===n)return NaN}else if(48===e){switch(T(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=I(c,2),a=o.length,s=0;s<a;s++)if(u=T(o,s),u<48||u>i)return NaN;return parseInt(o,r)}return+c};if(a(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,A=function(t){var e=arguments.length<1?0:b(S(t)),n=this;return l(w,n)&&p((function(){y(n)}))?c(Object(e),n,A):e},x=r?d(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),N=0;x.length>N;N++)u(b,k=x[N])&&!u(A,k)&&g(A,k,v(b,k));A.prototype=w,w.constructor=A,s(i,_,A)}},5192:function(t,e,n){var r=n(2109),i=n(7023);r({target:"Number",stat:!0},{isFinite:i})},3161:function(t,e,n){var r=n(2109),i=n(5988);r({target:"Number",stat:!0},{isInteger:i})},4363:function(t,e,n){var r=n(2109);r({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},5994:function(t,e,n){var r=n(2109);r({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},6977:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(1702),a=n(9303),s=n(863),u=n(8415),c=n(7293),l=i.RangeError,h=i.String,f=Math.floor,p=o(u),d=o("".slice),v=o(1..toFixed),g=function(t,e,n){return 0===e?n:e%2===1?g(t,e-1,n*t):g(t*t,e/2,n)},y=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},m=function(t,e,n){var r=-1,i=n;while(++r<6)i+=e*t[r],t[r]=i%1e7,i=f(i/1e7)},_=function(t,e){var n=6,r=0;while(--n>=0)r+=t[n],t[n]=f(r/e),r=r%e*1e7},b=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var r=h(t[e]);n=""===n?r:n+p("0",7-r.length)+r}return n},w=c((function(){return"0.000"!==v(8e-5,3)||"1"!==v(.9,0)||"1.25"!==v(1.255,2)||"1000000000000000128"!==v(0xde0b6b3a7640080,0)}))||!c((function(){v({})}));r({target:"Number",proto:!0,forced:w},{toFixed:function(t){var e,n,r,i,o=s(this),u=a(t),c=[0,0,0,0,0,0],f="",v="0";if(u<0||u>20)throw l("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return h(o);if(o<0&&(f="-",o=-o),o>1e-21)if(e=y(o*g(2,69,1))-69,n=e<0?o*g(2,-e,1):o/g(2,e,1),n*=4503599627370496,e=52-e,e>0){m(c,0,n),r=u;while(r>=7)m(c,1e7,0),r-=7;m(c,g(10,r,1),0),r=e-1;while(r>=23)_(c,1<<23),r-=23;_(c,1<<r),m(c,1,1),_(c,2),v=b(c)}else m(c,0,n),m(c,1<<-e,0),v=b(c)+p("0",u);return u>0?(i=v.length,v=f+(i<=u?"0."+p("0",u-i)+v:d(v,0,i-u)+"."+d(v,i-u))):v=f+v,v}})},9601:function(t,e,n){var r=n(2109),i=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},9720:function(t,e,n){var r=n(2109),i=n(4699).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},3371:function(t,e,n){var r=n(2109),i=n(6677),o=n(7293),a=n(111),s=n(2423).onFreeze,u=Object.freeze,c=o((function(){u(1)}));r({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},5003:function(t,e,n){var r=n(2109),i=n(7293),o=n(5656),a=n(1236).f,s=n(9781),u=i((function(){a(1)})),c=!s||u;r({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},6210:function(t,e,n){var r=n(2109),i=n(7293),o=n(1156).f,a=i((function(){return!Object.getOwnPropertyNames(1)}));r({target:"Object",stat:!0,forced:a},{getOwnPropertyNames:o})},489:function(t,e,n){var r=n(2109),i=n(7293),o=n(7908),a=n(9518),s=n(8544),u=i((function(){a(1)}));r({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},1825:function(t,e,n){var r=n(2109),i=n(2050);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},8410:function(t,e,n){var r=n(2109),i=n(7293),o=n(111),a=n(4326),s=n(7556),u=Object.isFrozen,c=i((function(){u(1)}));r({target:"Object",stat:!0,forced:c||s},{isFrozen:function(t){return!o(t)||(!(!s||"ArrayBuffer"!=a(t))||!!u&&u(t))}})},7941:function(t,e,n){var r=n(2109),i=n(7908),o=n(1956),a=n(7293),s=a((function(){o(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return o(i(t))}})},1539:function(t,e,n){var r=n(1694),i=n(1320),o=n(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},2479:function(t,e,n){var r=n(2109),i=n(4699).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},7727:function(t,e,n){"use strict";var r=n(2109),i=n(1913),o=n(3366),a=n(7293),s=n(5005),u=n(614),c=n(6707),l=n(9478),h=n(1320),f=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(t){var e=c(this,s("Promise")),n=u(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!i&&u(o)){var p=s("Promise").prototype["finally"];o.prototype["finally"]!==p&&h(o.prototype,"finally",p,{unsafe:!0})}},8674:function(t,e,n){"use strict";var r,i,o,a,s=n(2109),u=n(1913),c=n(7854),l=n(5005),h=n(6916),f=n(3366),p=n(1320),d=n(2248),v=n(7674),g=n(8003),y=n(6340),m=n(9662),_=n(614),b=n(111),w=n(5787),E=n(2788),I=n(408),T=n(7072),S=n(6707),C=n(261).set,k=n(5948),A=n(9478),x=n(842),N=n(8523),R=n(2534),O=n(8572),P=n(9909),D=n(4705),L=n(5112),M=n(7871),F=n(5268),j=n(7392),U=L("species"),q="Promise",V=P.getterFor(q),B=P.set,K=P.getterFor(q),H=f&&f.prototype,W=f,z=H,G=c.TypeError,$=c.document,Q=c.process,Y=N.f,X=Y,J=!!($&&$.createEvent&&c.dispatchEvent),Z=_(c.PromiseRejectionEvent),tt="unhandledrejection",et="rejectionhandled",nt=0,rt=1,it=2,ot=1,at=2,st=!1,ut=D(q,(function(){var t=E(W),e=t!==String(W);if(!e&&66===j)return!0;if(u&&!z["finally"])return!0;if(j>=51&&/native code/.test(t))return!1;var n=new W((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))},i=n.constructor={};return i[U]=r,st=n.then((function(){}))instanceof r,!st||!e&&M&&!Z})),ct=ut||!T((function(t){W.all(t)["catch"]((function(){}))})),lt=function(t){var e;return!(!b(t)||!_(e=t.then))&&e},ht=function(t,e){var n,r,i,o=e.value,a=e.state==rt,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(a||(e.rejection===at&&gt(e),e.rejection=ot),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===t.promise?c(G("Promise-chain cycle")):(r=lt(n))?h(r,n,u,c):u(n)):c(o)}catch(f){l&&!i&&l.exit(),c(f)}},ft=function(t,e){t.notified||(t.notified=!0,k((function(){var n,r=t.reactions;while(n=r.get())ht(n,t);t.notified=!1,e&&!t.rejection&&dt(t)})))},pt=function(t,e,n){var r,i;J?(r=$.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!Z&&(i=c["on"+t])?i(r):t===tt&&x("Unhandled promise rejection",n)},dt=function(t){h(C,c,(function(){var e,n=t.facade,r=t.value,i=vt(t);if(i&&(e=R((function(){F?Q.emit("unhandledRejection",r,n):pt(tt,n,r)})),t.rejection=F||vt(t)?at:ot,e.error))throw e.value}))},vt=function(t){return t.rejection!==ot&&!t.parent},gt=function(t){h(C,c,(function(){var e=t.facade;F?Q.emit("rejectionHandled",e):pt(et,e,t.value)}))},yt=function(t,e,n){return function(r){t(e,r,n)}},mt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=it,ft(t,!0))},_t=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw G("Promise can't be resolved itself");var r=lt(e);r?k((function(){var n={done:!1};try{h(r,e,yt(_t,n,t),yt(mt,n,t))}catch(i){mt(n,i,t)}})):(t.value=e,t.state=rt,ft(t,!1))}catch(i){mt({done:!1},i,t)}}};if(ut&&(W=function(t){w(this,z),m(t),h(r,this);var e=V(this);try{t(yt(_t,e),yt(mt,e))}catch(n){mt(e,n)}},z=W.prototype,r=function(t){B(this,{type:q,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:nt,value:void 0})},r.prototype=d(z,{then:function(t,e){var n=K(this),r=Y(S(this,W));return n.parent=!0,r.ok=!_(t)||t,r.fail=_(e)&&e,r.domain=F?Q.domain:void 0,n.state==nt?n.reactions.add(r):k((function(){ht(r,n)})),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=V(t);this.promise=t,this.resolve=yt(_t,e),this.reject=yt(mt,e)},N.f=Y=function(t){return t===W||t===o?new i(t):X(t)},!u&&_(f)&&H!==Object.prototype)){a=H.then,st||(p(H,"then",(function(t,e){var n=this;return new W((function(t,e){h(a,n,t,e)})).then(t,e)}),{unsafe:!0}),p(H,"catch",z["catch"],{unsafe:!0}));try{delete H.constructor}catch(bt){}v&&v(H,z)}s({global:!0,wrap:!0,forced:ut},{Promise:W}),g(W,q,!1,!0),y(q),o=l(q),s({target:q,stat:!0,forced:ut},{reject:function(t){var e=Y(this);return h(e.reject,void 0,t),e.promise}}),s({target:q,stat:!0,forced:u||ut},{resolve:function(t){return A(u&&this===o?W:this,t)}}),s({target:q,stat:!0,forced:ct},{all:function(t){var e=this,n=Y(e),r=n.resolve,i=n.reject,o=R((function(){var n=m(e.resolve),o=[],a=0,s=1;I(t,(function(t){var u=a++,c=!1;s++,h(n,e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Y(e),r=n.reject,i=R((function(){var i=m(e.resolve);I(t,(function(t){h(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},7318:function(t,e,n){var r=n(2109),i=n(3887);r({target:"Reflect",stat:!0},{ownKeys:i})},1299:function(t,e,n){var r=n(2109),i=n(7854),o=n(8003);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},4603:function(t,e,n){var r=n(9781),i=n(7854),o=n(1702),a=n(4705),s=n(9587),u=n(8880),c=n(3070).f,l=n(8006).f,h=n(7976),f=n(7850),p=n(1340),d=n(7066),v=n(2999),g=n(1320),y=n(7293),m=n(2597),_=n(9909).enforce,b=n(6340),w=n(5112),E=n(9441),I=n(7168),T=w("match"),S=i.RegExp,C=S.prototype,k=i.SyntaxError,A=o(d),x=o(C.exec),N=o("".charAt),R=o("".replace),O=o("".indexOf),P=o("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,M=/a/g,F=new S(L)!==L,j=v.MISSED_STICKY,U=v.UNSUPPORTED_Y,q=r&&(!F||j||E||I||y((function(){return M[T]=!1,S(L)!=L||S(M)==M||"/a/i"!=S(L,"i")}))),V=function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)e=N(t,r),"\\"!==e?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+N(t,++r);return i},B=function(t){for(var e,n=t.length,r=0,i="",o=[],a={},s=!1,u=!1,c=0,l="";r<=n;r++){if(e=N(t,r),"\\"===e)e+=N(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:x(D,P(t,r+1))&&(r+=2,u=!0),i+=e,c++;continue;case">"===e&&u:if(""===l||m(a,l))throw new k("Invalid capture group name");a[l]=!0,o[o.length]=[l,c],u=!1,l="";continue}u?l+=e:i+=e}return[i,o]};if(a("RegExp",q)){for(var K=function(t,e){var n,r,i,o,a,c,l=h(C,this),d=f(t),v=void 0===e,g=[],y=t;if(!l&&d&&v&&t.constructor===K)return t;if((d||h(C,t))&&(t=t.source,v&&(e="flags"in y?y.flags:A(y))),t=void 0===t?"":p(t),e=void 0===e?"":p(e),y=t,E&&"dotAll"in L&&(r=!!e&&O(e,"s")>-1,r&&(e=R(e,/s/g,""))),n=e,j&&"sticky"in L&&(i=!!e&&O(e,"y")>-1,i&&U&&(e=R(e,/y/g,""))),I&&(o=B(t),t=o[0],g=o[1]),a=s(S(t,e),l?this:C,K),(r||i||g.length)&&(c=_(a),r&&(c.dotAll=!0,c.raw=K(V(t),n)),i&&(c.sticky=!0),g.length&&(c.groups=g)),t!==y)try{u(a,"source",""===y?"(?:)":y)}catch(m){}return a},H=function(t){t in K||c(K,t,{configurable:!0,get:function(){return S[t]},set:function(e){S[t]=e}})},W=l(S),z=0;W.length>z;)H(W[z++]);C.constructor=K,K.prototype=C,g(i,"RegExp",K)}b("RegExp")},8450:function(t,e,n){var r=n(7854),i=n(9781),o=n(9441),a=n(4326),s=n(3070).f,u=n(9909).get,c=RegExp.prototype,l=r.TypeError;i&&o&&s(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!u(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},4916:function(t,e,n){"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8386:function(t,e,n){var r=n(7854),i=n(9781),o=n(2999).MISSED_STICKY,a=n(4326),s=n(3070).f,u=n(9909).get,c=RegExp.prototype,l=r.TypeError;i&&o&&s(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!u(this).sticky;throw l("Incompatible receiver, RegExp required")}}})},7601:function(t,e,n){"use strict";n(4916);var r=n(2109),i=n(7854),o=n(6916),a=n(1702),s=n(614),u=n(111),c=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),l=i.Error,h=a(/./.test);r({target:"RegExp",proto:!0,forced:!c},{test:function(t){var e=this.exec;if(!s(e))return h(this,t);var n=o(e,this,t);if(null!==n&&!u(n))throw new l("RegExp exec method returned something other than an Object or null");return!!n}})},9714:function(t,e,n){"use strict";var r=n(1702),i=n(6530).PROPER,o=n(1320),a=n(9670),s=n(7976),u=n(1340),c=n(7293),l=n(7066),h="toString",f=RegExp.prototype,p=f[h],d=r(l),v=c((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),g=i&&p.name!=h;(v||g)&&o(RegExp.prototype,h,(function(){var t=a(this),e=u(t.source),n=t.flags,r=u(void 0===n&&s(f,t)&&!("flags"in f)?d(t):n);return"/"+e+"/"+r}),{unsafe:!0})},189:function(t,e,n){"use strict";var r=n(7710),i=n(5631);r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},4506:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(4488),a=n(9303),s=n(1340),u=n(7293),c=i("".charAt),l=u((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:l},{at:function(t){var e=s(o(this)),n=e.length,r=a(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(e,i)}})},2023:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(3929),a=n(4488),s=n(1340),u=n(4964),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},8783:function(t,e,n){"use strict";var r=n(8710).charAt,i=n(1340),o=n(9909),a=n(654),s="String Iterator",u=o.set,c=o.getterFor(s);a(String,"String",(function(t){u(this,{type:s,string:i(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},9254:function(t,e,n){"use strict";var r=n(2109),i=n(4230),o=n(3429);r({target:"String",proto:!0,forced:o("link")},{link:function(t){return i(this,"a","href",t)}})},6373:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(6916),a=n(1702),s=n(4994),u=n(4488),c=n(7466),l=n(1340),h=n(9670),f=n(4326),p=n(7976),d=n(7850),v=n(7066),g=n(8173),y=n(1320),m=n(7293),_=n(5112),b=n(6707),w=n(1530),E=n(7651),I=n(9909),T=n(1913),S=_("matchAll"),C="RegExp String",k=C+" Iterator",A=I.set,x=I.getterFor(k),N=RegExp.prototype,R=i.TypeError,O=a(v),P=a("".indexOf),D=a("".matchAll),L=!!D&&!m((function(){D("a",/./)})),M=s((function(t,e,n,r){A(this,{type:k,regexp:t,string:e,global:n,unicode:r,done:!1})}),C,(function(){var t=x(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=E(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""===l(r[0])&&(e.lastIndex=w(n,c(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),F=function(t){var e,n,r,i,o,a,s=h(this),u=l(t);return e=b(s,RegExp),n=s.flags,void 0===n&&p(N,s)&&!("flags"in N)&&(n=O(s)),r=void 0===n?"":l(n),i=new e(e===RegExp?s.source:s,r),o=!!~P(r,"g"),a=!!~P(r,"u"),i.lastIndex=c(s.lastIndex),new M(i,u,o,a)};r({target:"String",proto:!0,forced:L},{matchAll:function(t){var e,n,r,i,a=u(this);if(null!=t){if(d(t)&&(e=l(u("flags"in N?t.flags:O(t))),!~P(e,"g")))throw R("`.matchAll` does not allow non-global regexes");if(L)return D(a,t);if(r=g(t,S),void 0===r&&T&&"RegExp"==f(t)&&(r=F),r)return o(r,t,a)}else if(L)return D(a,t);return n=l(a),i=new RegExp(t,"g"),T?o(F,i,n):i[S](n)}}),T||S in N||y(N,S,F)},4723:function(t,e,n){"use strict";var r=n(6916),i=n(7007),o=n(9670),a=n(7466),s=n(1340),u=n(4488),c=n(8173),l=n(1530),h=n(7651);i("match",(function(t,e,n){return[function(e){var n=u(this),i=void 0==e?void 0:c(e,t);return i?r(i,e,n):new RegExp(e)[t](s(n))},function(t){var r=o(this),i=s(t),u=n(e,r,i);if(u.done)return u.value;if(!r.global)return h(r,i);var c=r.unicode;r.lastIndex=0;var f,p=[],d=0;while(null!==(f=h(r,i))){var v=s(f[0]);p[d]=v,""===v&&(r.lastIndex=l(i,a(r.lastIndex),c)),d++}return 0===d?null:p}]}))},3112:function(t,e,n){"use strict";var r=n(2109),i=n(6650).start,o=n(4986);r({target:"String",proto:!0,forced:o},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2481:function(t,e,n){var r=n(2109),i=n(8415);r({target:"String",proto:!0},{repeat:i})},5306:function(t,e,n){"use strict";var r=n(2104),i=n(6916),o=n(1702),a=n(7007),s=n(7293),u=n(9670),c=n(614),l=n(9303),h=n(7466),f=n(1340),p=n(4488),d=n(1530),v=n(8173),g=n(647),y=n(7651),m=n(5112),_=m("replace"),b=Math.max,w=Math.min,E=o([].concat),I=o([].push),T=o("".indexOf),S=o("".slice),C=function(t){return void 0===t?t:String(t)},k=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[_]&&""===/./[_]("a","$0")}(),x=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));a("replace",(function(t,e,n){var o=A?"$":"$0";return[function(t,n){var r=p(this),o=void 0==t?void 0:v(t,_);return o?i(o,t,r,n):i(e,f(r),t,n)},function(t,i){var a=u(this),s=f(t);if("string"==typeof i&&-1===T(i,o)&&-1===T(i,"$<")){var p=n(e,a,s,i);if(p.done)return p.value}var v=c(i);v||(i=f(i));var m=a.global;if(m){var _=a.unicode;a.lastIndex=0}var k=[];while(1){var A=y(a,s);if(null===A)break;if(I(k,A),!m)break;var x=f(A[0]);""===x&&(a.lastIndex=d(s,h(a.lastIndex),_))}for(var N="",R=0,O=0;O<k.length;O++){A=k[O];for(var P=f(A[0]),D=b(w(l(A.index),s.length),0),L=[],M=1;M<A.length;M++)I(L,C(A[M]));var F=A.groups;if(v){var j=E([P],L,D,s);void 0!==F&&I(j,F);var U=f(r(i,void 0,j))}else U=g(P,s,D,L,F,i);D>=R&&(N+=S(s,R,D)+U,R=D+P.length)}return N+S(s,R)}]}),!x||!k||A)},4765:function(t,e,n){"use strict";var r=n(6916),i=n(7007),o=n(9670),a=n(4488),s=n(1150),u=n(1340),c=n(8173),l=n(7651);i("search",(function(t,e,n){return[function(e){var n=a(this),i=void 0==e?void 0:c(e,t);return i?r(i,e,n):new RegExp(e)[t](u(n))},function(t){var r=o(this),i=u(t),a=n(e,r,i);if(a.done)return a.value;var c=r.lastIndex;s(c,0)||(r.lastIndex=0);var h=l(r,i);return s(r.lastIndex,c)||(r.lastIndex=c),null===h?-1:h.index}]}))},3123:function(t,e,n){"use strict";var r=n(2104),i=n(6916),o=n(1702),a=n(7007),s=n(7850),u=n(9670),c=n(4488),l=n(6707),h=n(1530),f=n(7466),p=n(1340),d=n(8173),v=n(1589),g=n(7651),y=n(2261),m=n(2999),_=n(7293),b=m.UNSUPPORTED_Y,w=4294967295,E=Math.min,I=[].push,T=o(/./.exec),S=o(I),C=o("".slice),k=!_((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(t,e,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=p(c(this)),a=void 0===n?w:n>>>0;if(0===a)return[];if(void 0===t)return[o];if(!s(t))return i(e,o,t,a);var u,l,h,f=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,m=new RegExp(t.source,d+"g");while(u=i(y,m,o)){if(l=m.lastIndex,l>g&&(S(f,C(o,g,u.index)),u.length>1&&u.index<o.length&&r(I,f,v(u,1)),h=u[0].length,g=l,f.length>=a))break;m.lastIndex===u.index&&m.lastIndex++}return g===o.length?!h&&T(m,"")||S(f,""):S(f,C(o,g)),f.length>a?v(f,0,a):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:i(e,this,t,n)}:e,[function(e,n){var r=c(this),a=void 0==e?void 0:d(e,t);return a?i(a,e,r,n):i(o,p(r),e,n)},function(t,r){var i=u(this),a=p(t),s=n(o,i,a,r,o!==e);if(s.done)return s.value;var c=l(i,RegExp),d=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(b?"g":"y"),y=new c(b?"^(?:"+i.source+")":i,v),m=void 0===r?w:r>>>0;if(0===m)return[];if(0===a.length)return null===g(y,a)?[a]:[];var _=0,I=0,T=[];while(I<a.length){y.lastIndex=b?0:I;var k,A=g(y,b?C(a,I):a);if(null===A||(k=E(f(y.lastIndex+(b?I:0)),a.length))===_)I=h(a,I,d);else{if(S(T,C(a,_,I)),T.length===m)return T;for(var x=1;x<=A.length-1;x++)if(S(T,A[x]),T.length===m)return T;I=_=k}}return S(T,C(a,_)),T}]}),!k,b)},6755:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(1236).f,a=n(7466),s=n(1340),u=n(3929),c=n(4488),l=n(4964),h=n(1913),f=i("".startsWith),p=i("".slice),d=Math.min,v=l("startsWith"),g=!h&&!v&&!!function(){var t=o(String.prototype,"startsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!g&&!v},{startsWith:function(t){var e=s(c(this));u(t);var n=a(d(arguments.length>1?arguments[1]:void 0,e.length)),r=s(t);return f?f(e,r,n):p(e,n,n+r.length)===r}})},86:function(t,e,n){"use strict";var r=n(2109),i=n(4230),o=n(3429);r({target:"String",proto:!0,forced:o("sub")},{sub:function(){return i(this,"sub","","")}})},3210:function(t,e,n){"use strict";var r=n(2109),i=n(3111).trim,o=n(6091);r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},2443:function(t,e,n){var r=n(7235);r("asyncIterator")},1817:function(t,e,n){"use strict";var r=n(2109),i=n(9781),o=n(7854),a=n(1702),s=n(2597),u=n(614),c=n(7976),l=n(1340),h=n(3070).f,f=n(9920),p=o.Symbol,d=p&&p.prototype;if(i&&u(p)&&(!("description"in d)||void 0!==p().description)){var v={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(d,this)?new p(t):void 0===t?p():p(t);return""===t&&(v[e]=!0),e};f(g,p),g.prototype=d,d.constructor=g;var y="Symbol(test)"==String(p("test")),m=a(d.toString),_=a(d.valueOf),b=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),E=a("".slice);h(d,"description",{configurable:!0,get:function(){var t=_(this),e=m(t);if(s(v,t))return"";var n=y?E(e,7,-1):w(e,b,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:g})}},2165:function(t,e,n){var r=n(7235);r("iterator")},2526:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(5005),a=n(2104),s=n(6916),u=n(1702),c=n(1913),l=n(9781),h=n(133),f=n(7293),p=n(2597),d=n(3157),v=n(614),g=n(111),y=n(7976),m=n(2190),_=n(9670),b=n(7908),w=n(5656),E=n(4948),I=n(1340),T=n(9114),S=n(30),C=n(1956),k=n(8006),A=n(1156),x=n(5181),N=n(1236),R=n(3070),O=n(6048),P=n(5296),D=n(206),L=n(1320),M=n(2309),F=n(6200),j=n(3501),U=n(9711),q=n(5112),V=n(6061),B=n(7235),K=n(8003),H=n(9909),W=n(2092).forEach,z=F("hidden"),G="Symbol",$="prototype",Q=q("toPrimitive"),Y=H.set,X=H.getterFor(G),J=Object[$],Z=i.Symbol,tt=Z&&Z[$],et=i.TypeError,nt=i.QObject,rt=o("JSON","stringify"),it=N.f,ot=R.f,at=A.f,st=P.f,ut=u([].push),ct=M("symbols"),lt=M("op-symbols"),ht=M("string-to-symbol-registry"),ft=M("symbol-to-string-registry"),pt=M("wks"),dt=!nt||!nt[$]||!nt[$].findChild,vt=l&&f((function(){return 7!=S(ot({},"a",{get:function(){return ot(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=it(J,e);r&&delete J[e],ot(t,e,n),r&&t!==J&&ot(J,e,r)}:ot,gt=function(t,e){var n=ct[t]=S(tt);return Y(n,{type:G,tag:t,description:e}),l||(n.description=e),n},yt=function(t,e,n){t===J&&yt(lt,e,n),_(t);var r=E(e);return _(n),p(ct,r)?(n.enumerable?(p(t,z)&&t[z][r]&&(t[z][r]=!1),n=S(n,{enumerable:T(0,!1)})):(p(t,z)||ot(t,z,T(1,{})),t[z][r]=!0),vt(t,r,n)):ot(t,r,n)},mt=function(t,e){_(t);var n=w(e),r=C(n).concat(It(n));return W(r,(function(e){l&&!s(bt,n,e)||yt(t,e,n[e])})),t},_t=function(t,e){return void 0===e?S(t):mt(S(t),e)},bt=function(t){var e=E(t),n=s(st,this,e);return!(this===J&&p(ct,e)&&!p(lt,e))&&(!(n||!p(this,e)||!p(ct,e)||p(this,z)&&this[z][e])||n)},wt=function(t,e){var n=w(t),r=E(e);if(n!==J||!p(ct,r)||p(lt,r)){var i=it(n,r);return!i||!p(ct,r)||p(n,z)&&n[z][r]||(i.enumerable=!0),i}},Et=function(t){var e=at(w(t)),n=[];return W(e,(function(t){p(ct,t)||p(j,t)||ut(n,t)})),n},It=function(t){var e=t===J,n=at(e?lt:w(t)),r=[];return W(n,(function(t){!p(ct,t)||e&&!p(J,t)||ut(r,ct[t])})),r};if(h||(Z=function(){if(y(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?I(arguments[0]):void 0,e=U(t),n=function(t){this===J&&s(n,lt,t),p(this,z)&&p(this[z],e)&&(this[z][e]=!1),vt(this,e,T(1,t))};return l&&dt&&vt(J,e,{configurable:!0,set:n}),gt(e,t)},tt=Z[$],L(tt,"toString",(function(){return X(this).tag})),L(Z,"withoutSetter",(function(t){return gt(U(t),t)})),P.f=bt,R.f=yt,O.f=mt,N.f=wt,k.f=A.f=Et,x.f=It,V.f=function(t){return gt(q(t),t)},l&&(ot(tt,"description",{configurable:!0,get:function(){return X(this).description}}),c||L(J,"propertyIsEnumerable",bt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:Z}),W(C(pt),(function(t){B(t)})),r({target:G,stat:!0,forced:!h},{for:function(t){var e=I(t);if(p(ht,e))return ht[e];var n=Z(e);return ht[e]=n,ft[n]=e,n},keyFor:function(t){if(!m(t))throw et(t+" is not a symbol");if(p(ft,t))return ft[t]},useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),r({target:"Object",stat:!0,forced:!h,sham:!l},{create:_t,defineProperty:yt,defineProperties:mt,getOwnPropertyDescriptor:wt}),r({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Et,getOwnPropertySymbols:It}),r({target:"Object",stat:!0,forced:f((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(b(t))}}),rt){var Tt=!h||f((function(){var t=Z();return"[null]"!=rt([t])||"{}"!=rt({a:t})||"{}"!=rt(Object(t))}));r({target:"JSON",stat:!0,forced:Tt},{stringify:function(t,e,n){var r=D(arguments),i=e;if((g(e)||void 0!==t)&&!m(t))return d(e)||(e=function(t,e){if(v(i)&&(e=s(i,this,t,e)),!m(e))return e}),r[1]=e,a(rt,null,r)}})}if(!tt[Q]){var St=tt.valueOf;L(tt,Q,(function(t){return s(St,this)}))}K(Z,G),j[z]=!0},3680:function(t,e,n){var r=n(7235);r("toStringTag")},8675:function(t,e,n){"use strict";var r=n(260),i=n(6244),o=n(9303),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("at",(function(t){var e=a(this),n=i(e),r=o(t),s=r>=0?r:n+r;return s<0||s>=n?void 0:e[s]}))},2990:function(t,e,n){"use strict";var r=n(1702),i=n(260),o=n(1048),a=r(o),s=i.aTypedArray,u=i.exportTypedArrayMethod;u("copyWithin",(function(t,e){return a(s(this),t,e,arguments.length>2?arguments[2]:void 0)}))},8927:function(t,e,n){"use strict";var r=n(260),i=n(2092).every,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},3105:function(t,e,n){"use strict";var r=n(260),i=n(6916),o=n(1285),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("fill",(function(t){var e=arguments.length;return i(o,a(this),t,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}))},5035:function(t,e,n){"use strict";var r=n(260),i=n(2092).filter,o=n(3074),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("filter",(function(t){var e=i(a(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)}))},7174:function(t,e,n){"use strict";var r=n(260),i=n(2092).findIndex,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},4345:function(t,e,n){"use strict";var r=n(260),i=n(2092).find,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},2846:function(t,e,n){"use strict";var r=n(260),i=n(2092).forEach,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},4731:function(t,e,n){"use strict";var r=n(260),i=n(1318).includes,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},7209:function(t,e,n){"use strict";var r=n(260),i=n(1318).indexOf,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},5125:function(t,e,n){var r=n(9843);r("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},6319:function(t,e,n){"use strict";var r=n(7854),i=n(7293),o=n(1702),a=n(260),s=n(6992),u=n(5112),c=u("iterator"),l=r.Uint8Array,h=o(s.values),f=o(s.keys),p=o(s.entries),d=a.aTypedArray,v=a.exportTypedArrayMethod,g=l&&l.prototype,y=!i((function(){g[c].call([1])})),m=!!g&&g.values&&g[c]===g.values&&"values"===g.values.name,_=function(){return h(d(this))};v("entries",(function(){return p(d(this))}),y),v("keys",(function(){return f(d(this))}),y),v("values",_,y||!m,{name:"values"}),v(c,_,y||!m,{name:"values"})},8867:function(t,e,n){"use strict";var r=n(260),i=n(1702),o=r.aTypedArray,a=r.exportTypedArrayMethod,s=i([].join);a("join",(function(t){return s(o(this),t)}))},7789:function(t,e,n){"use strict";var r=n(260),i=n(2104),o=n(6583),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("lastIndexOf",(function(t){var e=arguments.length;return i(o,a(this),e>1?[t,arguments[1]]:[t])}))},3739:function(t,e,n){"use strict";var r=n(260),i=n(2092).map,o=n(6304),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("map",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(o(t))(e)}))}))},4483:function(t,e,n){"use strict";var r=n(260),i=n(3671).right,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduceRight",(function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)}))},9368:function(t,e,n){"use strict";var r=n(260),i=n(3671).left,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduce",(function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)}))},2056:function(t,e,n){"use strict";var r=n(260),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){var t,e=this,n=i(e).length,r=a(n/2),o=0;while(o<r)t=e[o],e[o++]=e[--n],e[n]=t;return e}))},3462:function(t,e,n){"use strict";var r=n(7854),i=n(6916),o=n(260),a=n(6244),s=n(4590),u=n(7908),c=n(7293),l=r.RangeError,h=r.Int8Array,f=h&&h.prototype,p=f&&f.set,d=o.aTypedArray,v=o.exportTypedArrayMethod,g=!c((function(){var t=new Uint8ClampedArray(2);return i(p,t,{length:1,0:3},1),3!==t[1]})),y=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));v("set",(function(t){d(this);var e=s(arguments.length>1?arguments[1]:void 0,1),n=u(t);if(g)return i(p,this,n,e);var r=this.length,o=a(n),c=0;if(o+e>r)throw l("Wrong length");while(c<o)this[e+c]=n[c++]}),!g||y)},678:function(t,e,n){"use strict";var r=n(260),i=n(6304),o=n(7293),a=n(206),s=r.aTypedArray,u=r.exportTypedArrayMethod,c=o((function(){new Int8Array(1).slice()}));u("slice",(function(t,e){var n=a(s(this),t,e),r=i(this),o=0,u=n.length,c=new r(u);while(u>o)c[o]=n[o++];return c}),c)},7462:function(t,e,n){"use strict";var r=n(260),i=n(2092).some,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},3824:function(t,e,n){"use strict";var r=n(7854),i=n(1702),o=n(7293),a=n(9662),s=n(4362),u=n(260),c=n(8886),l=n(256),h=n(7392),f=n(8008),p=r.Array,d=u.aTypedArray,v=u.exportTypedArrayMethod,g=r.Uint16Array,y=g&&i(g.prototype.sort),m=!!y&&!(o((function(){y(new g(2),null)}))&&o((function(){y(new g(2),{})}))),_=!!y&&!o((function(){if(h)return h<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var t,e,n=new g(516),r=p(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(y(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0})),b=function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!==n?-1:e!==e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}};v("sort",(function(t){return void 0!==t&&a(t),_?y(this,t):s(d(this),b(t))}),!_||m)},5021:function(t,e,n){"use strict";var r=n(260),i=n(7466),o=n(1400),a=n(6304),s=r.aTypedArray,u=r.exportTypedArrayMethod;u("subarray",(function(t,e){var n=s(this),r=n.length,u=o(t,r),c=a(n);return new c(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-u))}))},2974:function(t,e,n){"use strict";var r=n(7854),i=n(2104),o=n(260),a=n(7293),s=n(206),u=r.Int8Array,c=o.aTypedArray,l=o.exportTypedArrayMethod,h=[].toLocaleString,f=!!u&&a((function(){h.call(new u(1))})),p=a((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!a((function(){u.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return i(h,f?s(c(this)):c(this),s(arguments))}),p)},5016:function(t,e,n){"use strict";var r=n(260).exportTypedArrayMethod,i=n(7293),o=n(7854),a=n(1702),s=o.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=a([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var h=u.toString!=c;r("toString",c,h)},2472:function(t,e,n){var r=n(9843);r("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},4129:function(t,e,n){"use strict";var r,i=n(7854),o=n(1702),a=n(2248),s=n(2423),u=n(7710),c=n(9320),l=n(111),h=n(2050),f=n(9909).enforce,p=n(8536),d=!i.ActiveXObject&&"ActiveXObject"in i,v=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},g=u("WeakMap",v,c);if(p&&d){r=c.getConstructor(v,"WeakMap",!0),s.enable();var y=g.prototype,m=o(y["delete"]),_=o(y.has),b=o(y.get),w=o(y.set);a(y,{delete:function(t){if(l(t)&&!h(t)){var e=f(this);return e.frozen||(e.frozen=new r),m(this,t)||e.frozen["delete"](t)}return m(this,t)},has:function(t){if(l(t)&&!h(t)){var e=f(this);return e.frozen||(e.frozen=new r),_(this,t)||e.frozen.has(t)}return _(this,t)},get:function(t){if(l(t)&&!h(t)){var e=f(this);return e.frozen||(e.frozen=new r),_(this,t)?b(this,t):e.frozen.get(t)}return b(this,t)},set:function(t,e){if(l(t)&&!h(t)){var n=f(this);n.frozen||(n.frozen=new r),_(this,t)?w(this,t,e):n.frozen.set(t,e)}else w(this,t,e);return this}})}},5505:function(t,e,n){var r=n(2109),i=n(5005),o=n(1702),a=n(7293),s=n(1340),u=n(2597),c=n(8053),l=n(4170).ctoi,h=/[^\d+/a-z]/i,f=/[\t\n\f\r ]+/g,p=/[=]+$/,d=i("atob"),v=String.fromCharCode,g=o("".charAt),y=o("".replace),m=o(h.exec),_=a((function(){return""!==atob(" ")})),b=!_&&!a((function(){d()}));r({global:!0,enumerable:!0,forced:_||b},{atob:function(t){if(c(arguments.length,1),b)return d(t);var e,n,r=y(s(t),f,""),o="",a=0,_=0;if(r.length%4==0&&(r=y(r,p,"")),r.length%4==1||m(h,r))throw new(i("DOMException"))("The string is not correctly encoded","InvalidCharacterError");while(e=g(r,a++))u(l,e)&&(n=_%4?64*n+l[e]:l[e],_++%4&&(o+=v(255&n>>(-2*_&6))));return o}})},4747:function(t,e,n){var r=n(7854),i=n(8324),o=n(8509),a=n(8533),s=n(8880),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(o)},3948:function(t,e,n){var r=n(7854),i=n(8324),o=n(8509),a=n(6992),s=n(8880),u=n(5112),c=u("iterator"),l=u("toStringTag"),h=a.values,f=function(t,e){if(t){if(t[c]!==h)try{s(t,c,h)}catch(r){t[c]=h}if(t[l]||s(t,l,e),i[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(r){t[n]=a[n]}}};for(var p in i)f(r[p]&&r[p].prototype,p);f(o,"DOMTokenList")},7714:function(t,e,n){"use strict";var r=n(2109),i=n(4038),o=n(5005),a=n(7293),s=n(30),u=n(9114),c=n(3070).f,l=n(6048).f,h=n(1320),f=n(2597),p=n(5787),d=n(9670),v=n(7762),g=n(6277),y=n(3678),m=n(7741),_=n(9909),b=n(9781),w=n(1913),E="DOMException",I="DATA_CLONE_ERR",T=o("Error"),S=o(E)||function(){try{var t=o("MessageChannel")||i("worker_threads").MessageChannel;(new t).port1.postMessage(new WeakMap)}catch(e){if(e.name==I&&25==e.code)return e.constructor}}(),C=S&&S.prototype,k=T.prototype,A=_.set,x=_.getterFor(E),N="stack"in T(E),R=function(t){return f(y,t)&&y[t].m?y[t].c:0},O=function(){p(this,P);var t=arguments.length,e=g(t<1?void 0:arguments[0]),n=g(t<2?void 0:arguments[1],"Error"),r=R(n);if(A(this,{type:E,name:n,message:e,code:r}),b||(this.name=n,this.message=e,this.code=r),N){var i=T(e);i.name=E,c(this,"stack",u(1,m(i.stack,1)))}},P=O.prototype=s(k),D=function(t){return{enumerable:!0,configurable:!0,get:t}},L=function(t){return D((function(){return x(this)[t]}))};b&&l(P,{name:L("name"),message:L("message"),code:L("code")}),c(P,"constructor",u(1,O));var M=a((function(){return!(new S instanceof T)})),F=M||a((function(){return k.toString!==v||"2: 1"!==String(new S(1,2))})),j=M||a((function(){return 25!==new S(1,"DataCloneError").code})),U=M||25!==S[I]||25!==C[I],q=w?F||j||U:M;r({global:!0,forced:q},{DOMException:q?O:S});var V=o(E),B=V.prototype;for(var K in F&&(w||S===V)&&h(B,"toString",v),j&&b&&S===V&&c(B,"code",D((function(){return R(d(this).name)}))),y)if(f(y,K)){var H=y[K],W=H.s,z=u(6,H.c);f(V,W)||c(V,W,z),f(B,W)||c(B,W,z)}},2801:function(t,e,n){"use strict";var r=n(2109),i=n(5005),o=n(9114),a=n(3070).f,s=n(2597),u=n(5787),c=n(9587),l=n(6277),h=n(3678),f=n(7741),p=n(1913),d="DOMException",v=i("Error"),g=i(d),y=function(){u(this,m);var t=arguments.length,e=l(t<1?void 0:arguments[0]),n=l(t<2?void 0:arguments[1],"Error"),r=new g(e,n),i=v(e);return i.name=d,a(r,"stack",o(1,f(i.stack,1))),c(r,this,y),r},m=y.prototype=g.prototype,_="stack"in v(d),b="stack"in new g(1,2),w=_&&!b;r({global:!0,forced:p||w},{DOMException:w?y:g});var E=i(d),I=E.prototype;if(I.constructor!==E)for(var T in p||a(I,"constructor",o(1,E)),h)if(s(h,T)){var S=h[T],C=S.s;s(E,C)||a(E,C,o(6,S.c))}},1174:function(t,e,n){var r=n(5005),i=n(8003),o="DOMException";i(r(o),o)},4633:function(t,e,n){var r=n(2109),i=n(7854),o=n(261),a=!i.setImmediate||!i.clearImmediate;r({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:o.set,clearImmediate:o.clear})},1637:function(t,e,n){"use strict";n(6992);var r=n(2109),i=n(7854),o=n(5005),a=n(6916),s=n(1702),u=n(590),c=n(1320),l=n(2248),h=n(8003),f=n(4994),p=n(9909),d=n(5787),v=n(614),g=n(2597),y=n(9974),m=n(648),_=n(9670),b=n(111),w=n(1340),E=n(30),I=n(9114),T=n(8554),S=n(1246),C=n(8053),k=n(5112),A=n(4362),x=k("iterator"),N="URLSearchParams",R=N+"Iterator",O=p.set,P=p.getterFor(N),D=p.getterFor(R),L=o("fetch"),M=o("Request"),F=o("Headers"),j=M&&M.prototype,U=F&&F.prototype,q=i.RegExp,V=i.TypeError,B=i.decodeURIComponent,K=i.encodeURIComponent,H=s("".charAt),W=s([].join),z=s([].push),G=s("".replace),$=s([].shift),Q=s([].splice),Y=s("".split),X=s("".slice),J=/\+/g,Z=Array(4),tt=function(t){return Z[t-1]||(Z[t-1]=q("((?:%[\\da-f]{2}){"+t+"})","gi"))},et=function(t){try{return B(t)}catch(e){return t}},nt=function(t){var e=G(t,J," "),n=4;try{return B(e)}catch(r){while(n)e=G(e,tt(n--),et);return e}},rt=/[!'()~]|%20/g,it={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ot=function(t){return it[t]},at=function(t){return G(K(t),rt,ot)},st=f((function(t,e){O(this,{type:R,iterator:T(P(t).entries),kind:e})}),"Iterator",(function(){var t=D(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),ut=function(t){this.entries=[],this.url=null,void 0!==t&&(b(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===H(t,0)?X(t,1):t:w(t)))};ut.prototype={type:N,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,o,s,u,c=S(t);if(c){e=T(t,c),n=e.next;while(!(r=a(n,e)).done){if(i=T(_(r.value)),o=i.next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw V("Expected sequence with length 2");z(this.entries,{key:w(s.value),value:w(u.value)})}}else for(var l in t)g(t,l)&&z(this.entries,{key:l,value:w(t[l])})},parseQuery:function(t){if(t){var e,n,r=Y(t,"&"),i=0;while(i<r.length)e=r[i++],e.length&&(n=Y(e,"="),z(this.entries,{key:nt($(n)),value:nt(W(n,"="))}))}},serialize:function(){var t,e=this.entries,n=[],r=0;while(r<e.length)t=e[r++],z(n,at(t.key)+"="+at(t.value));return W(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ct=function(){d(this,lt);var t=arguments.length>0?arguments[0]:void 0;O(this,new ut(t))},lt=ct.prototype;if(l(lt,{append:function(t,e){C(arguments.length,2);var n=P(this);z(n.entries,{key:w(t),value:w(e)}),n.updateURL()},delete:function(t){C(arguments.length,1);var e=P(this),n=e.entries,r=w(t),i=0;while(i<n.length)n[i].key===r?Q(n,i,1):i++;e.updateURL()},get:function(t){C(arguments.length,1);for(var e=P(this).entries,n=w(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){C(arguments.length,1);for(var e=P(this).entries,n=w(t),r=[],i=0;i<e.length;i++)e[i].key===n&&z(r,e[i].value);return r},has:function(t){C(arguments.length,1);var e=P(this).entries,n=w(t),r=0;while(r<e.length)if(e[r++].key===n)return!0;return!1},set:function(t,e){C(arguments.length,1);for(var n,r=P(this),i=r.entries,o=!1,a=w(t),s=w(e),u=0;u<i.length;u++)n=i[u],n.key===a&&(o?Q(i,u--,1):(o=!0,n.value=s));o||z(i,{key:a,value:s}),r.updateURL()},sort:function(){var t=P(this);A(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){var e,n=P(this).entries,r=y(t,arguments.length>1?arguments[1]:void 0),i=0;while(i<n.length)e=n[i++],r(e.value,e.key,this)},keys:function(){return new st(this,"keys")},values:function(){return new st(this,"values")},entries:function(){return new st(this,"entries")}},{enumerable:!0}),c(lt,x,lt.entries,{name:"entries"}),c(lt,"toString",(function(){return P(this).serialize()}),{enumerable:!0}),h(ct,N),r({global:!0,forced:!u},{URLSearchParams:ct}),!u&&v(F)){var ht=s(U.has),ft=s(U.set),pt=function(t){if(b(t)){var e,n=t.body;if(m(n)===N)return e=t.headers?new F(t.headers):new F,ht(e,"content-type")||ft(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(t,{body:I(0,w(n)),headers:I(0,e)})}return t};if(v(L)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return L(t,arguments.length>1?pt(arguments[1]):{})}}),v(M)){var dt=function(t){return d(this,j),new M(t,arguments.length>1?pt(arguments[1]):{})};j.constructor=dt,dt.prototype=j,r({global:!0,forced:!0},{Request:dt})}}t.exports={URLSearchParams:ct,getState:P}},285:function(t,e,n){"use strict";n(8783);var r,i=n(2109),o=n(9781),a=n(590),s=n(7854),u=n(9974),c=n(1702),l=n(6048).f,h=n(1320),f=n(5787),p=n(2597),d=n(1574),v=n(8457),g=n(1589),y=n(8710).codeAt,m=n(3197),_=n(1340),b=n(8003),w=n(8053),E=n(1637),I=n(9909),T=I.set,S=I.getterFor("URL"),C=E.URLSearchParams,k=E.getState,A=s.URL,x=s.TypeError,N=s.parseInt,R=Math.floor,O=Math.pow,P=c("".charAt),D=c(/./.exec),L=c([].join),M=c(1..toString),F=c([].pop),j=c([].push),U=c("".replace),q=c([].shift),V=c("".split),B=c("".slice),K=c("".toLowerCase),H=c([].unshift),W="Invalid authority",z="Invalid scheme",G="Invalid host",$="Invalid port",Q=/[a-z]/i,Y=/[\d+-.a-z]/i,X=/\d/,J=/^0x/i,Z=/^[0-7]+$/,tt=/^\d+$/,et=/^[\da-f]+$/i,nt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,it=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ot=/[\t\n\r]/g,at=function(t){var e,n,r,i,o,a,s,u=V(t,".");if(u.length&&""==u[u.length-1]&&u.length--,e=u.length,e>4)return t;for(n=[],r=0;r<e;r++){if(i=u[r],""==i)return t;if(o=10,i.length>1&&"0"==P(i,0)&&(o=D(J,i)?16:8,i=B(i,8==o?1:2)),""===i)a=0;else{if(!D(10==o?tt:8==o?Z:et,i))return t;a=N(i,o)}j(n,a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=O(256,5-e))return null}else if(a>255)return null;for(s=F(n),r=0;r<n.length;r++)s+=n[r]*O(256,3-r);return s},st=function(t){var e,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,f=function(){return P(t,h)};if(":"==f()){if(":"!=P(t,1))return;h+=2,c++,l=c}while(f()){if(8==c)return;if(":"!=f()){e=n=0;while(n<4&&D(et,f()))e=16*e+N(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,c>6)return;r=0;while(f()){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!D(X,f()))return;while(D(X,f())){if(o=N(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}u[c]=256*u[c]+i,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;u[c++]=e}else{if(null!==l)return;h++,c++,l=c}}if(null!==l){a=c-l,c=7;while(0!=c&&a>0)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s}else if(8!=c)return;return u},ut=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e},ct=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)H(e,t%256),t=R(t/256);return L(e,".")}if("object"==typeof t){for(e="",r=ut(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=M(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},lt={},ht=d({},lt,{" ":1,'"':1,"<":1,">":1,"`":1}),ft=d({},ht,{"#":1,"?":1,"{":1,"}":1}),pt=d({},ft,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),dt=function(t,e){var n=y(t,0);return n>32&&n<127&&!p(e,t)?t:encodeURIComponent(t)},vt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},gt=function(t,e){var n;return 2==t.length&&D(Q,P(t,0))&&(":"==(n=P(t,1))||!e&&"|"==n)},yt=function(t){var e;return t.length>1&&gt(B(t,0,2))&&(2==t.length||"/"===(e=P(t,2))||"\\"===e||"?"===e||"#"===e)},mt=function(t){return"."===t||"%2e"===K(t)},_t=function(t){return t=K(t),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},bt={},wt={},Et={},It={},Tt={},St={},Ct={},kt={},At={},xt={},Nt={},Rt={},Ot={},Pt={},Dt={},Lt={},Mt={},Ft={},jt={},Ut={},qt={},Vt=function(t,e,n){var r,i,o,a=_(t);if(e){if(i=this.parse(a),i)throw x(i);this.searchParams=null}else{if(void 0!==n&&(r=new Vt(n,!0)),i=this.parse(a,null,r),i)throw x(i);o=k(new C),o.bindURL(this),this.searchParams=o}};Vt.prototype={type:"URL",parse:function(t,e,n){var i,o,a,s,u=this,c=e||bt,l=0,h="",f=!1,d=!1,y=!1;t=_(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=U(t,it,"")),t=U(t,ot,""),i=v(t);while(l<=i.length){switch(o=i[l],c){case bt:if(!o||!D(Q,o)){if(e)return z;c=Et;continue}h+=K(o),c=wt;break;case wt:if(o&&(D(Y,o)||"+"==o||"-"==o||"."==o))h+=K(o);else{if(":"!=o){if(e)return z;h="",c=Et,l=0;continue}if(e&&(u.isSpecial()!=p(vt,h)||"file"==h&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=h,e)return void(u.isSpecial()&&vt[u.scheme]==u.port&&(u.port=null));h="","file"==u.scheme?c=Pt:u.isSpecial()&&n&&n.scheme==u.scheme?c=It:u.isSpecial()?c=kt:"/"==i[l+1]?(c=Tt,l++):(u.cannotBeABaseURL=!0,j(u.path,""),c=jt)}break;case Et:if(!n||n.cannotBeABaseURL&&"#"!=o)return z;if(n.cannotBeABaseURL&&"#"==o){u.scheme=n.scheme,u.path=g(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=qt;break}c="file"==n.scheme?Pt:St;continue;case It:if("/"!=o||"/"!=i[l+1]){c=St;continue}c=At,l++;break;case Tt:if("/"==o){c=xt;break}c=Ft;continue;case St:if(u.scheme=n.scheme,o==r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query=n.query;else if("/"==o||"\\"==o&&u.isSpecial())c=Ct;else if("?"==o)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query="",c=Ut;else{if("#"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.path.length--,c=Ft;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query=n.query,u.fragment="",c=qt}break;case Ct:if(!u.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=Ft;continue}c=xt}else c=At;break;case kt:if(c=At,"/"!=o||"/"!=P(h,l+1))continue;l++;break;case At:if("/"!=o&&"\\"!=o){c=xt;continue}break;case xt:if("@"==o){f&&(h="%40"+h),f=!0,a=v(h);for(var m=0;m<a.length;m++){var b=a[m];if(":"!=b||y){var w=dt(b,pt);y?u.password+=w:u.username+=w}else y=!0}h=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(f&&""==h)return W;l-=v(h).length+1,h="",c=Nt}else h+=o;break;case Nt:case Rt:if(e&&"file"==u.scheme){c=Lt;continue}if(":"!=o||d){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(u.isSpecial()&&""==h)return G;if(e&&""==h&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(h),s)return s;if(h="",c=Mt,e)return;continue}"["==o?d=!0:"]"==o&&(d=!1),h+=o}else{if(""==h)return G;if(s=u.parseHost(h),s)return s;if(h="",c=Ot,e==Rt)return}break;case Ot:if(!D(X,o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()||e){if(""!=h){var E=N(h,10);if(E>65535)return $;u.port=u.isSpecial()&&E===vt[u.scheme]?null:E,h=""}if(e)return;c=Mt;continue}return $}h+=o;break;case Pt:if(u.scheme="file","/"==o||"\\"==o)c=Dt;else{if(!n||"file"!=n.scheme){c=Ft;continue}if(o==r)u.host=n.host,u.path=g(n.path),u.query=n.query;else if("?"==o)u.host=n.host,u.path=g(n.path),u.query="",c=Ut;else{if("#"!=o){yt(L(g(i,l),""))||(u.host=n.host,u.path=g(n.path),u.shortenPath()),c=Ft;continue}u.host=n.host,u.path=g(n.path),u.query=n.query,u.fragment="",c=qt}}break;case Dt:if("/"==o||"\\"==o){c=Lt;break}n&&"file"==n.scheme&&!yt(L(g(i,l),""))&&(gt(n.path[0],!0)?j(u.path,n.path[0]):u.host=n.host),c=Ft;continue;case Lt:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!e&&gt(h))c=Ft;else if(""==h){if(u.host="",e)return;c=Mt}else{if(s=u.parseHost(h),s)return s;if("localhost"==u.host&&(u.host=""),e)return;h="",c=Mt}continue}h+=o;break;case Mt:if(u.isSpecial()){if(c=Ft,"/"!=o&&"\\"!=o)continue}else if(e||"?"!=o)if(e||"#"!=o){if(o!=r&&(c=Ft,"/"!=o))continue}else u.fragment="",c=qt;else u.query="",c=Ut;break;case Ft:if(o==r||"/"==o||"\\"==o&&u.isSpecial()||!e&&("?"==o||"#"==o)){if(_t(h)?(u.shortenPath(),"/"==o||"\\"==o&&u.isSpecial()||j(u.path,"")):mt(h)?"/"==o||"\\"==o&&u.isSpecial()||j(u.path,""):("file"==u.scheme&&!u.path.length&&gt(h)&&(u.host&&(u.host=""),h=P(h,0)+":"),j(u.path,h)),h="","file"==u.scheme&&(o==r||"?"==o||"#"==o))while(u.path.length>1&&""===u.path[0])q(u.path);"?"==o?(u.query="",c=Ut):"#"==o&&(u.fragment="",c=qt)}else h+=dt(o,ft);break;case jt:"?"==o?(u.query="",c=Ut):"#"==o?(u.fragment="",c=qt):o!=r&&(u.path[0]+=dt(o,lt));break;case Ut:e||"#"!=o?o!=r&&("'"==o&&u.isSpecial()?u.query+="%27":u.query+="#"==o?"%23":dt(o,lt)):(u.fragment="",c=qt);break;case qt:o!=r&&(u.fragment+=dt(o,ht));break}l++}},parseHost:function(t){var e,n,r;if("["==P(t,0)){if("]"!=P(t,t.length-1))return G;if(e=st(B(t,1,-1)),!e)return G;this.host=e}else if(this.isSpecial()){if(t=m(t),D(nt,t))return G;if(e=at(t),null===e)return G;this.host=e}else{if(D(rt,t))return G;for(e="",n=v(t),r=0;r<n.length;r++)e+=dt(n[r],lt);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(vt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&gt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=ct(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+L(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(t){var e=this.parse(t);if(e)throw x(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Bt(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+ct(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(_(t)+":",bt)},getUsername:function(){return this.username},setUsername:function(t){var e=v(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=dt(e[n],pt)}},getPassword:function(){return this.password},setPassword:function(t){var e=v(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=dt(e[n],pt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ct(t):ct(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Nt)},getHostname:function(){var t=this.host;return null===t?"":ct(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Rt)},getPort:function(){var t=this.port;return null===t?"":_(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=_(t),""==t?this.port=null:this.parse(t,Ot))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Mt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=_(t),""==t?this.query=null:("?"==P(t,0)&&(t=B(t,1)),this.query="",this.parse(t,Ut)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){t=_(t),""!=t?("#"==P(t,0)&&(t=B(t,1)),this.fragment="",this.parse(t,qt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Bt=function(t){var e=f(this,Kt),n=w(arguments.length,1)>1?arguments[1]:void 0,r=T(e,new Vt(t,!1,n));o||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Kt=Bt.prototype,Ht=function(t,e){return{get:function(){return S(this)[t]()},set:e&&function(t){return S(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&l(Kt,{href:Ht("serialize","setHref"),origin:Ht("getOrigin"),protocol:Ht("getProtocol","setProtocol"),username:Ht("getUsername","setUsername"),password:Ht("getPassword","setPassword"),host:Ht("getHost","setHost"),hostname:Ht("getHostname","setHostname"),port:Ht("getPort","setPort"),pathname:Ht("getPathname","setPathname"),search:Ht("getSearch","setSearch"),searchParams:Ht("getSearchParams"),hash:Ht("getHash","setHash")}),h(Kt,"toJSON",(function(){return S(this).serialize()}),{enumerable:!0}),h(Kt,"toString",(function(){return S(this).serialize()}),{enumerable:!0}),A){var Wt=A.createObjectURL,zt=A.revokeObjectURL;Wt&&h(Bt,"createObjectURL",u(Wt,A)),zt&&h(Bt,"revokeObjectURL",u(zt,A))}b(Bt,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Bt})},3753:function(t,e,n){"use strict";var r=n(2109),i=n(6916);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},7964:function(t,e,n){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,r(e)}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},389:function(t,e,n){"use strict";var r=n(7964)["default"];n(1532),n(1539),n(8783),n(3948),n(1703),n(8309),n(4916),n(5306),n(9714),n(8862),n(4723),n(9653),n(2222),n(7327);var i=n(8866),o=n(6037),a=n(4270),s=n(9556),u=n(2864);function c(t){return t&&"object"===r(t)&&"default"in t?t:{default:t}}var l,h=c(i),f=(l={},l["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",l["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",l["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",l["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",l["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",l["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",l["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",l["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",l["recaptcha-error"]="ReCAPTCHA error.",l),p=new s.ErrorFactory("appCheck","AppCheck",f),d=new Map,v={activated:!1,tokenObservers:[]},g={enabled:!1};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(t){return d.get(t)||v}function m(t,e){d.set(t,e)}function _(){return g}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b="https://content-firebaseappcheck.googleapis.com/v1beta",w="exchangeRecaptchaToken",E="exchangeDebugToken",I={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},T=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,S(this.getNextRun(t))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}}))}))},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function S(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(){return self.grecaptcha}function k(t){if(!y(t).activated)throw p.create("use-before-activation",{appName:t.name})}function A(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}))}function x(t){return s.base64.encodeString(JSON.stringify(t),!1)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(t,e){var n=t.url,r=t.body;return a.__awaiter(this,void 0,void 0,(function(){var t,i,o,s,u,c,l,h,f,d;return a.__generator(this,(function(a){switch(a.label){case 0:t={"Content-Type":"application/json"},i=e.getImmediate({optional:!0}),i&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),o={method:"POST",body:JSON.stringify(r),headers:t},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(n,o)];case 2:return s=a.sent(),[3,4];case 3:throw u=a.sent(),p.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw p.create("fetch-status-error",{httpStatus:s.status});a.label=5;case 5:return a.trys.push([5,7,,8]),[4,s.json()];case 6:return c=a.sent(),[3,8];case 7:throw l=a.sent(),p.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(h=c.ttl.match(/^([\d.]+)(s)$/),!h||!h[2]||isNaN(Number(h[1])))throw p.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return f=1e3*Number(h[1]),d=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:d+f,issuedAtTimeMillis:d}]}}))}))}function R(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":"+w+"?key="+o,body:{recaptcha_token:e}}}function O(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":"+E+"?key="+o,body:{debug_token:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P="firebase-app-check-database",D=1,L="firebase-app-check-store",M="debug-token",F=null;function j(){return F||(F=new Promise((function(t,e){try{var n=indexedDB.open(P,D);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(p.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(L,{keyPath:"compositeKey"})}}}catch(r){e(p.create("storage-open",{originalErrorMessage:r.message}))}})),F)}function U(t){return H(W(t))}function q(t,e){return K(W(t),e)}function V(t){return K(M,t)}function B(){return H(M)}function K(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,j()];case 1:return n=a.sent(),r=n.transaction(L,"readwrite"),i=r.objectStore(L),o=i.put({compositeKey:t,value:e}),[2,new Promise((function(t,e){o.onsuccess=function(e){t()},r.onerror=function(t){var n;e(p.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function H(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return a.__generator(this,(function(o){switch(o.label){case 0:return[4,j()];case 1:return e=o.sent(),n=e.transaction(L,"readonly"),r=n.objectStore(L),i=r.get(t),[2,new Promise((function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(p.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function W(t){return t.options.appId+"-"+t.name}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z=new u.Logger("@firebase/app-check");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n;return a.__generator(this,(function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,U(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),z.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}}))}))}function $(t,e){return s.isIndexedDBAvailable()?q(t,e).catch((function(t){z.warn("Failed to write token to indexeddb. Error: "+t)})):Promise.resolve()}function Q(){return a.__awaiter(this,void 0,void 0,(function(){var t,e;return a.__generator(this,(function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,B()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=A(),V(e).catch((function(t){return z.warn("Failed to persist debug token to indexeddb. Error: "+t)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(){var t=_();return t.enabled}function X(){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(e){if(t=_(),t.enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}function J(){var t=s.getGlobal();if("string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=_();e.enabled=!0;var n=new s.Deferred;e.token=n,"string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Q())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z={error:"UNKNOWN_ERROR"};function tt(t,e,n){return void 0===n&&(n=!1),a.__awaiter(this,void 0,void 0,(function(){var r,i,o,s,u,c,l,h,f,p;return a.__generator(this,(function(d){switch(d.label){case 0:return k(t),r=y(t),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:s=d.sent(),s&&ot(s)&&(i=s,m(t,a.__assign(a.__assign({},r),{token:i})),it(t,{token:i.token})),d.label=2;case 2:return!n&&i&&ot(i)?[2,{token:i.token}]:Y()?(c=N,l=O,h=[t],[4,X()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,h.concat([d.sent()])),e])];case 4:return u=d.sent(),[4,$(t,u)];case 5:return d.sent(),m(t,a.__assign(a.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return d.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=d.sent(),[3,9];case 8:return f=d.sent(),z.error(f),o=f,[3,9];case 9:return i?[3,10]:(p=at(o),[3,12]);case 10:return p={token:i.token},m(t,a.__assign(a.__assign({},r),{token:i})),[4,$(t,i)];case 11:d.sent(),d.label=12;case 12:return it(t,p),[2,p]}}))}))}function et(t,e,n,r,i){var o=y(t),s={next:r,error:i,type:n},u=a.__assign(a.__assign({},o),{tokenObservers:a.__spreadArray(a.__spreadArray([],o.tokenObservers),[s])});if(!u.tokenRefresher){var c=rt(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&ot(o.token)){var l=o.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==o.token&&o.cachedTokenPromise.then((function(t){t&&ot(t)&&r({token:t.token})})).catch((function(){}));m(t,u)}function nt(t,e){var n=y(t),r=n.tokenObservers.filter((function(t){return t.next!==e}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(t,a.__assign(a.__assign({},n),{tokenObservers:r}))}function rt(t,e){var n=this;return new T((function(){return a.__awaiter(n,void 0,void 0,(function(){var n,r;return a.__generator(this,(function(i){switch(i.label){case 0:return n=y(t),n.token?[3,2]:[4,tt(t,e)];case 1:return r=i.sent(),[3,4];case 2:return[4,tt(t,e,!0)];case 3:r=i.sent(),i.label=4;case 4:if(r.error)throw r.error;return[2]}}))}))}),(function(){return!0}),(function(){var e=y(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),I.RETRIAL_MIN_WAIT,I.RETRIAL_MAX_WAIT)}function it(t,e){for(var n=y(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{"EXTERNAL"===o.type&&null!=e.error?o.error(e.error):o.next(e)}catch(a){}}}function ot(t){return t.expireTimeMillis-Date.now()>0}function at(t){return{token:x(Z),error:t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st="https://www.google.com/recaptcha/api.js";function ut(t,e){var n=y(t),r=new s.Deferred;m(t,a.__assign(a.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var u=C();return u?u.ready((function(){lt(t,e,u,i),r.resolve(u)})):ht((function(){var n=C();if(!n)throw new Error("no recaptcha");n.ready((function(){lt(t,e,n,i),r.resolve(n)}))})),r.promise}function ct(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n;return a.__generator(this,(function(r){switch(r.label){case 0:return k(t),e=y(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise((function(e,r){var i=y(t).reCAPTCHAState;n.ready((function(){e(n.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function lt(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=y(t);m(t,a.__assign(a.__assign({},o),{reCAPTCHAState:a.__assign(a.__assign({},o.reCAPTCHAState),{widgetId:i})}))}function ht(t){var e=document.createElement("script");e.src=""+st,e.onload=t,document.head.appendChild(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft=function(){function t(t){this._siteKey=t}return t.prototype.getToken=function(){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(e){switch(e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw p.create("use-before-activation",{appName:""});e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ct(this._app)];case 2:return t=e.sent(),[3,4];case 3:throw e.sent(),p.create("recaptcha-error");case 4:return[2,N(R(this._app,t),this._platformLoggerProvider)]}}))}))},t.prototype.initialize=function(t,e){this._app=t,this._platformLoggerProvider=e,ut(t,this._siteKey).catch((function(){}))},t}(),pt=function(){function t(t){this._customProviderOptions=t}return t.prototype.getToken=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,e,n;return a.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw p.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=r.sent(),e=s.issuedAtTime(t.token),n=null!==e&&e<Date.now()&&e>0?1e3*e:Date.now(),[2,a.__assign(a.__assign({},t),{issuedAtTimeMillis:n})]}}))}))},t.prototype.initialize=function(t){this._app=t},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dt(t,e,n,r){var i=y(t);if(i.activated)throw p.create("already-activated",{appName:t.name});var o=a.__assign(a.__assign({},i),{activated:!0});o.cachedTokenPromise=G(t).then((function(e){return e&&ot(e)&&m(t,a.__assign(a.__assign({},y(t)),{token:e})),e})),o.provider="string"===typeof e?new ft(e):e instanceof ft||e instanceof pt?e:new pt({getToken:e.getToken}),o.isTokenAutoRefreshEnabled=void 0===r?t.automaticDataCollectionEnabled:r,m(t,o),o.provider.initialize(t,n)}function vt(t,e){var n=y(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),m(t,a.__assign(a.__assign({},n),{isTokenAutoRefreshEnabled:e}))}function gt(t,e,n){return a.__awaiter(this,void 0,void 0,(function(){var r;return a.__generator(this,(function(i){switch(i.label){case 0:return[4,tt(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}}))}))}function yt(t,e,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),et(t,e,"EXTERNAL",o,a),function(){return nt(t,o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e){return{app:t,activate:function(n,r){return dt(t,n,e,r)},setTokenAutoRefreshEnabled:function(e){return vt(t,e)},getToken:function(n){return gt(t,e,n)},onTokenChanged:function(n,r,i){return yt(t,e,n,r)},INTERNAL:{delete:function(){for(var e=y(t).tokenObservers,n=0,r=e;n<r.length;n++){var i=r[n];nt(t,i.next)}return Promise.resolve()}}}}function _t(t,e){return{getToken:function(n){return tt(t,e,n)},addTokenListener:function(n){return et(t,e,"INTERNAL",n)},removeTokenListener:function(e){return nt(t,e)}}}var bt="@firebase/app-check",wt="0.3.2",Et="appCheck",It="app-check-internal";function Tt(t){t.INTERNAL.registerComponent(new o.Component(Et,(function(t){var e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger");return mt(e,n)}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:ft,CustomProvider:pt}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(t,e,n){var r=t.getProvider(It);r.initialize()}))),t.INTERNAL.registerComponent(new o.Component(It,(function(t){var e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger");return _t(e,n)}),"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(bt,wt)}Tt(h["default"]),J()},8866:function(t,e,n){"use strict";n.r(e),n.d(e,{firebase:function(){return U}});var r,i,o=n(9726),a=(n(8309),n(1539),n(4747),n(8783),n(3948),n(1249),n(3753),n(1532),n(7941),n(4916),n(4723),n(9600),n(7327),n(4270)),s=n(9556),u=n(6037),c=n(2864),l=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),h=new s.ErrorFactory("app","Firebase",l),f="@firebase/app",p="0.6.30",d="@firebase/analytics",v="@firebase/app-check",g="@firebase/auth",y="@firebase/database",m="@firebase/functions",_="@firebase/installations",b="@firebase/messaging",w="@firebase/performance",E="@firebase/remote-config",I="@firebase/storage",T="@firebase/firestore",S="firebase-wrapper",C="[DEFAULT]",k=(i={},i[f]="fire-core",i[d]="fire-analytics",i[v]="fire-app-check",i[g]="fire-auth",i[y]="fire-rtdb",i[m]="fire-fn",i[_]="fire-iid",i[b]="fire-fcm",i[w]="fire-perf",i[E]="fire-rc",i[I]="fire-gcs",i[T]="fire-fst",i["fire-js"]="fire-js",i[S]="fire-js-all",i),A=new c.Logger("@firebase/app"),x=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.deepCopy)(t),this.container=new u.ComponentContainer(e.name),this._addComponent(new u.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=C),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=C),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){A.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();x.prototype.name&&x.prototype.options||x.prototype.delete||console.log("dc");var N="8.10.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(t){var e={},n=new Map,r={__esModule:!0,initializeApp:l,app:a,registerVersion:d,setLogLevel:c.setLogLevel,onLog:v,apps:null,SDK_VERSION:N,INTERNAL:{registerComponent:p,removeApp:i,components:n,useAsService:g}};function i(t){delete e[t]}function a(t){if(t=t||C,!(0,s.contains)(e,t))throw h.create("no-app",{appName:t});return e[t]}function l(n,i){if(void 0===i&&(i={}),"object"!==(0,o.Z)(i)||null===i){var a=i;i={name:a}}var u=i;void 0===u.name&&(u.name=C);var c=u.name;if("string"!==typeof c||!c)throw h.create("bad-app-name",{appName:String(c)});if((0,s.contains)(e,c))throw h.create("duplicate-app",{appName:c});var l=new t(n,u,r);return e[c]=l,l}function f(){return Object.keys(e).map((function(t){return e[t]}))}function p(i){var o=i.name;if(n.has(o))return A.debug("There were multiple attempts to register component "+o+"."),"PUBLIC"===i.type?r[o]:null;if(n.set(o,i),"PUBLIC"===i.type){var u=function(t){if(void 0===t&&(t=a()),"function"!==typeof t[o])throw h.create("invalid-app-argument",{appName:o});return t[o]()};void 0!==i.serviceProps&&(0,s.deepExtend)(u,i.serviceProps),r[o]=u,t.prototype[o]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,o);return n.apply(this,i.multipleInstances?t:[])}}for(var c=0,l=Object.keys(e);c<l.length;c++){var f=l[c];e[f]._addComponent(i)}return"PUBLIC"===i.type?r[o]:null}function d(t,e,n){var r,i=null!==(r=k[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var s=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&s.push("and"),a&&s.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void A.warn(s.join(" "))}p(new u.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))}function v(t,e){if(null!==t&&"function"!==typeof t)throw h.create("invalid-log-argument");(0,c.setUserLogHandler)(t,e)}function g(t,e){if("serverAuth"===e)return null;var n=e;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:f}),a["App"]=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){var t=R(x);function e(e){(0,s.deepExtend)(t,e)}return t.INTERNAL=(0,a.__assign)((0,a.__assign)({},t.INTERNAL),{createFirebaseNamespace:O,extendNamespace:e,createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}var P=O(),D=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map((function(t){if(L(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(t,e){t.INTERNAL.registerComponent(new u.Component("platform-logger",(function(t){return new D(t)}),"PRIVATE")),t.registerVersion(f,p,e),t.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,s.isBrowser)()&&void 0!==self.firebase){A.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var F=self.firebase.SDK_VERSION;F&&F.indexOf("LITE")>=0&&A.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var j=P.initializeApp;P.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.isNode)()&&A.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),j.apply(void 0,t)};var U=P;M(U),e["default"]=U},6037:function(t,e,n){"use strict";n.r(e),n.d(e,{Component:function(){return o},ComponentContainer:function(){return l},Provider:function(){return s}});n(8309),n(1532),n(1539),n(8783),n(3948),n(1703),n(1038),n(1249),n(7327),n(189);var r=n(4270),i=n(9556),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(p){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],l=s[1],h=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:h});l.resolve(f)}catch(p){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),(0,r.__read)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=a),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[0],f=l[1],p=this.normalizeInstanceIdentifier(h);a===p&&f.resolve(s)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=a),this.component?this.component.multipleInstances?t:a:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function u(t){return t===a?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){var e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},8200:function(t,e,n){"use strict";var r=n(9726),i=(n(1539),n(9714),n(1703),n(9653),n(2707),n(9600),n(4916),n(7601),n(4603),n(8450),n(8386),n(4765),n(189),n(8783),n(3948),n(4723),n(561),n(9826),n(3123),n(7042),n(1532),n(1249),n(5306),n(8309),n(2481),n(4747),n(7327),n(4553),n(1038),n(2222),n(8862),n(7941),n(3753),n(3371),n(8866)),o=n(6037),a=n(9556),s=n(4270),u=n(2864);t=n.hmd(t);var c="@firebase/database",l="0.11.0",h="";function f(t){h=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,a.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,a.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,a.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),v=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new p(e)}}catch(n){}return new d},g=v("localStorage"),y=v("sessionStorage"),m=new u.Logger("@firebase/database"),_=function(){var t=1;return function(){return t++}}(),b=function(t){var e=(0,a.stringToByteArray)(t),n=new a.Sha1;n.update(e);var r=n.digest();return a.base64.encodeByteArray(r)},w=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i="",o=0;o<e.length;o++){var s=e[o];Array.isArray(s)||s&&"object"===(0,r.Z)(s)&&"number"===typeof s.length?i+=t.apply(null,s):"object"===(0,r.Z)(s)?i+=(0,a.stringify)(s):i+=s,i+=" "}return i},E=null,I=!0,T=function(t,e){(0,a.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=u.LogLevel.VERBOSE,E=m.log.bind(m),e&&y.set("logging_enabled",!0)):"function"===typeof t?E=t:(E=null,y.remove("logging_enabled"))},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===I&&(I=!1,null===E&&!0===y.get("logging_enabled")&&T(!0)),E){var n=w.apply(null,t);E(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];S.apply(void 0,(0,s.__spreadArray)([t],(0,s.__read)(e)))}},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+w.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));m.error(n)},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+w.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));throw m.error(n),new Error(n)},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+w.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));m.warn(n)},N=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},R=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},O=function(t){if((0,a.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},P="[MIN_NAME]",D="[MAX_NAME]",L=function(t,e){if(t===e)return 0;if(t===P||e===D)return-1;if(e===P||t===D)return 1;var n=$(t),r=$(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},M=function(t,e){return t===e?0:t<e?-1:1},F=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,a.stringify)(e))},j=function t(e){if("object"!==(0,r.Z)(e)||null===e)return(0,a.stringify)(e);var n=[];for(var i in e)n.push(i);n.sort();for(var o="{",s=0;s<n.length;s++)0!==s&&(o+=","),o+=(0,a.stringify)(n[s]),o+=":",o+=t(e[n[s]]);return o+="}",o},U=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var V=function(t){(0,a.assert)(!R(t),"Invalid JSON number");var e,n,r,i,o,s=11,u=52,c=(1<<s-1)-1;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,1-c)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),c),n=i+c,r=Math.round(t*Math.pow(2,u-i)-Math.pow(2,u))):(n=0,r=Math.round(t/Math.pow(2,1-c-u))));var l=[];for(o=u;o;o-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(o=s;o;o-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(e?1:0),l.reverse();var h=l.join(""),f="";for(o=0;o<64;o+=8){var p=parseInt(h.substr(o,8),2).toString(16);1===p.length&&(p="0"+p),f+=p}return f.toLowerCase()},B=function(){return!("object"!==("undefined"===typeof window?"undefined":(0,r.Z)(window))||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},K=function(){return"object"===("undefined"===typeof Windows?"undefined":(0,r.Z)(Windows))&&"object"===(0,r.Z)(Windows.UI)};function H(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var W=new RegExp("^-?(0*)\\d{1,10}$"),z=-2147483648,G=2147483647,$=function(t){if(W.test(t)){var e=Number(t);if(e>=z&&e<=G)return e}return null},Q=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||"";throw x("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Y=function(){var t="object"===("undefined"===typeof window?"undefined":(0,r.Z)(window))&&window["navigator"]&&window["navigator"]["userAgent"]||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},X=function(t,e){var n=setTimeout(t,e);return"object"===(0,r.Z)(n)&&n["unref"]&&n["unref"](),n},J=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null===e||void 0===e?void 0:e.getImmediate({optional:!0}),this.appCheck||null===e||void 0===e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){x('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),Z=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',x(t)},t}(),tt=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),et="5",nt="v",rt="s",it="r",ot="f",at=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,st="ls",ut="p",ct="ac",lt="websocket",ht="long_polling",ft=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&g.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function pt(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function dt(t,e,n){var i;if((0,a.assert)("string"===typeof e,"typeof type must == string"),(0,a.assert)("object"===(0,r.Z)(n),"typeof params must == object"),e===lt)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ht)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}pt(t)&&(n["ns"]=t.namespace);var o=[];return q(n,(function(t,e){o.push(t+"="+e)})),i+o.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,a.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,a.deepCopy)(this.counters_)},t}(),gt={},yt={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){var e=t.toString();return gt[e]||(gt[e]=new vt),gt[e]}function _t(t,e){var n=t.toString();return yt[n]||(yt[n]=e()),yt[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Q((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;while(this.pendingResponses[this.currentResponseNum]){var o=r();if("break"===o)break}},t}(),wt="start",Et="close",It="pLPCommand",Tt="pRTLPCB",St="id",Ct="pw",kt="ser",At="cb",xt="seg",Nt="ts",Rt="d",Ot="dframe",Pt=1870,Dt=30,Lt=Pt-Dt,Mt=25e3,Ft=3e4,jt=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=mt(e),this.urlFn=function(t){return s.appCheckToken&&(t[ct]=s.appCheckToken),dt(e,ht,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(Ft)),O((function(){if(!n.isClosed_){n.scriptTagHolder=new Ut((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.__read)(t,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===wt)n.id=o,n.password=a;else{if(i!==Et)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.__read)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={};t[wt]="t",t[kt]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t[At]=n.scriptTagHolder.uniqueCallbackIdentifier),t[nt]=et,n.transportSessionId&&(t[rt]=n.transportSessionId),n.lastSessionId&&(t[st]=n.lastSessionId),n.applicationId&&(t[ut]=n.applicationId),n.appCheckToken&&(t[ct]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&at.test(location.hostname)&&(t[it]=ot);var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(0,a.isNodeSdk)()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!B()&&!K())},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,a.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,a.base64Encode)(e),r=U(n,Lt),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,a.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={};n[Ot]="t",n[St]=t,n[Ct]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,a.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ut=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,a.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=_(),window[It+this.uniqueCallbackIdentifier]=e,window[Tt+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var s=document.domain;o='<script>document.domain="'+s+'";<\/script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){S("frame writing exception"),c.stack&&S(c.stack),S(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{var e=t.contentWindow.document;e||S("No IE domain setting required")}catch(r){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){this.myID=t,this.myPW=e,this.alive=!0;while(this.newRequest_());},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[St]=this.myID,t[Ct]=this.myPW,t[kt]=this.currentSerial;var e=this.urlFn(t),n="",r=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(!(i.d.length+Dt+n.length<=Pt))break;var o=this.pendingSegs.shift();n=n+"&"+xt+r+"="+o.seg+"&"+Nt+r+"="+o.ts+"&"+Rt+r+"="+o.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(Mt)),o=function(){clearTimeout(i),r()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;(0,a.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){S("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),qt=16384,Vt=45e3,Bt=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!==typeof MozWebSocket?Bt=MozWebSocket:"undefined"!==typeof WebSocket&&(Bt=WebSocket);var Kt=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=mt(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={};return i[nt]=et,!(0,a.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&at.test(location.hostname)&&(i[it]=ot),e&&(i[rt]=e),n&&(i[st]=n),r&&(i[ct]=r),dt(t,lt,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g.set("previous_websocket_failure",!0);try{if((0,a.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/"+et+"/"+h+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers["Authorization"]="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o={NODE_ENV:"production",BASE_URL:"/"},s=0===this.connURL.indexOf("wss://")?o["HTTPS_PROXY"]||o["https_proxy"]:o["HTTP_PROXY"]||o["http_proxy"];s&&(i["proxy"]={origin:s}),this.mySock=new Bt(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Bt(this.connURL,[],i)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Bt&&!t.forceDisallow_},t.previouslyFailed=function(){return g.isInMemoryStorage||!0===g.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){g.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,a.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,a.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t["data"];if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,a.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=U(e,qt);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(Vt))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ht=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[jt,Kt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Kt&&Kt["isAvailable"](),o=i&&!Kt.previouslyFailed();if(e.webSocketOnly&&(i||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Kt];else{var a=this.transports_=[];try{for(var u=(0,s.__values)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l["isAvailable"]()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Wt=6e4,zt=5e3,Gt=10240,$t=102400,Qt="t",Yt="d",Xt="s",Jt="r",Zt="e",te="o",ee="a",ne="n",re="p",ie="h",oe=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Ht(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=X((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>$t?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>Gt?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(Qt in t){var e=t[Qt];e===ee?this.upgradeIfSecondaryHealthy_():e===Jt?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):e===te&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=F("t",t),n=F("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:re,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ee,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ne,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=F("t",t),n=F("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=F(Qt,t);if(Yt in t){var n=t[Yt];if(e===ie)this.onHandshake_(n);else if(e===ne){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===Xt?this.onConnectionShutdown_(n):e===Jt?this.onReset_(n):e===Zt?k("Server Error: "+n):e===te?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),et!==n&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),X((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(Wt))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(zt))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:re,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ae=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),se=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,a.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,s.__spreadArray)([],(0,s.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,a.assert)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),ue=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,a.isMobileCordova)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return(0,s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,a.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(se),ce=32,le=768,he=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(){return new he("")}function pe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function de(t){return t.pieces_.length-t.pieceNum_}function ve(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function ge(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ye(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function me(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function _e(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function be(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new he(n,0)}function we(t){return t.pieceNum_>=t.pieces_.length}function Ee(t,e){var n=pe(t),r=pe(e);if(null===n)return e;if(n===r)return Ee(ve(t),ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ie(t,e){for(var n=me(t,0),r=me(e,0),i=0;i<n.length&&i<r.length;i++){var o=L(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Te(t,e){if(de(t)!==de(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Se(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(de(t)>de(e))return!1;while(n<t.pieces_.length){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Ce=function(){function t(t,e){this.errorPrefix_=e,this.parts_=me(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,a.stringLength)(this.parts_[n]);xe(this)}return t}();function ke(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,a.stringLength)(e),xe(t)}function Ae(t){var e=t.parts_.pop();t.byteLength_-=(0,a.stringLength)(e),t.parts_.length>0&&(t.byteLength_-=1)}function xe(t){if(t.byteLength_>le)throw new Error(t.errorPrefix_+"has a key path longer than "+le+" bytes ("+t.byteLength_+").");if(t.parts_.length>ce)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ce+") or object contains a cycle "+Ne(t))}function Ne(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Oe,Pe=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",e="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return(0,s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,a.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(se),De=1e3,Le=3e5,Me=3e3,Fe=3e4,je=1.3,Ue=3e4,qe="server_kill",Ve=3,Be=function(t){function e(n,r,i,o,s,u,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=o,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=C("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=De,h.maxReconnectDelay_=Le,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,a.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Pe.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ue.getInstance().on("online",h.onOnline_,h),h}return(0,s.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,a.stringify)(i)),(0,a.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new a.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t["d"];"ok"===t["s"]?(e.onDataUpdate_(r["p"],i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),Me),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),(0,a.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,a.assert)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i},s="q";t.tag&&(a["q"]=r._queryObject,a["t"]=t.tag),a["h"]=t.hashFn(),this.sendRequest(s,a,(function(a){var s=a["d"],u=a["s"];e.warnOnListenWarnings_(s,r);var c=n.listens.get(i)&&n.listens.get(i).get(o);c===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===(0,r.Z)(t)&&(0,a.contains)(t,"w")){var n=(0,a.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();x("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e=t&&40===t.length;(e||(0,a.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Fe)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,a.isValidFormat)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i["noauth"]=!0:"object"===(0,r.Z)(this.authOverride_)&&(i["authvar"]=this.authOverride_),this.sendRequest(n,i,(function(n){var r=n["s"],i=n["d"]||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e["s"],r=e["d"]||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,a.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t},o="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(o,i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t["s"],t["d"])}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o["h"]=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r["s"],r["d"])}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){var n=t["s"];if("ok"!==n){var r=t["d"];e.log_("reportStats","Error sending stats: "+r)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,a.stringify)(t));var e=t["r"],n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t["b"]))}else{if("error"in t)throw"A server-side error has occurred: "+t["error"];"a"in t&&this.onDataPush_(t["a"],t["b"])}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e["p"],e["d"],!1,e["t"]):"m"===t?this.onDataUpdate_(e["p"],e["d"],!0,e["t"]):"c"===t?this.onListenRevoked_(e["p"],e["q"]):"ac"===t?this.onAuthRevoked_(e["s"],e["d"]):"apc"===t?this.onAppCheckRevoked_(e["s"],e["d"]):"sd"===t?this.onSecurityDebugPacket_(e):k("Unrecognized action received from server: "+(0,a.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,a.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>Ue&&(this.reconnectDelay_=De),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*je)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,s.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,u,c,l,h,f,p,d,v,g,y=this;return(0,s.__generator)(this,(function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(t){(0,a.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return p=s.__read.apply(void 0,[m.sent(),2]),d=p[0],v=p[1],u?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=v&&v.token,c=new oe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){x(t+" ("+y.repoInfo_.toString()+")"),y.interrupt(qe)}),o)),[3,4];case 3:return g=m.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&x(g),l()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){S("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){S("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,a.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return j(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new he(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){S("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ve&&(this.reconnectDelay_=Fe,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){S("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ve&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t["msg"].replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,s.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,(0,s.__values)(a.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);while(this.onDisconnectRequestQueue_.length){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,a.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+h.replace(/\./g,"-")]=1,(0,a.isMobileCordova)()?t["framework.cordova"]=1:(0,a.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ue.getInstance().currentlyOnline();return(0,a.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ae),Ke=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),He=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ke(P,t),r=new Ke(P,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ke.MIN},t}(),We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Re},set:function(t){Re=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return L(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,a.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ke.MIN},e.prototype.maxPost=function(){return new Ke(D,Re)},e.prototype.makePost=function(t,e){return(0,a.assert)("string"===typeof t,"KeyIndex indexValue must always be a string."),new Ke(t,Re)},e.prototype.toString=function(){return".key"},e}(He),ze=new We,Ge=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];var o=1;while(!t.isEmpty())if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_){e=e.left;while(!e.isEmpty())this.nodeStack_.push(e),e=e.right}else{e=e.right;while(!e.isEmpty())this.nodeStack_.push(e),e=e.left}return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),$e=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ye.EMPTY_NODE,this.right=null!=o?o:Ye.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ye.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ye.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Qe=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new $e(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ye=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,$e.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$e.BLACK,null,null))},t.prototype.get=function(t){var e,n=this.root_;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){var e,n=this.root_,r=null;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ge(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ge(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ge(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ge(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Qe,t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xe(t,e){return L(t.name,e.name)}function Je(t,e){return L(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){Oe=t}var tn,en,nn,rn=function(t){return"number"===typeof t?"number:"+V(t):"string:"+t},on=function(t){if(t.isLeafNode()){var e=t.val();(0,a.assert)("string"===typeof e||"number"===typeof e||"object"===(0,r.Z)(e)&&(0,a.contains)(e,".sv"),"Priority must be a string or number.")}else(0,a.assert)(t===Oe||t.isEmpty(),"priority of unexpected type.");(0,a.assert)(t===Oe||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},an=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,a.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),on(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return tn},set:function(t){tn=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return we(e)?this:".priority"===pe(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=pe(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,a.assert)(".priority"!==r||1===de(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+rn(this.priorityNode_.val())+":");var e=(0,r.Z)(this.value_);t+=e+":",t+="number"===e?V(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,a.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=(0,r.Z)(e.value_),i=(0,r.Z)(this.value_),o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,a.assert)(o>=0,"Unknown leaf type: "+n),(0,a.assert)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();function sn(t){en=t}function un(t){nn=t}var cn,ln,hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?L(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ke.MIN},e.prototype.maxPost=function(){return new Ke(D,new an("[PRIORITY-POST]",nn))},e.prototype.makePost=function(t,e){var n=en(t);return new Ke(e,new an("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(He),fn=new hn,pn=Math.log(2),dn=function(){function t(t){var e=function(t){return parseInt(Math.log(t)/pn,10)},n=function(t){return parseInt(Array(t+1).join("1"),2)};this.count=e(t+1),this.current_=this.count-1;var r=n(this.count);this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),vn=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new $e(a,o.node,$e.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new $e(a,o.node,$e.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new $e(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,$e.BLACK):(s(h,$e.BLACK),s(h,$e.RED))}return o},a=new dn(t.length),s=o(a);return new Ye(r||e,s)},gn={},yn=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,a.assert)(gn&&fn,"ChildrenNode.ts has not been loaded"),cn=cn||new t({".priority":gn},{".priority":fn}),cn},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,a.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ye?e:null},t.prototype.hasIndex=function(t){return(0,a.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,a.assert)(e!==ze,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var r,i=[],o=!1,u=n.getIterator(Ke.Wrap),c=u.getNext();while(c)o=o||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=o?vn(i,e.getCompare()):gn;var l=e.toString(),h=(0,s.__assign)({},this.indexSet_);h[l]=e;var f=(0,s.__assign)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=(0,a.map)(this.indexes_,(function(t,i){var o=(0,a.safeGet)(r.indexSet_,i);if((0,a.assert)(o,"Missing index implementation for "+i),t===gn){if(o.isDefinedOn(e.node)){var s=[],u=n.getIterator(Ke.Wrap),c=u.getNext();while(c)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),vn(s,o.getCompare())}return gn}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Ke(e.name,l))),h.insert(e,e.node)}));return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=(0,a.map)(this.indexes_,(function(t){if(t===gn)return t;var r=n.get(e.name);return r?t.remove(new Ke(e.name,r)):t}));return new t(r,this.indexSet_)},t}(),mn=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&on(this.priorityNode_),this.children_.isEmpty()&&(0,a.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return ln||(ln=new t(new Ye(Je),null,yn.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||ln},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?ln:e},t.prototype.getChild=function(t){var e=pe(t);return null===e?this:this.getImmediateChild(e).getChild(ve(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,a.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ke(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?ln:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=pe(t);if(null===n)return e;(0,a.assert)(".priority"!==pe(t)||1===de(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ve(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(fn,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+rn(this.getPriority().val())+":"),this.forEachChild(fn,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ke(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ke(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ke(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));var r=this.children_.getIteratorFrom(t.name,Ke.Wrap),i=r.peek();while(null!=i&&e.compare(i,t)<0)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));var r=this.children_.getReverseIteratorFrom(t.name,Ke.Wrap),i=r.peek();while(null!=i&&e.compare(i,t)>0)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===bn?-1:0},t.prototype.withIndex=function(e){if(e===ze||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===ze||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){var n=this.getIterator(fn),r=e.getIterator(fn),i=n.getNext(),o=r.getNext();while(i&&o){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===ze?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),_n=function(t){function e(){return t.call(this,new Ye(Je),mn.EMPTY_NODE,yn.Default)||this}return(0,s.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return mn.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(mn),bn=new _n;Object.defineProperties(Ke,{MIN:{value:new Ke(P,mn.EMPTY_NODE)},MAX:{value:new Ke(D,bn)}}),We.__EMPTY_NODE=mn.EMPTY_NODE,an.__childrenNodeConstructor=mn,Ze(bn),un(bn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wn=!0;function En(t,e){if(void 0===e&&(e=null),null===t)return mn.EMPTY_NODE;if("object"===(0,r.Z)(t)&&".priority"in t&&(e=t[".priority"]),(0,a.assert)(null===e||"string"===typeof e||"number"===typeof e||"object"===(0,r.Z)(e)&&".sv"in e,"Invalid priority type found: "+(0,r.Z)(e)),"object"===(0,r.Z)(t)&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==(0,r.Z)(t)||".sv"in t){var n=t;return new an(n,En(e))}if(t instanceof Array||!wn){var i=mn.EMPTY_NODE;return q(t,(function(e,n){if((0,a.contains)(t,e)&&"."!==e.substring(0,1)){var r=En(n);!r.isLeafNode()&&r.isEmpty()||(i=i.updateImmediateChild(e,r))}})),i.updatePriority(En(e))}var o=[],s=!1,u=t;if(q(u,(function(t,e){if("."!==t.substring(0,1)){var n=En(e);n.isEmpty()||(s=s||!n.getPriority().isEmpty(),o.push(new Ke(t,n)))}})),0===o.length)return mn.EMPTY_NODE;var c=vn(o,Xe,(function(t){return t.name}),Je);if(s){var l=vn(o,fn.getCompare());return new mn(c,En(e),new yn({".priority":l},{".priority":fn}))}return new mn(c,En(e),yn.Default)}sn(En);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var In=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,a.assert)(!we(e)&&".priority"!==pe(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,s.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?L(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=En(t),r=mn.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ke(e,r)},e.prototype.maxPost=function(){var t=mn.EMPTY_NODE.updateChild(this.indexPath_,bn);return new Ke(D,t)},e.prototype.toString=function(){return me(this.indexPath_,0).join("/")},e}(He),Tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?L(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ke.MIN},e.prototype.maxPost=function(){return Ke.MAX},e.prototype.makePost=function(t,e){var n=En(t);return new Ke(e,n)},e.prototype.toString=function(){return".value"},e}(He),Sn=new Tn,Cn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kn="-",An="z",xn=786,Nn=function(){var t=0,e=[];return function(n){var r,i=n===t;t=n;var o=new Array(8);for(r=7;r>=0;r--)o[r]=Cn.charAt(n%64),n=Math.floor(n/64);(0,a.assert)(0===n,"Cannot push at time == 0");var s=o.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=Cn.charAt(e[r]);return(0,a.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),Rn=function(t){if(t===""+G)return kn;var e=$(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<xn)return n.push(kn),n.join("");var i=n.length-1;while(i>=0&&n[i]===An)i--;if(-1===i)return D;var o=n[i],a=Cn.charAt(Cn.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},On=function(t){if(t===""+z)return P;var e=$(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===kn?1===n.length?""+G:(delete n[n.length-1],n.join("")):(n[n.length-1]=Cn.charAt(Cn.indexOf(n[n.length-1])-1),n.join("")+An.repeat(xn-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pn(t){return{type:"value",snapshotNode:t}}function Dn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ln(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Mn(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Fn(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){(0,a.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ln(e,s)):(0,a.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Dn(e,n)):o.trackChildChange(Mn(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(fn,(function(t,r){e.hasChild(t)||n.trackChildChange(Ln(t,r))})),e.isLeafNode()||e.forEachChild(fn,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Mn(e,r,i))}else n.trackChildChange(Dn(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?mn.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Un=function(){function t(e){this.indexedFilter_=new jn(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ke(e,n))||(n=mn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=mn.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(mn.EMPTY_NODE);var i=this;return e.forEachChild(fn,(function(t,e){i.matches(new Ke(t,e))||(r=r.updateImmediateChild(t,mn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),qn=function(){function t(t){this.rangedFilter_=new Un(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ke(e,n))||(n=mn.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=mn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=mn.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(i.hasNext()&&o<this.limit_){var a=i.getNext(),s=void 0;if(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!s)break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=e.withIndex(this.index_),r=r.updatePriority(mn.EMPTY_NODE);var u=void 0,c=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(t,e){return h(e,t)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;var f=!1;while(i.hasNext()){a=i.getNext();!f&&l(u,a)<=0&&(f=!0);s=f&&o<this.limit_&&l(a,c)<=0;s?o++:r=r.updateImmediateChild(a.name,mn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var u=t;(0,a.assert)(u.numChildren()===this.limit_,"");var c=new Ke(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);while(null!=p&&(p.name===e||u.hasChild(p.name)))p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:o(p,c),v=h&&!n.isEmpty()&&d>=0;if(v)return null!=i&&i.trackChildChange(Mn(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ln(e,f));var g=u.updateImmediateChild(e,mn.EMPTY_NODE),y=null!=p&&this.rangedFilter_.matches(p);return y?(null!=i&&i.trackChildChange(Dn(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:h&&o(l,c)>=0?(null!=i&&(i.trackChildChange(Ln(l.name,l.node)),i.trackChildChange(Dn(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,mn.EMPTY_NODE)):t},t}(),Vn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fn}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,a.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,a.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,a.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,a.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,a.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===fn},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t.loadsAllData()?new jn(t.getIndex()):t.hasLimit()?new qn(t):new Un(t)}function Kn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Hn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Wn(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function zn(t,e,n){var r;if(t.index_===ze)"string"===typeof e&&(e=Rn(e)),r=Wn(t,e,n);else{var i=void 0;i=null==n?D:Rn(n),r=Wn(t,e,i)}return r.startAfterSet_=!0,r}function Gn(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function $n(t,e,n){var r,i;return t.index_===ze?("string"===typeof e&&(e=On(e)),i=Gn(t,e,n)):(r=null==n?P:On(n),i=Gn(t,e,r)),i.endBeforeSet_=!0,i}function Qn(t,e){var n=t.copy();return n.index_=e,n}function Yn(t){var e,n={};return t.isDefault()||(t.index_===fn?e="$priority":t.index_===Sn?e="$value":t.index_===ze?e="$key":((0,a.assert)(t.index_ instanceof In,"Unrecognized index type!"),e=t.index_.toString()),n["orderBy"]=(0,a.stringify)(e),t.startSet_&&(n["startAt"]=(0,a.stringify)(t.indexStartValue_),t.startNameSet_&&(n["startAt"]+=","+(0,a.stringify)(t.indexStartName_))),t.endSet_&&(n["endAt"]=(0,a.stringify)(t.indexEndValue_),t.endNameSet_&&(n["endAt"]+=","+(0,a.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n["limitToFirst"]=t.limit_:n["limitToLast"]=t.limit_)),n}function Xn(t){var e={};if(t.startSet_&&(e["sp"]=t.indexStartValue_,t.startNameSet_&&(e["sn"]=t.indexStartName_)),t.endSet_&&(e["ep"]=t.indexEndValue_,t.endNameSet_&&(e["en"]=t.indexEndName_)),t.limitSet_){e["l"]=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e["vf"]=n}return t.index_!==fn&&(e["i"]=t.index_.toString()),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=C("p:rest:"),o.listens_={},o}return(0,s.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,a.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Yn(t._queryParams);this.restRequest_(s+".json",l,(function(t,e){var n,l=e;(404===t&&(l=null,t=null),null===t&&o.onDataUpdate_(s,l,!1,r),(0,a.safeGet)(o.listens_,u)===c)&&(n=t?401===t?"permission_denied":"rest_error:"+t:"ok",i(n,null))}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Yn(t._queryParams),r=t._path.toString(),i=new a.Deferred;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=(0,s.__read)(i,2),u=o[0],c=o[1];u&&u.accessToken&&(e["auth"]=u.accessToken),c&&c.token&&(e["ac"]=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,a.querystring)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=(0,a.jsonEval)(h.responseText)}catch(e){x("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&x("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},e}(ae),Zn=function(){function t(){this.rootNode_=mn.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tr(){return{value:null,children:new Map}}function er(t,e,n){if(we(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=pe(e);t.children.has(r)||t.children.set(r,tr());var i=t.children.get(r);e=ve(e),er(i,e,n)}}function nr(t,e){if(we(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(fn,(function(e,n){er(t,new he(e),n)})),nr(t,e)}if(t.children.size>0){var r=pe(e);if(e=ve(e),t.children.has(r)){var i=nr(t.children.get(r),e);i&&t.children.delete(r)}return 0===t.children.size}return!0}function rr(t,e,n){null!==t.value?n(e,t.value):ir(t,(function(t,r){var i=new he(e.toString()+"/"+t);rr(r,i,n)}))}function ir(t,e){t.children.forEach((function(t,n){e(n,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,ar=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,s.__assign)({},t);return this.last_&&q(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),sr=1e4,ur=3e4,cr=3e5,lr=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ar(t);var n=sr+(ur-sr)*Math.random();X(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;q(e,(function(e,i){i>0&&(0,a.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*cr))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){t.statsToReport_[e]=!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function pr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dr(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["OVERWRITE"]=0]="OVERWRITE",t[t["MERGE"]=1]="MERGE",t[t["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",t[t["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(or||(or={}));var vr,gr=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=or.ACK_USER_WRITE,this.source=fr()}return t.prototype.operationForChild=function(e){if(we(this.path)){if(null!=this.affectedTree.value)return(0,a.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new he(e));return new t(fe(),n,this.revert)}return(0,a.assert)(pe(this.path)===e,"operationForChild called for unrelated child."),new t(ve(this.path),this.affectedTree,this.revert)},t}(),yr=function(){function t(t,e){this.source=t,this.path=e,this.type=or.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return we(this.path)?new t(this.source,fe()):new t(this.source,ve(this.path))},t}(),mr=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=or.OVERWRITE}return t.prototype.operationForChild=function(e){return we(this.path)?new t(this.source,fe(),this.snap.getImmediateChild(e)):new t(this.source,ve(this.path),this.snap)},t}(),_r=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=or.MERGE}return t.prototype.operationForChild=function(e){if(we(this.path)){var n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new mr(this.source,fe(),n.value):new t(this.source,fe(),n)}return(0,a.assert)(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ve(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),br=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(we(t))return this.isFullyInitialized()&&!this.filtered_;var e=pe(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),wr=function(){function t(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(Fn(e.childName,e.snapshotNode))})),Ir(t,i,"child_removed",e,r,n),Ir(t,i,"child_added",e,r,n),Ir(t,i,"child_moved",o,r,n),Ir(t,i,"child_changed",e,r,n),Ir(t,i,"value",e,r,n),i}function Ir(t,e,n,r,i,o){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return Sr(t,e,n)})),a.forEach((function(n){var r=Tr(t,n,o);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Tr(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Sr(t,e,n){if(null==e.childName||null==n.childName)throw(0,a.assertionError)("Should only compare child_ events.");var r=new Ke(e.childName,e.snapshotNode),i=new Ke(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){return{eventCache:t,serverCache:e}}function kr(t,e,n,r){return Cr(new br(e,n,r),t.serverCache)}function Ar(t,e,n,r){return Cr(t.eventCache,new br(e,n,r))}function xr(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Nr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr=function(){return vr||(vr=new Ye(M)),vr},Or=function(){function t(t,e){void 0===e&&(e=Rr()),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return q(e,(function(t,e){n=n.set(new he(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:fe(),value:this.value};if(we(t))return null;var n=pe(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ve(t),e);if(null!=i){var o=be(new he(n),i.path);return{path:o,value:i.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(we(e))return this;var n=pe(e),r=this.children.get(n);return null!==r?r.subtree(ve(e)):new t(null)},t.prototype.set=function(e,n){if(we(e))return new t(n,this.children);var r=pe(e),i=this.children.get(r)||new t(null),o=i.set(ve(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(we(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=pe(e),r=this.children.get(n);if(r){var i=r.remove(ve(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(we(t))return this.value;var e=pe(t),n=this.children.get(e);return n?n.get(ve(t)):null},t.prototype.setTree=function(e,n){if(we(e))return n;var r=pe(e),i=this.children.get(r)||new t(null),o=i.setTree(ve(e),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(t){return this.fold_(fe(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(be(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,fe(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(we(t))return null;var i=pe(t),o=this.children.get(i);return o?o.findOnPath_(ve(t),be(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,fe(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(we(e))return this;this.value&&r(n,this.value);var i=pe(e),o=this.children.get(i);return o?o.foreachOnPath_(ve(e),be(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(fe(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(be(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),Pr=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Or(null))},t}();function Dr(t,e,n){if(we(e))return new Pr(new Or(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Ee(i,e);return o=o.updateChild(a,n),new Pr(t.writeTree_.set(i,o))}var s=new Or(n),u=t.writeTree_.setTree(e,s);return new Pr(u)}function Lr(t,e,n){var r=t;return q(n,(function(t,n){r=Dr(r,be(e,t),n)})),r}function Mr(t,e){if(we(e))return Pr.empty();var n=t.writeTree_.setTree(e,new Or(null));return new Pr(n)}function Fr(t,e){return null!=jr(t,e)}function jr(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Ee(n.path,e)):null}function Ur(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(fn,(function(t,n){e.push(new Ke(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Ke(t,n.value))})),e}function qr(t,e){if(we(e))return t;var n=jr(t,e);return new Pr(null!=n?new Or(n):t.writeTree_.subtree(e))}function Vr(t){return t.writeTree_.isEmpty()}function Br(t,e){return Kr(fe(),t.writeTree_,e)}function Kr(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?((0,a.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Kr(be(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(be(t,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,e){return pi(e,t)}function Wr(t,e,n,r,i){(0,a.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Dr(t.visibleWrites,e,n)),t.lastWriteId=r}function zr(t,e,n,r){(0,a.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Lr(t.visibleWrites,e,n),t.lastWriteId=r}function Gr(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function $r(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));(0,a.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);var i=r.visible,o=!1,s=t.allWrites.length-1;while(i&&s>=0){var u=t.allWrites[s];u.visible&&(s>=n&&Qr(u,r.path)?i=!1:Se(r.path,u.path)&&(o=!0)),s--}if(i){if(o)return Yr(t),!0;if(r.snap)t.visibleWrites=Mr(t.visibleWrites,r.path);else{var c=r.children;q(c,(function(e){t.visibleWrites=Mr(t.visibleWrites,be(r.path,e))}))}return!0}return!1}function Qr(t,e){if(t.snap)return Se(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Se(be(t.path,n),e))return!0;return!1}function Yr(t){t.visibleWrites=Jr(t.allWrites,Xr,fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Xr(t){return t.visible}function Jr(t,e,n){for(var r=Pr.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,u=void 0;if(o.snap)Se(n,s)?(u=Ee(n,s),r=Dr(r,u,o.snap)):Se(s,n)&&(u=Ee(s,n),r=Dr(r,fe(),o.snap.getChild(u)));else{if(!o.children)throw(0,a.assertionError)("WriteRecord should have .snap or .children");if(Se(n,s))u=Ee(n,s),r=Lr(r,u,o.children);else if(Se(s,n))if(u=Ee(s,n),we(u))r=Lr(r,fe(),o.children);else{var c=(0,a.safeGet)(o.children,pe(u));if(c){var l=c.getChild(ve(u));r=Dr(r,fe(),l)}}}}}return r}function Zr(t,e,n,r,i){if(r||i){var o=qr(t.visibleWrites,e);if(!i&&Vr(o))return n;if(i||null!=n||Fr(o,fe())){var a=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Se(t.path,e)||Se(e,t.path))},s=Jr(t.allWrites,a,e);l=n||mn.EMPTY_NODE;return Br(s,l)}return null}var u=jr(t.visibleWrites,e);if(null!=u)return u;var c=qr(t.visibleWrites,e);if(Vr(c))return n;if(null!=n||Fr(c,fe())){var l=n||mn.EMPTY_NODE;return Br(c,l)}return null}function ti(t,e,n){var r=mn.EMPTY_NODE,i=jr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(fn,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=qr(t.visibleWrites,e);return n.forEachChild(fn,(function(t,e){var n=Br(qr(o,new he(t)),e);r=r.updateImmediateChild(t,n)})),Ur(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}var a=qr(t.visibleWrites,e);return Ur(a).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}function ei(t,e,n,r,i){(0,a.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=be(e,n);if(Fr(t.visibleWrites,o))return null;var s=qr(t.visibleWrites,o);return Vr(s)?i.getChild(n):Br(s,i.getChild(n))}function ni(t,e,n,r){var i=be(e,n),o=jr(t.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n)){var a=qr(t.visibleWrites,i);return Br(a,r.getNode().getImmediateChild(n))}return null}function ri(t,e){return jr(t.visibleWrites,e)}function ii(t,e,n,r,i,o,a){var s,u=qr(t.visibleWrites,e),c=jr(u,fe());if(null!=c)s=c;else{if(null==n)return[];s=Br(u,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),p=f.getNext();while(p&&l.length<i)0!==h(p,r)&&l.push(p),p=f.getNext();return l}function oi(){return{visibleWrites:Pr.empty(),allWrites:[],lastWriteId:-1}}function ai(t,e,n,r){return Zr(t.writeTree,t.treePath,e,n,r)}function si(t,e){return ti(t.writeTree,t.treePath,e)}function ui(t,e,n,r){return ei(t.writeTree,t.treePath,e,n,r)}function ci(t,e){return ri(t.writeTree,be(t.treePath,e))}function li(t,e,n,r,i,o){return ii(t.writeTree,t.treePath,e,n,r,i,o)}function hi(t,e,n){return ni(t.writeTree,t.treePath,e,n)}function fi(t,e){return pi(be(t.treePath,e),t.writeTree)}function pi(t,e){return{treePath:t,writeTree:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,a.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,a.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,Mn(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,Ln(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,Dn(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,a.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Mn(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),vi=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),gi=new vi,yi=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hi(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Nr(this.viewCache_),i=li(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mi(t){return{filter:t}}function _i(t,e){(0,a.assert)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,a.assert)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function bi(t,e,n,r,i){var o,s,u=new di;if(n.type===or.OVERWRITE){var c=n;c.source.fromUser?o=Ti(t,e,c.path,c.snap,r,i,u):((0,a.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!we(c.path),o=Ii(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===or.MERGE){var l=n;l.source.fromUser?o=Ci(t,e,l.path,l.children,r,i,u):((0,a.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),o=Ai(t,e,l.path,l.children,r,i,s,u))}else if(n.type===or.ACK_USER_WRITE){var h=n;o=h.revert?Ri(t,e,h.path,r,i,u):xi(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==or.LISTEN_COMPLETE)throw(0,a.assertionError)("Unknown operation type: "+n.type);o=Ni(t,e,n.path,r,u)}var f=u.getChanges();return wi(e,o,f),{viewCache:o,changes:f}}function wi(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=xr(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Pn(xr(e)))}}function Ei(t,e,n,r,i,o){var s=e.eventCache;if(null!=ci(r,n))return e;var u=void 0,c=void 0;if(we(n))if((0,a.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Nr(e),h=l instanceof mn?l:mn.EMPTY_NODE,f=si(r,h);u=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{var p=ai(r,Nr(e));u=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{var d=pe(n);if(".priority"===d){(0,a.assert)(1===de(n),"Can't have a priority with additional path components");var v=s.getNode();c=e.serverCache.getNode();var g=ui(r,n,v,c);u=null!=g?t.filter.updatePriority(v,g):s.getNode()}else{var y=ve(n),m=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var _=ui(r,n,s.getNode(),c);m=null!=_?s.getNode().getImmediateChild(d).updateChild(y,_):s.getNode().getImmediateChild(d)}else m=hi(r,d,e.serverCache);u=null!=m?t.filter.updateChild(s.getNode(),d,m,y,i,o):s.getNode()}}return kr(e,u,s.isFullyInitialized()||we(n),t.filter.filtersNodes())}function Ii(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(we(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=pe(n);if(!c.isCompleteForPath(n)&&de(n)>1)return e;var p=ve(n),d=c.getNode().getImmediateChild(f),v=d.updateChild(p,r);u=".priority"===f?l.updatePriority(c.getNode(),v):l.updateChild(c.getNode(),f,v,p,gi,null)}var g=Ar(e,u,c.isFullyInitialized()||we(n),l.filtersNodes()),y=new yi(i,g,o);return Ei(t,g,n,i,y,s)}function Ti(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new yi(i,e,o);if(we(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=kr(e,u,!0,t.filter.filtersNodes());else{var h=pe(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=kr(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=ve(n),p=c.getNode().getImmediateChild(h),d=void 0;if(we(f))d=r;else{var v=l.getCompleteChild(h);d=null!=v?".priority"===ge(f)&&v.getChild(_e(f)).isEmpty()?v:v.updateChild(f,r):mn.EMPTY_NODE}if(p.equals(d))s=e;else{var g=t.filter.updateChild(c.getNode(),h,d,f,l,a);s=kr(e,g,c.isFullyInitialized(),t.filter.filtersNodes())}}}return s}function Si(t,e){return t.eventCache.isCompleteForChild(e)}function Ci(t,e,n,r,i,o,a){var s=e;return r.foreach((function(r,u){var c=be(n,r);Si(e,pe(c))&&(s=Ti(t,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=be(n,r);Si(e,pe(c))||(s=Ti(t,s,c,u,i,o,a))})),s}function ki(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Ai(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=we(n)?r:new Or(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=e.serverCache.getNode().getImmediateChild(n),h=ki(t,u,r);c=Ii(t,c,new he(n),h,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=e.serverCache.getNode().getImmediateChild(n),f=ki(t,h,r);c=Ii(t,c,new he(n),f,i,o,a,s)}})),c}function xi(t,e,n,r,i,o,a){if(null!=ci(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(we(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ii(t,e,n,u.getNode().getChild(n),i,o,s,a);if(we(n)){var c=new Or(null);return u.getNode().forEachChild(ze,(function(t,e){c=c.set(new he(t),e)})),Ai(t,e,n,c,i,o,s,a)}return e}var l=new Or(null);return r.foreach((function(t,e){var r=be(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))})),Ai(t,e,n,l,i,o,s,a)}function Ni(t,e,n,r,i){var o=e.serverCache,a=Ar(e,o.getNode(),o.isFullyInitialized()||we(n),o.isFiltered());return Ei(t,a,n,r,gi,i)}function Ri(t,e,n,r,i,o){var s;if(null!=ci(r,n))return e;var u=new yi(r,e,i),c=e.eventCache.getNode(),l=void 0;if(we(n)||".priority"===pe(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=ai(r,Nr(e));else{var f=e.serverCache.getNode();(0,a.assert)(f instanceof mn,"serverChildren would be complete if leaf node"),h=si(r,f)}h=h,l=t.filter.updateFullNode(c,h,o)}else{var p=pe(n),d=hi(r,p,e.serverCache);null==d&&e.serverCache.isCompleteForChild(p)&&(d=c.getImmediateChild(p)),l=null!=d?t.filter.updateChild(c,p,d,ve(n),u,o):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(c,p,mn.EMPTY_NODE,ve(n),u,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=ai(r,Nr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=ci(r,fe()),kr(e,l,s,t.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi,Pi=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new jn(n.getIndex()),i=Bn(n);this.processor_=mi(i);var o=e.serverCache,a=e.eventCache,s=r.updateFullNode(mn.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(mn.EMPTY_NODE,a.getNode(),null),c=new br(s,o.isFullyInitialized(),r.filtersNodes()),l=new br(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Cr(l,c),this.eventGenerator_=new wr(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Di(t){return t.viewCache_.serverCache.getNode()}function Li(t){return xr(t.viewCache_)}function Mi(t,e){var n=Nr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!we(e)&&!n.getImmediateChild(pe(e)).isEmpty())?n.getChild(e):null}function Fi(t){return 0===t.eventRegistrations_.length}function ji(t,e){t.eventRegistrations_.push(e)}function Ui(t,e,n){var r=[];if(n){(0,a.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var o=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(s+1));break}}else o.push(u)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function qi(t,e,n,r){e.type===or.MERGE&&null!==e.source.queryId&&((0,a.assert)(Nr(t.viewCache_),"We should always have a full cache before handling merges"),(0,a.assert)(xr(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=bi(t.processor_,i,e,n,r);return _i(t.processor_,o.viewCache),(0,a.assert)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Bi(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Vi(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(fn,(function(t,e){r.push(Dn(t,e))}))}return n.isFullyInitialized()&&r.push(Pn(n.getNode())),Bi(t,r,n.getNode(),e)}function Bi(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return Er(t.eventGenerator_,e,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki,Hi=function(){function t(){this.views=new Map}return t}();function Wi(t){(0,a.assert)(!Oi,"__referenceConstructor has already been defined"),Oi=t}function zi(){return(0,a.assert)(Oi,"Reference.ts has not been loaded"),Oi}function Gi(t){return 0===t.views.size}function $i(t,e,n,r){var i,o,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return(0,a.assert)(null!=c,"SyncTree gave us an op for an invalid query."),qi(c,e,n,r)}var l=[];try{for(var h=(0,s.__values)(t.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(qi(c,e,n,r))}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return l}function Qi(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var s=ai(n,i?r:null),u=!1;s?u=!0:r instanceof mn?(s=si(n,r),u=!1):(s=mn.EMPTY_NODE,u=!1);var c=Cr(new br(s,u,!1),new br(r,i,!1));return new Pi(e,c)}return a}function Yi(t,e,n,r,i,o){var a=Qi(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),ji(a,n),Vi(a,n)}function Xi(t,e,n,r){var i,o,a=e._queryIdentifier,u=[],c=[],l=no(t);if("default"===a)try{for(var h=(0,s.__values)(t.views.entries()),f=h.next();!f.done;f=h.next()){var p=(0,s.__read)(f.value,2),d=p[0],v=p[1];c=c.concat(Ui(v,n,r)),Fi(v)&&(t.views.delete(d),v.query._queryParams.loadsAllData()||u.push(v.query))}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else{v=t.views.get(a);v&&(c=c.concat(Ui(v,n,r)),Fi(v)&&(t.views.delete(a),v.query._queryParams.loadsAllData()||u.push(v.query)))}return l&&!no(t)&&u.push(new(zi())(e._repo,e._path)),{removed:u,events:c}}function Ji(t){var e,n,r=[];try{for(var i=(0,s.__values)(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Zi(t,e){var n,r,i=null;try{for(var o=(0,s.__values)(t.views.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i||Mi(u,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function to(t,e){var n=e._queryParams;if(n.loadsAllData())return ro(t);var r=e._queryIdentifier;return t.views.get(r)}function eo(t,e){return null!=to(t,e)}function no(t){return null!=ro(t)}function ro(t){var e,n;try{for(var r=(0,s.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){(0,a.assert)(!Ki,"__referenceConstructor has already been defined"),Ki=t}function oo(){return(0,a.assert)(Ki,"Reference.ts has not been loaded"),Ki}var ao=1,so=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=new Or(null),this.pendingWriteTree_=oi(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function uo(t,e,n,r,i){return Wr(t.pendingWriteTree_,e,n,r,i),i?Eo(t,new mr(fr(),e,n)):[]}function co(t,e,n,r){zr(t.pendingWriteTree_,e,n,r);var i=Or.fromObject(n);return Eo(t,new _r(fr(),e,i))}function lo(t,e,n){void 0===n&&(n=!1);var r=Gr(t.pendingWriteTree_,e),i=$r(t.pendingWriteTree_,e);if(i){var o=new Or(null);return null!=r.snap?o=o.set(fe(),!0):q(r.children,(function(t){o=o.set(new he(t),!0)})),Eo(t,new gr(r.path,o,n))}return[]}function ho(t,e,n){return Eo(t,new mr(pr(),e,n))}function fo(t,e,n){var r=Or.fromObject(n);return Eo(t,new _r(pr(),e,r))}function po(t,e){return Eo(t,new yr(pr(),e))}function vo(t,e,n){var r=Ao(t,n);if(r){var i=xo(r),o=i.path,a=i.queryId,s=Ee(o,e),u=new yr(dr(a),s);return No(t,o,u)}return[]}function go(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&("default"===e._queryIdentifier||eo(o,e))){var s=Xi(o,e,n,r);Gi(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(t){return t._queryParams.loadsAllData()})),l=t.syncPointTree_.findOnPath(i,(function(t,e){return no(e)}));if(c&&!l){var h=t.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=Ro(h),p=0;p<f.length;++p){var d=f[p],v=d.query,g=So(t,d);t.listenProvider_.startListening(Oo(v),Co(t,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){var y=null;t.listenProvider_.stopListening(Oo(e),y)}else u.forEach((function(e){var n=t.queryToTagMap.get(ko(e));t.listenProvider_.stopListening(Oo(e),n)}));Po(t,u)}return a}function yo(t,e,n,r){var i=Ao(t,r);if(null!=i){var o=xo(i),a=o.path,s=o.queryId,u=Ee(a,e),c=new mr(dr(s),u,n);return No(t,a,c)}return[]}function mo(t,e,n,r){var i=Ao(t,r);if(i){var o=xo(i),a=o.path,s=o.queryId,u=Ee(a,e),c=Or.fromObject(n),l=new _r(dr(s),u,c);return No(t,a,l)}return[]}function _o(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Ee(t,r);i=i||Zi(e,n),o=o||no(e)}));var s,u=t.syncPointTree_.get(r);if(u?(o=o||no(u),i=i||Zi(u,fe())):(u=new Hi,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i)s=!0;else{s=!1,i=mn.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild((function(t,e){var n=Zi(e,fe());n&&(i=i.updateImmediateChild(t,n))}))}var l=eo(u,e);if(!l&&!e._queryParams.loadsAllData()){var h=ko(e);(0,a.assert)(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");var f=Do();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}var p=Hr(t.pendingWriteTree_,r),d=Yi(u,e,n,p,i,s);if(!l&&!o){var v=to(u,e);d=d.concat(Lo(t,e,v))}return d}function bo(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Ee(t,e),i=Zi(n,r);if(i)return i}));return Zr(i,e,o,n,r)}function wo(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=Ee(t,n);r=r||Zi(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Zi(i,fe()):(i=new Hi,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new br(r,!0,!1):null,s=Hr(t.pendingWriteTree_,e._path),u=Qi(i,e,s,o?a.getNode():mn.EMPTY_NODE,o);return Li(u)}function Eo(t,e){return Io(e,t.syncPointTree_,null,Hr(t.pendingWriteTree_,fe()))}function Io(t,e,n,r){if(we(t.path))return To(t,e,n,r);var i=e.get(fe());null==n&&null!=i&&(n=Zi(i,fe()));var o=[],a=pe(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=fi(r,a);o=o.concat(Io(s,u,c,l))}return i&&(o=o.concat($i(i,t,r,n))),o}function To(t,e,n,r){var i=e.get(fe());null==n&&null!=i&&(n=Zi(i,fe()));var o=[];return e.children.inorderTraversal((function(e,i){var a=n?n.getImmediateChild(e):null,s=fi(r,e),u=t.operationForChild(e);u&&(o=o.concat(To(u,i,a,s)))})),i&&(o=o.concat($i(i,t,r,n))),o}function So(t,e){var n=e.query,r=Co(t,n);return{hashFn:function(){var t=Di(e)||mn.EMPTY_NODE;return t.hash()},onComplete:function(e){if("ok"===e)return r?vo(t,n._path,r):po(t,n._path);var i=H(e,n);return go(t,n,null,i)}}}function Co(t,e){var n=ko(e);return t.queryToTagMap.get(n)}function ko(t){return t._path.toString()+"$"+t._queryIdentifier}function Ao(t,e){return t.tagToQueryMap.get(e)}function xo(t){var e=t.indexOf("$");return(0,a.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function No(t,e,n){var r=t.syncPointTree_.get(e);(0,a.assert)(r,"Missing sync point for query tag that we're tracking");var i=Hr(t.pendingWriteTree_,e);return $i(r,n,i,null)}function Ro(t){return t.fold((function(t,e,n){if(e&&no(e)){var r=ro(e);return[r]}var i=[];return e&&(i=Ji(e)),q(n,(function(t,e){i=i.concat(e)})),i}))}function Oo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(oo())(t._repo,t._path):t}function Po(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=ko(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Do(){return ao++}function Lo(t,e,n){var r=e._path,i=Co(t,e),o=So(t,n),s=t.listenProvider_.startListening(Oo(e),i,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(i)(0,a.assert)(!no(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!we(t)&&e&&no(e))return[ro(e).query];var r=[];return e&&(r=r.concat(Ji(e).map((function(t){return t.query})))),q(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(Oo(h),Co(t,h))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),Fo=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=be(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return bo(this.syncTree_,this.path_)},t}(),jo=function(t){return t=t||{},t["timestamp"]=t["timestamp"]||(new Date).getTime(),t},Uo=function(t,e,n){return t&&"object"===(0,r.Z)(t)?((0,a.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?qo(t[".sv"],e,n):"object"===(0,r.Z)(t[".sv"])?Vo(t[".sv"],e):void(0,a.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},qo=function(t,e,n){switch(t){case"timestamp":return n["timestamp"];default:(0,a.assert)(!1,"Unexpected server value: "+t)}},Vo=function(t,e,n){t.hasOwnProperty("increment")||(0,a.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t["increment"];"number"!==typeof r&&(0,a.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,a.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,s=o.getValue();return"number"!==typeof s?r:s+r},Bo=function(t,e,n,r){return Ho(e,new Fo(n,t),r)},Ko=function(t,e,n){return Ho(t,new Mo(e),n)};function Ho(t,e,n){var r,i=t.getPriority().val(),o=Uo(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=Uo(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new an(s,En(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new an(o))),u.forEachChild(fn,(function(t,i){var o=Ho(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}return t}();function zo(t,e){var n=e instanceof he?e:new he(e),r=t,i=pe(n);while(null!==i){var o=(0,a.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Wo(i,r,o),n=ve(n),i=pe(n)}return r}function Go(t){return t.node.value}function $o(t,e){t.node.value=e,ea(t)}function Qo(t){return t.node.childCount>0}function Yo(t){return void 0===Go(t)&&!Qo(t)}function Xo(t,e){q(t.node.children,(function(n,r){e(new Wo(n,t,r))}))}function Jo(t,e,n,r){n&&!r&&e(t),Xo(t,(function(t){Jo(t,e,!0,r)})),n&&r&&e(t)}function Zo(t,e,n){var r=n?t:t.parent;while(null!==r){if(e(r))return!0;r=r.parent}return!1}function ta(t){return new he(null===t.parent?t.name:ta(t.parent)+"/"+t.name)}function ea(t){null!==t.parent&&na(t.parent,t.name,t)}function na(t,e,n){var r=Yo(n),i=(0,a.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ea(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,ea(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra=/[\[\].#$\/\u0000-\u001F\u007F]/,ia=/[\[\].#$\u0000-\u001F\u007F]/,oa=10485760,aa=function(t){return"string"===typeof t&&0!==t.length&&!ra.test(t)},sa=function(t){return"string"===typeof t&&0!==t.length&&!ia.test(t)},ua=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),sa(t)},ca=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!R(t)||t&&"object"===(0,r.Z)(t)&&(0,a.contains)(t,".sv")},la=function(t,e,n,r){r&&void 0===e||ha((0,a.errorPrefix)(t,"value"),e,n)},ha=function t(e,n,i){var o=i instanceof he?new Ce(i,e):i;if(void 0===n)throw new Error(e+"contains undefined "+Ne(o));if("function"===typeof n)throw new Error(e+"contains a function "+Ne(o)+" with contents = "+n.toString());if(R(n))throw new Error(e+"contains "+n.toString()+" "+Ne(o));if("string"===typeof n&&n.length>oa/3&&(0,a.stringLength)(n)>oa)throw new Error(e+"contains a string greater than "+oa+" utf8 bytes "+Ne(o)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===(0,r.Z)(n)){var s=!1,u=!1;if(q(n,(function(n,r){if(".value"===n)s=!0;else if(".priority"!==n&&".sv"!==n&&(u=!0,!aa(n)))throw new Error(e+" contains an invalid key ("+n+") "+Ne(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');ke(o,n),t(e,r,o),Ae(o)})),s&&u)throw new Error(e+' contains ".value" child '+Ne(o)+" in addition to actual children.")}},fa=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=me(r),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!aa(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Ie);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&Se(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},pa=function(t,e,n,i){if(!i||void 0!==e){var o=(0,a.errorPrefix)(t,"values");if(!e||"object"!==(0,r.Z)(e)||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var s=[];q(e,(function(t,e){var r=new he(t);if(ha(o,e,be(n,r)),".priority"===ge(r)&&!ca(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),fa(o,s)}},da=function(t,e,n){if(!n||void 0!==e){if(R(e))throw new Error((0,a.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ca(e))throw new Error((0,a.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},va=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,a.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ga=function(t,e,n,r){if((!r||void 0!==n)&&!aa(n))throw new Error((0,a.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ya=function(t,e,n,r){if((!r||void 0!==n)&&!sa(n))throw new Error((0,a.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ma=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ya(t,e,n,r)},_a=function(t,e){if(".info"===pe(e))throw new Error(t+" failed = Can't modify data under /.info/")},ba=function(t,e){var n=e.path.toString();if("string"!==typeof e.repoInfo.host||0===e.repoInfo.host.length||!aa(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!ua(n))throw new Error((0,a.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},wa=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,a.errorPrefix)(t,e)+"must be a boolean.")},Ea=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function Ia(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Te(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ta(t,e,n){Ia(t,n),Ca(t,(function(t){return Te(t,e)}))}function Sa(t,e,n){Ia(t,n),Ca(t,(function(t){return Se(t,e)||Se(e,t)}))}function Ca(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(ka(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ka(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();E&&S("event: "+n.toString()),Q(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa="repo_interrupt",xa=25,Na=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ea,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tr(),this.transactionQueueTree_=new Wo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Ra(t,e,n){if(t.stats_=mt(t.repoInfo_),t.forceRestClient_||Y())t.server_=new Jn(t.repoInfo_,(function(e,n,r,i){Da(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return Ma(t,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==(0,r.Z)(n))throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,a.stringify)(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Be(t.repoInfo_,e,(function(e,n,r,i){Da(t,e,n,r,i)}),(function(e){Ma(t,e)}),(function(e){Fa(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=_t(t.repoInfo_,(function(){return new lr(t.stats_,t.server_)})),t.infoData_=new Zn,t.infoSyncTree_=new so({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=ho(t.infoSyncTree_,e._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ja(t,"connected",!1),t.serverSyncTree_=new so({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Sa(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function Oa(t){var e=t.infoData_.getNode(new he(".info/serverTimeOffset")),n=e.val()||0;return(new Date).getTime()+n}function Pa(t){return jo({timestamp:Oa(t)})}function Da(t,e,n,r,i){t.dataUpdateCount++;var o=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=(0,a.map)(n,(function(t){return En(t)}));s=mo(t.serverSyncTree_,o,u,i)}else{var c=En(n);s=yo(t.serverSyncTree_,o,c,i)}else if(r){var l=(0,a.map)(n,(function(t){return En(t)}));s=fo(t.serverSyncTree_,o,l)}else{var h=En(n);s=ho(t.serverSyncTree_,o,h)}var f=o;s.length>0&&(f=as(t,o)),Sa(t.eventQueue_,f,s)}function La(t,e){t.interceptServerDataCallback_=e}function Ma(t,e){ja(t,"connected",e),!1===e&&Ka(t)}function Fa(t,e){q(e,(function(e,n){ja(t,e,n)}))}function ja(t,e,n){var r=new he("/.info/"+e),i=En(n);t.infoData_.updateSnapshot(r,i);var o=ho(t.infoSyncTree_,r,i);Sa(t.eventQueue_,r,o)}function Ua(t){return t.nextWriteId_++}function qa(t,e){var n=wo(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=En(n).withIndex(e._queryParams.getIndex()),i=ho(t.serverSyncTree_,e._path,r);return Ta(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return ts(t,"get for query "+(0,a.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))}))}function Va(t,e,n,r,i){ts(t,"set",{path:e.toString(),value:n,priority:r});var o=Pa(t),a=En(n,r),s=bo(t.serverSyncTree_,e),u=Ko(a,s,o),c=Ua(t),l=uo(t.serverSyncTree_,e,u,c,!0);Ia(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||x("set at "+e+" failed: "+n);var a=lo(t.serverSyncTree_,c,!o);Sa(t.eventQueue_,e,a),es(t,i,n,r)}));var h=fs(t,e);as(t,h),Sa(t.eventQueue_,h,[])}function Ba(t,e,n,r){ts(t,"update",{path:e.toString(),value:n});var i=!0,o=Pa(t),a={};if(q(n,(function(n,r){i=!1,a[n]=Bo(be(e,n),En(r),t.serverSyncTree_,o)})),i)S("update() called with empty data.  Don't do anything."),es(t,r,"ok",void 0);else{var s=Ua(t),u=co(t.serverSyncTree_,e,a,s);Ia(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||x("update at "+e+" failed: "+n);var a=lo(t.serverSyncTree_,s,!o),u=a.length>0?as(t,e):e;Sa(t.eventQueue_,u,a),es(t,r,n,i)})),q(n,(function(n){var r=fs(t,be(e,n));as(t,r)})),Sa(t.eventQueue_,e,[])}}function Ka(t){ts(t,"onDisconnectEvents");var e=Pa(t),n=tr();rr(t.onDisconnect_,fe(),(function(r,i){var o=Bo(r,i,t.serverSyncTree_,e);er(n,r,o)}));var r=[];rr(n,fe(),(function(e,n){r=r.concat(ho(t.serverSyncTree_,e,n));var i=fs(t,e);as(t,i)})),t.onDisconnect_=tr(),Sa(t.eventQueue_,fe(),r)}function Ha(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&nr(t.onDisconnect_,e),es(t,n,r,i)}))}function Wa(t,e,n,r){var i=En(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&er(t.onDisconnect_,e,i),es(t,r,n,o)}))}function za(t,e,n,r,i){var o=En(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&er(t.onDisconnect_,e,o),es(t,i,n,r)}))}function Ga(t,e,n,r){if((0,a.isEmpty)(n))return S("onDisconnect().update() called with empty data.  Don't do anything."),void es(t,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&q(n,(function(n,r){var i=En(r);er(t.onDisconnect_,be(e,n),i)})),es(t,r,i,o)}))}function $a(t,e,n){var r;r=".info"===pe(e._path)?_o(t.infoSyncTree_,e,n):_o(t.serverSyncTree_,e,n),Ta(t.eventQueue_,e._path,r)}function Qa(t,e,n){var r;r=".info"===pe(e._path)?go(t.infoSyncTree_,e,n):go(t.serverSyncTree_,e,n),Ta(t.eventQueue_,e._path,r)}function Ya(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Aa)}function Xa(t){t.persistentConnection_&&t.persistentConnection_.resume(Aa)}function Ja(t,e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var n;e?(t.statsListener_||(t.statsListener_=new ar(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);q(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}function Za(t,e){t.stats_.incrementCounter(e),hr(t.statsReporter_,e)}function ts(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),S.apply(void 0,(0,s.__spreadArray)([r],(0,s.__read)(e)))}function es(t,e,n,r){e&&Q((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function ns(t,e,n,i,o,s){ts(t,"transaction on "+e);var u={path:e,update:n,onComplete:i,status:null,order:_(),applyLocally:s,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=rs(t,e,void 0);u.currentInputSnapshot=c;var l=u.update(c.val());if(void 0===l)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{ha("transaction failed: Data returned ",l,u.path),u.status=0;var h=zo(t.transactionQueueTree_,e),f=Go(h)||[];f.push(u),$o(h,f);var p=void 0;if("object"===(0,r.Z)(l)&&null!==l&&(0,a.contains)(l,".priority"))p=(0,a.safeGet)(l,".priority"),(0,a.assert)(ca(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var d=bo(t.serverSyncTree_,e)||mn.EMPTY_NODE;p=d.getPriority().val()}var v=Pa(t),g=En(l,p),y=Ko(g,c,v);u.currentOutputSnapshotRaw=g,u.currentOutputSnapshotResolved=y,u.currentWriteId=Ua(t);var m=uo(t.serverSyncTree_,e,y,u.currentWriteId,u.applyLocally);Sa(t.eventQueue_,e,m),is(t,t.transactionQueueTree_)}}function rs(t,e,n){return bo(t.serverSyncTree_,e,n)||mn.EMPTY_NODE}function is(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||hs(t,e),Go(e)){var n=cs(t,e);(0,a.assert)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(t){return 0===t.status}));r&&os(t,ta(e),n)}else Qo(e)&&Xo(e,(function(e){is(t,e)}))}function os(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=rs(t,e,r),o=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,a.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ee(e,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var h=o.val(!0),f=e;t.server_.put(f.toString(),h,(function(r){ts(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(lo(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},s=0;s<n.length;s++)a(s);hs(t,zo(t.transactionQueueTree_,e)),is(t,t.transactionQueueTree_),Sa(t.eventQueue_,e,i);for(s=0;s<o.length;s++)Q(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{x("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}as(t,e)}}),s)}function as(t,e){var n=us(t,e),r=ta(n),i=cs(t,n);return ss(t,i,r),r}function ss(t,e,n){if(0!==e.length){for(var i=[],o=[],s=e.filter((function(t){return 0===t.status})),u=s.map((function(t){return t.currentWriteId})),c=function(s){var c,l=e[s],h=Ee(n,l.path),f=!1;if((0,a.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,c=l.abortReason,o=o.concat(lo(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=xa)f=!0,c="maxretry",o=o.concat(lo(t.serverSyncTree_,l.currentWriteId,!0));else{var p=rs(t,l.path,u);l.currentInputSnapshot=p;var d=e[s].update(p.val());if(void 0!==d){ha("transaction failed: Data returned ",d,l.path);var v=En(d),g="object"===(0,r.Z)(d)&&null!=d&&(0,a.contains)(d,".priority");g||(v=v.updatePriority(p.getPriority()));var y=l.currentWriteId,m=Pa(t),_=Ko(v,p,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=_,l.currentWriteId=Ua(t),u.splice(u.indexOf(y),1),o=o.concat(uo(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),o=o.concat(lo(t.serverSyncTree_,y,!0))}else f=!0,c="nodata",o=o.concat(lo(t.serverSyncTree_,l.currentWriteId,!0))}Sa(t.eventQueue_,n,o),o=[],f&&(e[s].status=2,function(t){setTimeout(t,Math.floor(0))}(e[s].unwatcher),e[s].onComplete&&("nodata"===c?i.push((function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)})):i.push((function(){return e[s].onComplete(new Error(c),!1,null)}))))},l=0;l<e.length;l++)c(l);hs(t,t.transactionQueueTree_);for(l=0;l<i.length;l++)Q(i[l]);is(t,t.transactionQueueTree_)}}function us(t,e){var n,r=t.transactionQueueTree_;n=pe(e);while(null!==n&&void 0===Go(r))r=zo(r,n),e=ve(e),n=pe(e);return r}function cs(t,e){var n=[];return ls(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function ls(t,e,n){var r=Go(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Xo(e,(function(e){ls(t,e,n)}))}function hs(t,e){var n=Go(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,$o(e,n.length>0?n:void 0)}Xo(e,(function(e){hs(t,e)}))}function fs(t,e){var n=ta(us(t,e)),r=zo(t.transactionQueueTree_,e);return Zo(r,(function(e){ps(t,e)})),ps(t,r),Jo(r,(function(e){ps(t,e)})),n}function ps(t,e){var n=Go(e);if(n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,a.assert)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,a.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(lo(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?$o(e,void 0):n.length=o+1,Sa(t.eventQueue_,ta(e),i);for(s=0;s<r.length;s++)Q(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}function vs(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=(0,s.__values)(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):x("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var gs=function(t,e){var n=ys(t),r=n.namespace;"firebase.com"===n.domain&&A(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||A("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||N();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ft(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new he(n.pathString)}},ys=function(t){var e="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof t){var c=t.indexOf("//");c>=0&&(s=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(i=ds(t.substring(l,h)));var f=vs(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(a="https"===s||"wss"===s,u=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=e.indexOf(".");r=e.substring(0,d).toLowerCase(),n=e.substring(d+1),o=r}"ns"in f&&(o=f["ns"])}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},ms=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,a.stringify)(this.snapshot.exportVal())},t}(),_s=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),bs=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,a.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),ws=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new a.Deferred;return Ha(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){_a("OnDisconnect.remove",this._path);var t=new a.Deferred;return Wa(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){_a("OnDisconnect.set",this._path),la("OnDisconnect.set",t,this._path,!1);var e=new a.Deferred;return Wa(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){_a("OnDisconnect.setWithPriority",this._path),la("OnDisconnect.setWithPriority",t,this._path,!1),da("OnDisconnect.setWithPriority",e,!1);var n=new a.Deferred;return za(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){_a("OnDisconnect.update",this._path),pa("OnDisconnect.update",t,this._path,!1);var e=new a.Deferred;return Ga(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),Es=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return we(this._path)?null:ge(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Cs(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Xn(this._queryParams),e=j(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Xn(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=(0,a.getModularInstance)(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=Te(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+ye(this._path)},t}();function Is(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ts(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ze){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var s=t.getIndexStartName();if(s!==P)throw new Error(i);if("string"!==typeof e)throw new Error(o)}if(t.hasEnd()){var u=t.getIndexEndName();if(u!==D)throw new Error(i);if("string"!==typeof n)throw new Error(o)}}else if(t.getIndex()===fn){if(null!=e&&!ca(e)||null!=n&&!ca(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,a.assert)(t.getIndex()instanceof In||t.getIndex()===Sn,"unknown index type."),null!=e&&"object"===(0,r.Z)(e)||null!=n&&"object"===(0,r.Z)(n))throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ss(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Cs=function(t){function e(e,n){return t.call(this,e,n,new Vn,!1)||this}return(0,s.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=_e(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var t=this;while(null!==t.parent)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Es),ks=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new he(e),r=Ns(this.ref,e);return new t(this._node.getChild(n),r,fn)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,(function(r,i){return e(new t(i,Ns(n.ref,r),fn))}))},t.prototype.hasChild=function(t){var e=new he(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function As(t,e){return t=(0,a.getModularInstance)(t),t._checkNotDeleted("ref"),void 0!==e?Ns(t._root,e):t._root}function xs(t,e){t=(0,a.getModularInstance)(t),t._checkNotDeleted("refFromURL");var n=gs(e,t._repo.repoInfo_.nodeAdmin);ba("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||A("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),As(t,n.path.toString())}function Ns(t,e){return t=(0,a.getModularInstance)(t),null===pe(t._path)?ma("child","path",e,!1):ya("child","path",e,!1),new Cs(t._repo,be(t._path,e))}function Rs(t,e){t=(0,a.getModularInstance)(t),_a("push",t._path),la("push",e,t._path,!0);var n,r=Oa(t._repo),i=Nn(r),o=Ns(t,i),s=Ns(t,i);return n=null!=e?Ps(s,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function Os(t){return _a("remove",t._path),Ps(t,null)}function Ps(t,e){t=(0,a.getModularInstance)(t),_a("set",t._path),la("set",e,t._path,!1);var n=new a.Deferred;return Va(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Ds(t,e){t=(0,a.getModularInstance)(t),_a("setPriority",t._path),da("setPriority",e,!1);var n=new a.Deferred;return Va(t._repo,be(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Ls(t,e,n){if(_a("setWithPriority",t._path),la("setWithPriority",e,t._path,!1),da("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new a.Deferred;return Va(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function Ms(t,e){pa("update",e,t._path,!1);var n=new a.Deferred;return Ba(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function Fs(t){return t=(0,a.getModularInstance)(t),qa(t._repo,t).then((function(e){return new ks(e,new Cs(t._repo,t._path),t._queryParams.getIndex())}))}var js=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new ms("value",this,new ks(t.snapshotNode,new Cs(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new _s(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Us=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new _s(this,t,e):null},t.prototype.createEvent=function(t,e){(0,a.assert)(null!=t.childName,"Child events should have a childName.");var n=Ns(new Cs(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new ms(t.type,this,new ks(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function qs(t,e,n,i,o){var a;if("object"===(0,r.Z)(i)&&(a=void 0,o=i),"function"===typeof i&&(a=i),o&&o.onlyOnce){var s=n,u=function(e,n){Qa(t._repo,t,l),s(e,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new bs(n,a||void 0),l="value"===e?new js(c):new Us(e,c);return $a(t._repo,t,l),function(){return Qa(t._repo,t,l)}}function Vs(t,e,n,r){return qs(t,"value",e,n,r)}function Bs(t,e,n,r){return qs(t,"child_added",e,n,r)}function Ks(t,e,n,r){return qs(t,"child_changed",e,n,r)}function Hs(t,e,n,r){return qs(t,"child_moved",e,n,r)}function Ws(t,e,n,r){return qs(t,"child_removed",e,n,r)}function zs(t,e,n){var r=null,i=n?new bs(n):null;"value"===e?r=new js(i):e&&(r=new Us(e,i)),Qa(t._repo,t,r)}var Gs=function(){function t(){}return t}(),$s=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){la("endAt",this._value,t._path,!0);var e=Gn(t._queryParams,this._value,this._key);if(Ss(e),Ts(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)},e}(Gs);function Qs(t,e){return ga("endAt","key",e,!0),new $s(t,e)}var Ys=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){la("endBefore",this._value,t._path,!1);var e=$n(t._queryParams,this._value,this._key);if(Ss(e),Ts(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)},e}(Gs);function Xs(t,e){return ga("endBefore","key",e,!0),new Ys(t,e)}var Js=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){la("startAt",this._value,t._path,!0);var e=Wn(t._queryParams,this._value,this._key);if(Ss(e),Ts(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)},e}(Gs);function Zs(t,e){return void 0===t&&(t=null),ga("startAt","key",e,!0),new Js(t,e)}var tu=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){la("startAfter",this._value,t._path,!1);var e=zn(t._queryParams,this._value,this._key);if(Ss(e),Ts(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)},e}(Gs);function eu(t,e){return ga("startAfter","key",e,!0),new tu(t,e)}var nu=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(t._repo,t._path,Kn(t._queryParams,this._limit),t._orderByCalled)},e}(Gs);function ru(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new nu(t)}var iu=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(t._repo,t._path,Hn(t._queryParams,this._limit),t._orderByCalled)},e}(Gs);function ou(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new iu(t)}var au=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Is(t,"orderByChild");var e=new he(this._path);if(we(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new In(e),r=Qn(t._queryParams,n);return Ts(r),new Es(t._repo,t._path,r,!0)},e}(Gs);function su(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ya("orderByChild","path",t,!1),new au(t)}var uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Is(t,"orderByKey");var e=Qn(t._queryParams,ze);return Ts(e),new Es(t._repo,t._path,e,!0)},e}(Gs);function cu(){return new uu}var lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Is(t,"orderByPriority");var e=Qn(t._queryParams,fn);return Ts(e),new Es(t._repo,t._path,e,!0)},e}(Gs);function hu(){return new lu}var fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Is(t,"orderByValue");var e=Qn(t._queryParams,Sn);return Ts(e),new Es(t._repo,t._path,e,!0)},e}(Gs);function pu(){return new fu}var du=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(la("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $s(this._value,this._key)._apply(new Js(this._value,this._key)._apply(t))},e}(Gs);function vu(t,e){return ga("equalTo","key",e,!0),new du(t,e)}function gu(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=(0,a.getModularInstance)(t);try{for(var u=(0,s.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;o=l._apply(o)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return o}Wi(Cs),io(Cs);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yu="FIREBASE_DATABASE_EMULATOR_HOST",mu={},_u=!1;function bu(t,e,n,r){t.repoInfo_=new ft(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function wu(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||A("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=gs(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",BASE_URL:"/"}[yu]),c?(a=!0,o="http://"+c+"?ns="+u.namespace,s=gs(o,i),u=s.repoInfo):a=!s.repoInfo.secure;var l=i&&a?new tt(tt.OWNER):new Z(t.name,t.options,e);ba("Invalid Firebase Database URL",s),we(s.path)||A("Database URL must point to the root of a Firebase Database (not including a child path).");var h=Iu(u,t,l,new J(t.name,n));return new Su(h,t)}function Eu(t,e){var n=mu[e];n&&n[t.key]===t||A("Database "+e+"("+t.repoInfo_+") has already been deleted."),Ya(t),delete n[t.key]}function Iu(t,e,n,r){var i=mu[e.name];i||(i={},mu[e.name]=i);var o=i[t.toURLString()];return o&&A("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Na(t,_u,n,r),i[t.toURLString()]=o,o}function Tu(t){_u=t}var Su=function(){function t(t,e){this._repoInternal=t,this.app=e,this["type"]="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(Ra(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Cs(this._repo,fe())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return null!==this._rootInternal&&(Eu(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&A("Cannot call "+t+" on a deleted database.")},t}();function Cu(t,e,n,r){void 0===r&&(r={}),t=(0,a.getModularInstance)(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&A("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&A('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new tt(tt.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,a.createMockUserToken)(r.mockUserToken,t.app.options.projectId);o=new tt(s)}bu(i,e,n,o)}function ku(t){t=(0,a.getModularInstance)(t),t._checkNotDeleted("goOffline"),Ya(t._repo)}function Au(t){t=(0,a.getModularInstance)(t),t._checkNotDeleted("goOnline"),Xa(t._repo)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xu={".sv":"timestamp"};function Nu(){return xu}function Ru(t){return{".sv":{increment:t}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ou=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Pu(t,e,n){var r;if(t=(0,a.getModularInstance)(t),_a("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new a.Deferred,s=function(e,n,r){var i=null;e?o.reject(e):(i=new ks(r,new Cs(t._repo,t._path),fn),o.resolve(new Ou(n,i)))},u=Vs(t,(function(){}));return ns(t._repo,t._path,e,s,u,i),o.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Du=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,a.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,a.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){(0,a.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,a.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){(0,a.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,a.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){(0,a.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,a.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if((0,a.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,x("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,a.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},t}(),Lu=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,a.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Mu=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,a.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,a.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,a.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,a.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,a.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),ya("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,a.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),ya("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,a.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,a.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,a.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return(0,a.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,a.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,a.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new ju(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Fu=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var o,s=this;(0,a.validateArgCount)("Query.on",2,4,arguments.length),(0,a.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new Mu(s.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(e){case"value":return Vs(this._delegate,c,l),n;case"child_added":return Bs(this._delegate,c,l),n;case"child_removed":return Ws(this._delegate,c,l),n;case"child_changed":return Ks(this._delegate,c,l),n;case"child_moved":return Hs(this._delegate,c,l),n;default:throw new Error((0,a.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,a.validateArgCount)("Query.off",0,3,arguments.length),va("Query.off",t,!0),(0,a.validateCallback)("Query.off","callback",e,!0),(0,a.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,zs(this._delegate,t,r)}else zs(this._delegate,t)},t.prototype.get=function(){var t=this;return Fs(this._delegate).then((function(e){return new Mu(t.database,e)}))},t.prototype.once=function(e,n,r,i){var o=this;(0,a.validateArgCount)("Query.once",1,4,arguments.length),(0,a.validateCallback)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=new a.Deferred,c=function(t,e){var r=new Mu(o.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":Vs(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Bs(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Ws(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Ks(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Hs(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,a.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return(0,a.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,gu(this._delegate,ru(e)))},t.prototype.limitToLast=function(e){return(0,a.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,gu(this._delegate,ou(e)))},t.prototype.orderByChild=function(e){return(0,a.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,gu(this._delegate,su(e)))},t.prototype.orderByKey=function(){return(0,a.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,gu(this._delegate,cu()))},t.prototype.orderByPriority=function(){return(0,a.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,gu(this._delegate,hu()))},t.prototype.orderByValue=function(){return(0,a.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,gu(this._delegate,pu()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,a.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,gu(this._delegate,Zs(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,a.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,gu(this._delegate,eu(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,a.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,gu(this._delegate,Qs(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,a.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,gu(this._delegate,Xs(e,n)))},t.prototype.equalTo=function(e,n){return(0,a.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,gu(this._delegate,vu(e,n)))},t.prototype.toString=function(){return(0,a.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,a.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,a.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:void 0,context:void 0};if(e&&n)i.cancel=e,(0,a.validateCallback)(t,"cancel",i.cancel,!0),i.context=n,(0,a.validateContextObject)(t,"context",i.context,!0);else if(e)if("object"===(0,r.Z)(e)&&null!==e)i.context=e;else{if("function"!==typeof e)throw new Error((0,a.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new ju(this.database,new Cs(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),ju=function(t){function e(e,n){var r=t.call(this,e,new Es(n._repo,n._path,new Vn,!1))||this;return r.database=e,r._delegate=n,r}return(0,s.__extends)(e,t),e.prototype.getKey=function(){return(0,a.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,a.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof t&&(t=String(t)),new e(this.database,Ns(this._delegate,t))},e.prototype.getParent=function(){(0,a.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,a.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,a.validateArgCount)("Reference.set",1,2,arguments.length),(0,a.validateCallback)("Reference.set","onComplete",e,!0);var n=Ps(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if((0,a.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,x("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_a("Reference.update",this._delegate._path),(0,a.validateCallback)("Reference.update","onComplete",e,!0);var i=Ms(this._delegate,t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},e.prototype.setWithPriority=function(t,e,n){(0,a.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,a.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ls(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){(0,a.validateArgCount)("Reference.remove",0,1,arguments.length),(0,a.validateCallback)("Reference.remove","onComplete",t,!0);var e=Os(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;(0,a.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,a.validateCallback)("Reference.transaction","transactionUpdate",t,!1),(0,a.validateCallback)("Reference.transaction","onComplete",e,!0),wa("Reference.transaction","applyLocally",n,!0);var i=Pu(this._delegate,t,{applyLocally:n}).then((function(t){return new Lu(t.committed,new Mu(r.database,t.snapshot))}));return e&&i.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),i},e.prototype.setPriority=function(t,e){(0,a.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,a.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Ds(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;(0,a.validateArgCount)("Reference.push",0,2,arguments.length),(0,a.validateCallback)("Reference.push","onComplete",n,!0);var i=Rs(this._delegate,t),o=i.then((function(t){return new e(r.database,t)}));n&&o.then((function(){return n(null)}),(function(t){return n(t)}));var s=new e(this.database,i);return s.then=o.then.bind(o),s.catch=o.catch.bind(o,void 0),s},e.prototype.onDisconnect=function(){return _a("Reference.onDisconnect",this._delegate._path),new Du(new ws(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Fu),Uu=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),Cu(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,a.validateArgCount)("database.ref",0,1,arguments.length),t instanceof ju){var e=xs(this._delegate,t.toString());return new ju(this,e)}e=As(this._delegate,t);return new ju(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,a.validateArgCount)(e,1,1,arguments.length);var n=xs(this._delegate,t);return new ju(this,n)},t.prototype.goOffline=function(){return(0,a.validateArgCount)("database.goOffline",0,0,arguments.length),ku(this._delegate)},t.prototype.goOnline=function(){return(0,a.validateArgCount)("database.goOnline",0,0,arguments.length),Au(this._delegate)},t.ServerValue={TIMESTAMP:Nu(),increment:function(t){return Ru(t)}},t}(),qu=function(){Kt.forceDisallow(),jt.forceAllow()},Vu=function(){jt.forceDisallow()},Bu=function(){return Kt["isAvailable"]()},Ku=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},Hu=function(t,e){Ja(t._delegate._repo,e)},Wu=function(t,e){Za(t._delegate._repo,e)},zu=function(t){return t._delegate._repo.dataUpdateCount},Gu=function(t,e){return La(t._delegate._repo,e)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,a=t.namespace,s=t.nodeAdmin,u=void 0!==s&&s;f(r);var c=new o.Provider("auth-internal",new o.ComponentContainer("database-standalone"));return c.setComponent(new o.Component("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Uu(wu(e,c,void 0,n,u),e),namespace:a}}var Qu=Object.freeze({__proto__:null,forceLongPolling:qu,forceWebSockets:Vu,isWebSocketsAvailable:Bu,setSecurityDebugCallback:Ku,stats:Hu,statsIncrementCounter:Wu,dataUpdateCount:zu,interceptServerData:Gu,initStandalone:$u}),Yu=Be;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Be.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Be.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Xu=oe,Ju=function(t){var e=Be.prototype.put;return Be.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Be.prototype.put=e}},Zu=ft,tc=function(t){return t._delegate._queryIdentifier},ec=function(t){Tu(t)},nc=Object.freeze({__proto__:null,DataConnection:Yu,RealTimeConnection:Xu,hijackHash:Ju,ConnectionTarget:Zu,queryIdentifier:tc,forceRestClient:ec}),rc=Uu.ServerValue;function ic(e){f(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new o.Component("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Uu(wu(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:ju,Query:Fu,Database:Uu,DataSnapshot:Mu,enableLogging:T,INTERNAL:Qu,ServerValue:rc,TEST_ACCESS:nc}).setMultipleInstances(!0));e.registerVersion(c,l),(0,a.isNodeSdk)()&&(t.exports=n)}ic(i["default"])},2864:function(t,e,n){"use strict";n.r(e),n.d(e,{LogLevel:function(){return o},Logger:function(){return h},setLogLevel:function(){return f},setUserLogHandler:function(){return p}});var r;n(8309),n(1703),n(1539),n(9600),n(7327),n(1249),n(9714),n(8862);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o,a=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=(r={},r[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){var u=i[r];n(u)}}},9556:function(t,e,n){"use strict";n.r(e),n.d(e,{CONSTANTS:function(){return o},Deferred:function(){return y},ErrorFactory:function(){return M},FirebaseError:function(){return L},MAX_VALUE_MILLIS:function(){return gt},RANDOM_FACTOR:function(){return yt},Sha1:function(){return et},areCookiesEnabled:function(){return O},assert:function(){return a},assertionError:function(){return s},async:function(){return it},base64:function(){return l},base64Decode:function(){return p},base64Encode:function(){return h},base64urlEncodeWithoutPadding:function(){return f},calculateBackoffMillis:function(){return mt},contains:function(){return z},createMockUserToken:function(){return m},createSubscribe:function(){return nt},decode:function(){return V},deepCopy:function(){return d},deepEqual:function(){return Y},deepExtend:function(){return v},errorPrefix:function(){return ut},extractQuerystring:function(){return tt},getGlobal:function(){return P},getModularInstance:function(){return wt},getUA:function(){return _},isAdmin:function(){return W},isBrowser:function(){return E},isBrowserExtension:function(){return I},isElectron:function(){return S},isEmpty:function(){return $},isIE:function(){return C},isIndexedDBAvailable:function(){return N},isMobileCordova:function(){return b},isNode:function(){return w},isNodeSdk:function(){return A},isReactNative:function(){return T},isSafari:function(){return x},isUWP:function(){return k},isValidFormat:function(){return H},isValidTimestamp:function(){return B},issuedAtTime:function(){return K},jsonEval:function(){return U},map:function(){return Q},ordinal:function(){return _t},querystring:function(){return J},querystringDecode:function(){return Z},safeGet:function(){return G},stringLength:function(){return pt},stringToByteArray:function(){return ft},stringify:function(){return q},validateArgCount:function(){return st},validateCallback:function(){return lt},validateContextObject:function(){return ht},validateIndexedDBOpenable:function(){return R},validateNamespace:function(){return ct}});var r=n(9726),i=(n(1703),n(9600),n(5505),n(7714),n(2801),n(1174),n(4916),n(5306),n(1539),n(86),n(8862),n(7601),n(6699),n(2023),n(8309),n(3123),n(7941),n(4747),n(9720),n(5192),n(9653),n(4270)),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},u=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var a=t[n++],s=t[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(u(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,s=a?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==h)throw Error();var f=o<<2|s>>4;if(r.push(f),64!==c){var p=s<<4&240|c>>2;if(r.push(p),64!==h){var d=c<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){var e=u(t);return l.encodeByteArray(e,!0)},f=function(t){return h(t).replace(/\./g,"")},p=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(t){return v(void 0,t)}function v(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&g(r)&&(t[r]=v(t[r],e[r]));return t}function g(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,i.__assign)({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[f(JSON.stringify(n)),f(JSON.stringify(s)),u].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function b(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function w(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function E(){return"object"===("undefined"===typeof self?"undefined":(0,r.Z)(self))&&self.self===self}function I(){var t="object"===("undefined"===typeof chrome?"undefined":(0,r.Z)(chrome))?chrome.runtime:"object"===("undefined"===typeof browser?"undefined":(0,r.Z)(browser))?browser.runtime:void 0;return"object"===(0,r.Z)(t)&&void 0!==t.id}function T(){return"object"===("undefined"===typeof navigator?"undefined":(0,r.Z)(navigator))&&"ReactNative"===navigator["product"]}function S(){return _().indexOf("Electron/")>=0}function C(){var t=_();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k(){return _().indexOf("MSAppHost/")>=0}function A(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function x(){return!w()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N(){return"indexedDB"in self&&null!=indexedDB}function R(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function O(){return!(!navigator||!navigator.cookieEnabled)}function P(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D="FirebaseError",L=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=D,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,M.prototype.create),o}return(0,i.__extends)(e,t),e}(Error),M=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?F(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new L(i,s,r);return u},t}();function F(t,e){return t.replace(j,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var j=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t){return JSON.parse(t)}function q(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=U(p(o[0])||""),n=U(p(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(a){}return{header:e,claims:n,data:r,signature:i}},B=function(t){var e=V(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,o=0;return"object"===(0,r.Z)(e)&&(e.hasOwnProperty("nbf")?i=e["nbf"]:e.hasOwnProperty("iat")&&(i=e["iat"]),o=e.hasOwnProperty("exp")?e["exp"]:i+86400),!!n&&!!i&&!!o&&n>=i&&n<=o},K=function(t){var e=V(t).claims;return"object"===(0,r.Z)(e)&&e.hasOwnProperty("iat")?e["iat"]:null},H=function(t){var e=V(t),n=e.claims;return!!n&&"object"===(0,r.Z)(n)&&n.hasOwnProperty("iat")},W=function(t){var e=V(t).claims;return"object"===(0,r.Z)(e)&&!0===e["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function z(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function G(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function $(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Q(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Y(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=t[a],u=e[a];if(X(s)&&X(u)){if(!Y(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function X(t){return null!==t&&"object"===(0,r.Z)(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],s=o[1];n(a,s)}return e.length?"&"+e.join("&"):""}function Z(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach((function(t){if(t){var n=t.split("="),r=n[0],i=n[1];e[decodeURIComponent(r)]=decodeURIComponent(i)}})),e}function tt(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function nt(t,e){var n=new rt(t,e);return n.subscribe.bind(n)}var rt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=ot(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=at),void 0===r.error&&(r.error=at),void 0===r.complete&&(r.complete=at);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function it(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function ot(t,e){if("object"!==(0,r.Z)(t)||null===t)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&"function"===typeof t[o])return!0}return!1}function at(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function ut(t,e){return t+" failed: "+e+" argument "}function ct(t,e,n){if((!n||e)&&"string"!==typeof e)throw new Error(ut(t,"namespace")+"must be a valid firebase namespace.")}function lt(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ut(t,e)+"must be a valid function.")}function ht(t,e,n,i){if((!i||n)&&("object"!==(0,r.Z)(n)||null===n))throw new Error(ut(t,e)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<t.length,"Surrogate pair missing trail surrogate.");var s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},pt=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},dt=1e3,vt=2,gt=144e5,yt=.5;function mt(t,e,n){void 0===e&&(e=dt),void 0===n&&(n=vt);var r=e*Math.pow(n,t),i=Math.round(yt*r*(Math.random()-.5)*2);return Math.min(gt,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return Number.isFinite(t)?t+bt(t):""+t}function bt(t){t=Math.abs(t);var e=t%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}},6166:function(t,e,n){t.exports=n(9142)},4355:function(t,e,n){"use strict";n(1539),n(7714),n(2801),n(1174),n(4747);var r=n(2175),i=n(2317),o=n(3347),a=n(8470),s=n(4107),u=n(6280),c=n(8573),l=n(168),h=n(9214),f=n(7170);t.exports=function(t){return new Promise((function(e,n){var p,d=t.data,v=t.headers,g=t.responseType;function y(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}r.isFormData(d)&&delete v["Content-Type"];var m=new XMLHttpRequest;if(t.auth){var _=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.Authorization="Basic "+btoa(_+":"+b)}var w=s(t.baseURL,t.url);function E(){if(m){var r="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,o=g&&"text"!==g&&"json"!==g?m.response:m.responseText,a={data:o,status:m.status,statusText:m.statusText,headers:r,config:t,request:m};i((function(t){e(t),y()}),(function(t){n(t),y()}),a),m=null}}if(m.open(t.method.toUpperCase(),a(w,t.params,t.paramsSerializer),!0),m.timeout=t.timeout,"onloadend"in m?m.onloadend=E:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(E)},m.onabort=function(){m&&(n(l("Request aborted",t,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",t,null,m)),m=null},m.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||h;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var I=(t.withCredentials||c(w))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;I&&(v[t.xsrfHeaderName]=I)}"setRequestHeader"in m&&r.forEach(v,(function(t,e){"undefined"===typeof d&&"content-type"===e.toLowerCase()?delete v[e]:m.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),g&&"json"!==g&&(m.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&m.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){m&&(n(!t||t&&t.type?new f("canceled"):t),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),d||(d=null),m.send(d)}))}},9142:function(t,e,n){"use strict";n(1539),n(8783),n(3948);var r=n(2175),i=n(2978),o=n(4980),a=n(740),s=n(1378);function u(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n.create=function(e){return u(a(t,e))},n}var c=u(s);c.Axios=o,c.Cancel=n(7170),c.CancelToken=n(1414),c.isCancel=n(4434),c.VERSION=n(3394).version,c.all=function(t){return Promise.all(t)},c.spread=n(8758),c.isAxiosError=n(9096),t.exports=c,t.exports["default"]=c},7170:function(t,e,n){"use strict";function r(t){this.message=t}n(1539),n(9714),r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},1414:function(t,e,n){"use strict";n(1703),n(1539),n(561);var r=n(7170);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t,e=new i((function(e){t=e}));return{token:e,cancel:t}},t.exports=i},4434:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},4980:function(t,e,n){"use strict";n(1539),n(4747),n(2222),n(4916),n(5306);var r=n(2175),i=n(8470),o=n(5393),a=n(5216),s=n(740),u=n(4542),c=u.validators;function l(t){this.defaults=t,this.interceptors={request:new o,response:new o}}l.prototype.request=function(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=s(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)})),!i){var h=[a,void 0];Array.prototype.unshift.apply(h,r),h=h.concat(l),o=Promise.resolve(e);while(h.length)o=o.then(h.shift(),h.shift());return o}var f=e;while(r.length){var p=r.shift(),d=r.shift();try{f=p(f)}catch(v){d(v);break}}try{o=a(f)}catch(v){return Promise.reject(v)}while(l.length)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=l},5393:function(t,e,n){"use strict";n(1539),n(4747);var r=n(2175);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},4107:function(t,e,n){"use strict";var r=n(8612),i=n(1549);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},168:function(t,e,n){"use strict";n(1703);var r=n(8848);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},5216:function(t,e,n){"use strict";n(1539),n(4747);var r=n(2175),i=n(1618),o=n(4434),a=n(1378),s=n(7170);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}t.exports=function(t){u(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||a.adapter;return e(t).then((function(e){return u(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},8848:function(t,e,n){"use strict";n(3753),n(8309),n(2526),n(1817),t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},740:function(t,e,n){"use strict";n(7042),n(1539),n(4747),n(2222),n(7941);var r=n(2175);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function a(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function s(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function u(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);r.isUndefined(i)&&e!==u||(n[t]=i)})),n}},2317:function(t,e,n){"use strict";var r=n(168);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},1618:function(t,e,n){"use strict";n(1539),n(4747);var r=n(2175),i=n(1378);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},1378:function(t,e,n){"use strict";n(1539),n(3210),n(8309),n(8862),n(9714),n(4747);var r=n(2175),i=n(5916),o=n(8848),a=n(9214),s={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function c(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=n(4355)),t}function l(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}var h={transitional:a,adapter:c(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(u(e,"application/json"),l(t)):t}],transformResponse:[function(t){var e=this.transitional||h.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){h.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){h.headers[t]=r.merge(s)})),t.exports=h},9214:function(t){"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},3394:function(t){t.exports={version:"0.26.1"}},2978:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},8470:function(t,e,n){"use strict";n(4916),n(5306),n(1539),n(9714),n(4747),n(8862),n(9600),n(7042);var r=n(2175);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},1549:function(t,e,n){"use strict";n(4916),n(5306),t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},3347:function(t,e,n){"use strict";n(9600),n(4916),n(4723),n(4603),n(8450),n(8386),n(9714);var r=n(2175);t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},8612:function(t,e,n){"use strict";n(4916),n(7601),t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},9096:function(t,e,n){"use strict";var r=n(2175);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},8573:function(t,e,n){"use strict";n(4916),n(7601),n(5306),n(4765);var r=n(2175);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},5916:function(t,e,n){"use strict";n(1539),n(4747);var r=n(2175);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},6280:function(t,e,n){"use strict";n(1539),n(4747),n(4916),n(3123),n(3210),n(2222);var r=n(2175),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},8758:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4542:function(t,e,n){"use strict";var r=n(7964)["default"];n(1539),n(1703),n(7941);var i=n(3394).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(n){return r(n)===t||"a"+(e<1?"n ":" ")+t}}));var a={};function s(t,e,n){if("object"!==r(t))throw new TypeError("options must be an object");var i=Object.keys(t),o=i.length;while(o-- >0){var a=i[o],s=e[a];if(s){var u=t[a],c=void 0===u||s(u,a,t);if(!0!==c)throw new TypeError("option "+a+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+a)}}o.transitional=function(t,e,n){function r(t,e){return"[Axios v"+i+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,o){if(!1===t)throw new Error(r(i," has been removed"+(e?" in "+e:"")));return e&&!a[i]&&(a[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}},t.exports={assertOptions:s,validators:o}},2175:function(t,e,n){"use strict";var r=n(7964)["default"];n(1539),n(8264),n(489),n(3210),n(4916),n(5306),n(7042);var i=n(2978),o=Object.prototype.toString;function a(t){return Array.isArray(t)}function s(t){return"undefined"===typeof t}function u(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function c(t){return"[object ArrayBuffer]"===o.call(t)}function l(t){return"[object FormData]"===o.call(t)}function h(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&c(t.buffer),e}function f(t){return"string"===typeof t}function p(t){return"number"===typeof t}function d(t){return null!==t&&"object"===r(t)}function v(t){if("[object Object]"!==o.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function g(t){return"[object Date]"===o.call(t)}function y(t){return"[object File]"===o.call(t)}function m(t){return"[object Blob]"===o.call(t)}function _(t){return"[object Function]"===o.call(t)}function b(t){return d(t)&&_(t.pipe)}function w(t){return"[object URLSearchParams]"===o.call(t)}function E(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function I(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function T(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==r(t)&&(t=[t]),a(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function S(){var t={};function e(e,n){v(t[n])&&v(e)?t[n]=S(t[n],e):v(e)?t[n]=S({},e):a(e)?t[n]=e.slice():t[n]=e}for(var n=0,r=arguments.length;n<r;n++)T(arguments[n],e);return t}function C(t,e,n){return T(e,(function(e,r){t[r]=n&&"function"===typeof e?i(e,n):e})),t}function k(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}t.exports={isArray:a,isArrayBuffer:c,isBuffer:u,isFormData:l,isArrayBufferView:h,isString:f,isNumber:p,isObject:d,isPlainObject:v,isUndefined:s,isDate:g,isFile:y,isBlob:m,isFunction:_,isStream:b,isURLSearchParams:w,isStandardBrowserEnv:I,forEach:T,merge:S,extend:C,trim:E,stripBOM:k}},9037:function(t,e,n){"use strict";n(8200)},2352:function(t,e,n){"use strict";n.d(e,{Z:function(){return r["default"]}});var r=n(8866),i=n(9726);n(5837),n(4916),n(3123),n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1703),n(7601),n(7042),n(9714),n(3753),n(8309),n(7327),n(1249),n(561),n(2222),n(3210),n(5306),n(8862),n(4723),n(9600),n(9653),n(4633),n(3371),n(4747),n(2707),n(86),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(4603),n(8450),n(8386),n(5125);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function o(t){t=["object"==("undefined"===typeof window?"undefined":(0,i.Z)(window))&&window,"object"==("undefined"===typeof self?"undefined":(0,i.Z)(self))&&self,"object"==("undefined"===typeof n.g?"undefined":(0,i.Z)(n.g))&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}var a=o(this);function s(t,n){if(n){var r=a;t=t.split(".");for(var i=0;i<t.length-1;i++){var o=t[i];o in r||(r[o]={}),r=r[o]}t=t[t.length-1],i=r[t],n=n(i),n!=i&&null!=n&&e(r,t,{configurable:!0,writable:!0,value:n})}}function u(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function c(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:u(t)}}s("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=a.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(y){this.f(y)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch((0,i.Z)(t)){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(y){n.reject(y)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(tr){o(tr)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=c(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)}))},e.all=function(t){var n=c(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,s--,0==s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var l=l||{},h=this||self,f=/^[\w+/_-]+[=]{0,2}$/,p=null;function d(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&f.test(t)?t:""}function v(){}function g(t){var e=(0,i.Z)(t);return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function m(t){var e=g(t);return"array"==e||"object"==e&&"number"==typeof t.length}function _(t){return"function"==g(t)}function b(t){var e=(0,i.Z)(t);return"object"==e&&null!=t||"function"==e}function w(t){return Object.prototype.hasOwnProperty.call(t,E)&&t[E]||(t[E]=++I)}var E="closure_uid_"+(1e9*Math.random()>>>0),I=0;function T(t,e,n){return t.call.apply(t.bind,arguments)}function S(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?T:S,C.apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var A=Date.now;function x(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function N(t){return t}function R(t,e,n){this.code=D+t,this.message=e||L[t]||"",this.a=n||null}function O(t){var e=t&&t.code;return e?new R(e.substring(D.length),t.message,t.serverResponse):null}x(R,Error),R.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},R.prototype.toJSON=function(){return this.w()};var P,D="auth/",L={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},M={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function F(t){for(var e in M)if(M[e].id===t)return t=M[e],{firebaseEndpoint:t.Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function j(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function U(t){if(Error.captureStackTrace)Error.captureStackTrace(this,U);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function q(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");U.call(this,n+t[r])}function V(t,e){throw new q("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function B(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function K(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function H(){this.b=this.a=null}P=F("__EID__")?"__EID__":void 0,x(U,Error),U.prototype.name="CustomError",x(q,U),q.prototype.name="AssertionError",B.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var W=new B((function(){return new G}),(function(t){t.reset()}));function z(){var t=Pe,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function G(){this.next=this.b=this.a=null}H.prototype.add=function(t,e){var n=W.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},G.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},G.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Y(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}var X=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},J=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function tt(t){t:{for(var e=us,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function et(t,e){return 0<=$(t,e)}function nt(t,e){var n;return e=$(t,e),(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function rt(t,e){Y(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function it(t){return Array.prototype.concat.apply([],arguments)}function ot(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var at,st=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ut=/&/g,ct=/</g,lt=/>/g,ht=/"/g,ft=/'/g,pt=/\x00/g,dt=/[\x00&<>"']/;function vt(t,e){return-1!=t.indexOf(e)}function gt(t,e){return t<e?-1:t>e?1:0}t:{var yt=h.navigator;if(yt){var mt=yt.userAgent;if(mt){at=mt;break t}}at=""}function _t(t){return vt(at,t)}function bt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function wt(t){for(var e in t)return!1;return!0}function Et(t){var e,n={};for(e in t)n[e]=t[e];return n}var It="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<It.length;o++)n=It[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function St(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||h,r.Element&&r.Location){var o=r;break t}}catch(s){}o=null}if(o&&"undefined"!=typeof o[e]&&(!t||!(t instanceof o[e])&&(t instanceof o.Location||t instanceof o.Element))){if(b(t))try{var a=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){a="<object could not be stringified>"}else a=void 0===t?"undefined":null===t?"null":(0,i.Z)(t);V("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,a)}}function Ct(t,e){this.a=t===Nt&&e||"",this.b=xt}function kt(t){return t instanceof Ct&&t.constructor===Ct&&t.b===xt?t.a:(V("expected object of type Const, got '"+t+"'"),"type_error:Const")}Ct.prototype.ta=!0,Ct.prototype.sa=function(){return this.a},Ct.prototype.toString=function(){return"Const{"+this.a+"}"};var At,xt={},Nt={};function Rt(){if(void 0===At){var t=null,e=h.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:N,createScript:N,createScriptURL:N})}catch(n){h.console&&h.console.error(n.message)}At=t}else At=t}return At}function Ot(t,e){this.a=e===Ft?t:""}function Pt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(V("expected object of type TrustedResourceUrl, got '"+t+"' of type "+g(t)),"type_error:TrustedResourceUrl")}function Dt(t,e){var n=kt(t);if(!Mt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Lt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof Ct?kt(t):encodeURIComponent(String(t))})),jt(t)}Ot.prototype.ta=!0,Ot.prototype.sa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Lt=/%{(\w+)}/g,Mt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ft={};function jt(t){var e=Rt();return t=e?e.createScriptURL(t):t,new Ot(t,Ft)}function Ut(t,e){this.a=e===zt?t:""}function qt(t){return t instanceof Ut&&t.constructor===Ut?t.a:(V("expected object of type SafeUrl, got '"+t+"' of type "+g(t)),"type_error:SafeUrl")}Ut.prototype.ta=!0,Ut.prototype.sa=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Vt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Bt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Kt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ht(t){if(t instanceof Ut)return t;if(t="object"==(0,i.Z)(t)&&t.ta?t.sa():String(t),Kt.test(t))t=new Ut(t,zt);else{t=String(t),t=t.replace(/(%0A|%0D)/g,"");var e=t.match(Bt);t=e&&Vt.test(e[1])?new Ut(t,zt):null}return t}function Wt(t){return t instanceof Ut?t:(t="object"==(0,i.Z)(t)&&t.ta?t.sa():String(t),Kt.test(t)||(t="about:invalid#zClosurez"),new Ut(t,zt))}var zt={},Gt=new Ut("about:invalid#zClosurez",zt);function $t(t,e,n){this.a=n===Yt?t:""}function Qt(t){return t instanceof $t&&t.constructor===$t?t.a:(V("expected object of type SafeHtml, got '"+t+"' of type "+g(t)),"type_error:SafeHtml")}$t.prototype.ta=!0,$t.prototype.sa=function(){return this.a.toString()},$t.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Yt={};function Xt(t,e){St(t,"HTMLScriptElement"),t.src=Pt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=h?e=d(e.document):(null===p&&(p=d(h.document)),e=p),e&&t.setAttribute("nonce",e)}function Jt(t,e,n,r){return t=t instanceof Ut?t:Wt(t),e=e||h,n=n instanceof Ct?kt(n):n||"",e.open(qt(t),n,r,void 0)}function Zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function te(t){return dt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ut,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ct,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(lt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ht,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ft,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(pt,"&#0;"))),t}function ee(t){return ee[" "](t),t}function ne(t,e){var n=ve;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}ee[" "]=v;var re,ie=_t("Opera"),oe=_t("Trident")||_t("MSIE"),ae=_t("Edge"),se=ae||oe,ue=_t("Gecko")&&!(vt(at.toLowerCase(),"webkit")&&!_t("Edge"))&&!(_t("Trident")||_t("MSIE"))&&!_t("Edge"),ce=vt(at.toLowerCase(),"webkit")&&!_t("Edge");function le(){var t=h.document;return t?t.documentMode:void 0}t:{var he="",fe=function(){var t=at;return ue?/rv:([^\);]+)(\)|;)/.exec(t):ae?/Edge\/([\d\.]+)/.exec(t):oe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ce?/WebKit\/(\S+)/.exec(t):ie?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(fe&&(he=fe?fe[1]:""),oe){var pe=le();if(null!=pe&&pe>parseFloat(he)){re=String(pe);break t}}re=he}var de,ve={};function ge(t){return ne(t,(function(){for(var e=0,n=st(String(re)).split("."),r=st(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=gt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||gt(0==a[2].length,0==s[2].length)||gt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(h.document&&oe){var ye=le();de=ye||(parseInt(re,10)||void 0)}else de=void 0;var me=de;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(rd){}var _e=!oe||9<=Number(me);function be(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function we(t,e){bt(e,(function(e,n){e&&"object"==(0,i.Z)(e)&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Te.hasOwnProperty(n)?t.setAttribute(Te[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var Ee,Ie,Te={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Se(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!_e&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',te(a.name),'"'),a.type){o.push(' type="',te(a.type),'"');var s={};Tt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ke(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):we(o,a)),2<r.length&&Ce(i,o,r),o}function Ce(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!m(o)||b(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(b(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(_(o)){a="function"==typeof o.item;break t}}a=!1}Q(a?ot(o):o,r)}}}function ke(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function Ae(t){h.setTimeout((function(){throw t}),0)}function xe(){var t=h.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!_t("Presto")&&(t=function(){var t=ke(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!_t("Trident")&&!_t("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){h.setTimeout(t,0)}}function Ne(t,e){Ie||Re(),Oe||(Ie(),Oe=!0),Pe.add(t,e)}function Re(){if(h.Promise&&h.Promise.resolve){var t=h.Promise.resolve(void 0);Ie=function(){t.then(De)}}else Ie=function(){var t=De;!_(h.setImmediate)||h.Window&&h.Window.prototype&&!_t("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(Ee||(Ee=xe()),Ee(t)):h.setImmediate(t)}}var Oe=!1,Pe=new H;function De(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){Ae(e)}K(W,t)}Oe=!1}function Le(t,e){if(this.a=Me,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=v)try{var n=this;t.call(e,(function(t){Ye(n,Fe,t)}),(function(t){if(!(t instanceof an))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ye(n,je,t)}))}catch(r){Ye(this,je,r)}}var Me=0,Fe=2,je=3;function Ue(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ue.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var qe=new B((function(){return new Ue}),(function(t){t.reset()}));function Ve(t,e,n){var r=qe.get();return r.g=t,r.b=e,r.f=n,r}function Be(t){if(t instanceof Le)return t;var e=new Le(v);return Ye(e,Fe,t),e}function Ke(t){return new Le((function(e,n){n(t)}))}function He(t,e,n){Xe(t,e,n,null)||Ne(k(e,t))}function We(t){return new Le((function(e,n){var r=t.length,i=[];if(r)for(var o,a=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],He(o,k(a,u),s);else e(i)}))}function ze(t){return new Le((function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],He(i,k(o,a,!0),k(o,a,!1));else e(r)}))}function Ge(t,e){if(t.a==Me)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Me&&1==r?Ge(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):tn(n),en(n,i,je,e)))}t.c=null}else Ye(t,je,e)}function $e(t,e){t.b||t.a!=Fe&&t.a!=je||Ze(t),t.f?t.f.next=e:t.b=e,t.f=e}function Qe(t,e,n,r){var i=Ve(null,null,null);return i.a=new Le((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(y){o(y)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof an?o(e):t(i)}catch(y){o(y)}}:o})),i.a.c=t,$e(t,i),i.a}function Ye(t,e,n){t.a==Me&&(t===n&&(e=je,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Xe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ze(t),e!=je||n instanceof an||rn(t,n)))}function Xe(t,e,n,r){if(t instanceof Le)return $e(t,Ve(e||v,n||null,r)),!0;if(j(t))return t.then(e,n,r),!0;if(b(t))try{var i=t.then;if(_(i))return Je(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Je(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}function Ze(t){t.h||(t.h=!0,Ne(t.gc,t))}function tn(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function en(t,e,n,r){if(n==je&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,nn(e,n,r);else try{e.c?e.g.call(e.f):nn(e,n,r)}catch(i){on.call(null,i)}K(qe,e)}function nn(t,e,n){e==Fe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function rn(t,e){t.g=!0,Ne((function(){t.g&&on.call(null,e)}))}Le.prototype.then=function(t,e,n){return Qe(this,_(t)?t:null,_(e)?e:null,n)},Le.prototype.$goog_Thenable=!0,t=Le.prototype,t.oa=function(t,e){return t=Ve(t,t,e),t.c=!0,$e(this,t),this},t.o=function(t,e){return Qe(this,null,t,e)},t.cancel=function(t){if(this.a==Me){var e=new an(t);Ne((function(){Ge(this,e)}),this)}},t.$c=function(t){this.a=Me,Ye(this,Fe,t)},t.ad=function(t){this.a=Me,Ye(this,je,t)},t.gc=function(){for(var t;t=tn(this);)en(this,t,this.a,this.i);this.h=!1};var on=Ae;function an(t){U.call(this,t)}function sn(){0!=un&&(cn[w(this)]=this),this.ya=this.ya,this.pa=this.pa}x(an,U),an.prototype.name="cancel";var un=0,cn={};function ln(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=un)){var e=w(t);if(0!=un&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete cn[e]}}sn.prototype.ya=!1,sn.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var hn=Object.freeze||function(t){return t},fn=!oe||9<=Number(me),pn=oe&&!ge("9"),dn=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",v,e),h.removeEventListener("test",v,e)}catch(n){}return t}();function vn(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function gn(t,e){if(vn.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(ue){t:{try{ee(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:yn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}vn.prototype.preventDefault=function(){this.defaultPrevented=!0},x(gn,vn);var yn=hn({2:"touch",3:"pen",4:"mouse"});gn.prototype.preventDefault=function(){gn.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,pn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},gn.prototype.g=function(){return this.a};var mn="closure_listenable_"+(1e6*Math.random()|0),_n=0;function bn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++_n,this.wa=this.Qa=!1}function wn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function En(t){this.src=t,this.a={},this.b=0}function In(t,e){var n=e.type;n in t.a&&nt(t.a[n],e)&&(wn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Tn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}En.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=Tn(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):(e=new bn(e,this.src,o,!!r,i),e.Qa=n,t.push(e)),e};var Sn="closure_lm_"+(1e6*Math.random()|0),Cn={};function kn(t,e,n,r,i){if(r&&r.once)Nn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)kn(t,e[o],n,r,i);else n=Un(n),t&&t[mn]?Vn(t,e,n,b(r)?!!r.capture:!!r,i):An(t,e,n,!1,r,i)}function An(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,s=Fn(t);if(s||(t[Sn]=s=new En(t)),n=s.add(e,n,r,a,o),!n.proxy){if(r=xn(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function xn(){var t=Mn,e=fn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Nn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Nn(t,e[o],n,r,i);else n=Un(n),t&&t[mn]?Bn(t,e,n,b(r)?!!r.capture:!!r,i):An(t,e,n,!0,r,i)}function Rn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Rn(t,e[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=Un(n),t&&t[mn]?(t=t.v,e=String(e).toString(),e in t.a&&(o=t.a[e],n=Tn(o,n,r,i),-1<n&&(wn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Fn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Tn(e,n,r,i)),(n=-1<t?e[t]:null)&&On(n))}function On(t){if("number"!==typeof t&&t&&!t.wa){var e=t.src;if(e&&e[mn])In(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fn(e))?(In(n,t),0==n.b&&(n.src=null,e[Sn]=null)):wn(t)}}}function Pn(t){return t in Cn?Cn[t]:Cn[t]="on"+t}function Dn(t,e,n,r){var i=!0;if((t=Fn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=Ln(o,r),i=i&&!1!==o)}return i}function Ln(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&On(t),n.call(r,e)}function Mn(t,e){if(t.wa)return!0;if(!fn){if(!e)t:{e=["window","event"];for(var n=h,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}if(r=e,e=new gn(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Dn(r[i],t,!1,e),n=n&&o}return n}return Ln(t,new gn(e,this))}function Fn(t){return t=t[Sn],t instanceof En?t:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Un(t){return _(t)?t:(t[jn]||(t[jn]=function(e){return t.handleEvent(e)}),t[jn])}function qn(){sn.call(this),this.v=new En(this),this.bc=this,this.hb=null}function Vn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Bn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Kn(t,e,n,r){if(e=t.v.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&In(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Hn(t,e,n){if(_(t))n&&(t=C(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}function Wn(t){var e=null;return new Le((function(n,r){e=Hn((function(){n(void 0)}),t),-1==e&&r(Error("Failed to schedule timer."))})).o((function(t){throw h.clearTimeout(e),t}))}function zn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"===typeof t)return t.split("");if(m(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Gn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(m(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function $n(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m(t)||"string"===typeof t)Q(t,e,void 0);else for(var n=Gn(t),r=zn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}function Qn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Yn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Xn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Xn(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}x(qn,sn),qn.prototype[mn]=!0,qn.prototype.addEventListener=function(t,e,n,r){kn(this,t,e,n,r)},qn.prototype.removeEventListener=function(t,e,n,r){Rn(this,t,e,n,r)},qn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"===typeof t)t=new vn(t,n);else if(t instanceof vn)t.target=t.target||n;else{var i=t;t=new vn(r,n),Tt(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Kn(a,r,!0,t)&&i}if(a=t.b=n,i=Kn(a,r,!0,t)&&i,i=Kn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)a=t.b=e[o],i=Kn(a,r,!1,t)&&i;return i},qn.prototype.Da=function(){if(qn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)wn(n[r]);delete e.a[t],e.b--}}this.hb=null},t=Qn.prototype,t.X=function(){Yn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Yn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Xn(this.b,t)?this.b[t]:e},t.set=function(t,e){Xn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zn(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function er(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof er?(this.i=void 0!==e?e:t.i,nr(this,t.c),this.l=t.l,this.a=t.a,rr(this,t.g),this.f=t.f,ir(this,Ir(t.b)),this.h=t.h):t&&(n=String(t).match(Jn))?(this.i=!!e,nr(this,n[1]||"",!0),this.l=cr(n[2]||""),this.a=cr(n[3]||"",!0),rr(this,n[4]),this.f=cr(n[5]||"",!0),ir(this,n[6]||"",!0),this.h=cr(n[7]||"")):(this.i=!!e,this.b=new yr(null,this.i))}function nr(t,e,n){t.c=n?cr(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function rr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function ir(t,e,n){e instanceof yr?(t.b=e,Sr(t.b,t.i)):(n||(e=lr(e,vr)),t.b=new yr(e,t.i))}function or(t,e,n){t.b.set(e,n)}function ar(t,e){return t.b.get(e)}function sr(t){return t instanceof er?new er(t):new er(t,void 0)}function ur(t,e,n,r){var i=new er(null,void 0);return t&&nr(i,t),e&&(i.a=e),n&&rr(i,n),r&&(i.f=r),i}function cr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lr(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,hr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hr(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}er.prototype.toString=function(){var t=[],e=this.c;e&&t.push(lr(e,fr,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(lr(e,fr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.g,null!=n&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(lr(n,"/"==n.charAt(0)?dr:pr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",lr(n,gr)),t.join("")},er.prototype.resolve=function(t){var e=new er(this),n=!!t.c;n?nr(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)rr(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(vt(i,"./")||vt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?ir(e,Ir(t.b)):n=!!t.h,n&&(e.h=t.h),e};var fr=/[#\/\?@]/g,pr=/[#\?:]/g,dr=/[#\?]/g,vr=/[#\?@]/g,gr=/#/g;function yr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function mr(t){t.a||(t.a=new Qn,t.b=0,t.c&&Zn(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function _r(t){var e=Gn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new yr(null,void 0);t=zn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Er(n,i,o):n.add(i,o)}return n}function br(t,e){mr(t),e=Tr(t,e),Xn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Xn(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Yn(t)))}function wr(t,e){return mr(t),e=Tr(t,e),Xn(t.a.b,e)}function Er(t,e,n){br(t,e),0<n.length&&(t.c=null,t.a.set(Tr(t,e),ot(n)),t.b+=n.length)}function Ir(t){var e=new yr;return e.c=t.c,t.a&&(e.a=new Qn(t.a),e.b=t.b),e}function Tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Sr(t,e){e&&!t.f&&(mr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(br(this,e),Er(this,n,t))}),t)),t.f=e}function Cr(t){var e=[];return Ar(new kr,t,e),e.join("")}function kr(){}function Ar(t,e,n){if(null==e)n.push("null");else{if("object"==(0,i.Z)(e)){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var o="",a=0;a<e;a++)n.push(o),Ar(t,r[a],n),o=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),o="",e)Object.prototype.hasOwnProperty.call(e,r)&&(a=e[r],"function"!=typeof a&&(n.push(o),Rr(r,n),n.push(":"),Ar(t,a,n),o=","));return void n.push("}")}e=e.valueOf()}switch((0,i.Z)(e)){case"string":Rr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+(0,i.Z)(e))}}}t=yr.prototype,t.add=function(t,e){mr(this),this.c=null,t=Tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){mr(this),this.a.forEach((function(n,r){Q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){mr(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){mr(this);var e=[];if("string"===typeof t)wr(this,t)&&(e=it(e,this.a.get(Tr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=it(e,t[n])}return e},t.set=function(t,e){return mr(this),this.c=null,t=Tr(this,t),wr(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t?(t=this.X(t),0<t.length?String(t[0]):e):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var xr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Nr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Rr(t,e){e.push('"',t.replace(Nr,(function(t){var e=xr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),xr[t]=e),e})),'"')}function Or(){var t=ni();return oe&&!!me&&11==me||/Edge\/\d+/.test(t)}function Pr(){return h.window&&h.window.location.href||self&&self.location&&self.location.href||""}function Dr(t,e){e=e||h.window;var n="about:blank";t&&(n=qt(Ht(t)||Gt)),e.location.href=n}function Lr(t,e){var n,r=[];for(n in t)n in e?(0,i.Z)(t[n])!=(0,i.Z)(e[n])?r.push(n):"object"==(0,i.Z)(t[n])&&null!=t[n]&&null!=e[n]?0<Lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Mr(){var t=ni();return t=Zr(t)!=Jr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!oe||!me||9<me)}function Fr(t){return t=(t||ni()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function jr(t){t=t||h.window;try{t.close()}catch(e){}}function Ur(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ni().toLowerCase(),r&&(e.target=r,vt(n,"crios/")&&(e.target="_blank")),Zr(ni())==Xr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ut?n:Ht("undefined"!=typeof n.href?n.href:String(n))||Gt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((_t("iPhone")&&!_t("iPod")&&!_t("iPad")||_t("iPad")||_t("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=ke(document,"A"),St(a,"HTMLAnchorElement"),e=e instanceof Ut?e:Wt(e),a.href=qt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Jt("",r,n,a),t=qt(e),a&&(se&&vt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+te(t)+'">',t=(r=Rt())?r.createHTML(t):t,t=new $t(t,null,Yt),r=a.document)&&(r.write(Qt(t)),r.close())):(a=Jt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}function qr(t){return new Le((function(e){function n(){Wn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}return n()}))}var Vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Br=/^[^@]+@[^@]+$/;function Kr(){var t=null;return new Le((function(e){"complete"==h.document.readyState?e():(t=function(){e()},Nn(window,"load",t))})).o((function(e){throw Rn(window,"load",t),e}))}function Hr(){return Wr(void 0)?Kr().then((function(){return new Le((function(t,e){var n=h.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ke(Error("Cordova must run in an Android or iOS file scheme."))}function Wr(t){return t=t||ni(),!("file:"!==si()&&"ionic:"!==si()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function zr(){var t=h.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Gr(){return"undefined"!==typeof h.WorkerGlobalScope&&"function"===typeof h.importScripts}function $r(){return r["default"].INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r["default"].INTERNAL.hasOwnProperty("node")?"Node":Gr()?"Worker":"Browser"}function Qr(){var t=$r();return"ReactNative"===t||"Node"===t}function Yr(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}var Xr="Firefox",Jr="Chrome";function Zr(t){var e=t.toLowerCase();return vt(e,"opera/")||vt(e,"opr/")||vt(e,"opios/")?"Opera":vt(e,"iemobile")?"IEMobile":vt(e,"msie")||vt(e,"trident/")?"IE":vt(e,"edge/")?"Edge":vt(e,"firefox/")?Xr:vt(e,"silk/")?"Silk":vt(e,"blackberry")?"Blackberry":vt(e,"webos")?"Webos":!vt(e,"safari/")||vt(e,"chrome/")||vt(e,"crios/")||vt(e,"android")?!vt(e,"chrome/")&&!vt(e,"crios/")||vt(e,"edge/")?vt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Jr:"Safari"}var ti={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ei(t,e){e=e||[];var n,r=[],i={};for(n in ti)i[ti[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=$r(),"Browser"===r?(i=ni(),r=Zr(i)):"Worker"===r&&(i=ni(),r=Zr(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function ni(){return h.navigator&&h.navigator.userAgent||""}function ri(t,e){t=t.split("."),e=e||h;for(var n=0;n<t.length&&"object"==(0,i.Z)(e)&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function ii(){try{var t=h.localStorage,e=fi();if(t)return t.setItem(e,"1"),t.removeItem(e),!Or()||!!h.indexedDB}catch(n){return Gr()&&!!h.indexedDB}return!1}function oi(){return(ai()||"chrome-extension:"===si()||Wr())&&!Qr()&&ii()&&!Gr()}function ai(){return"http:"===si()||"https:"===si()}function si(){return h.location&&h.location.protocol||null}function ui(t){return t=t||ni(),!Fr(t)&&Zr(t)!=Xr}function ci(t){return"undefined"===typeof t?null:Cr(t)}function li(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function hi(t){if(null!==t)return JSON.parse(t)}function fi(t){return t||Math.floor(1e9*Math.random()).toString()}function pi(t){return t=t||ni(),"Safari"!=Zr(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function di(){var t=h.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function vi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=ni(),e=$r(),this.b=Fr(t)||"ReactNative"===e}function gi(){var t=h.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function yi(){var t=h.document,e=null;return gi()||!t?Be():new Le((function(n){e=function(){gi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}function mi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function _i(){return!(!ri("fireauth.oauthhelper",h)&&!ri("fireauth.iframe",h))}function bi(){var t=h.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function wi(){var t=h.navigator;return t&&t.serviceWorker?Be().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Be(null)}vi.prototype.get=function(){var t=h.navigator;return!t||"boolean"!==typeof t.onLine||!ai()&&"chrome-extension:"!==si()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ei,Ii={};function Ti(t){Ii[t]||(Ii[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Si={};Object.defineProperty(Si,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Si,"abcd",{configurable:!0,enumerable:!0,value:2}),Ei=2==Si.abcd}catch(rd){Ei=!1}function Ci(t,e,n){Ei?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function ki(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ci(t,n,e[n])}function Ai(t){var e={};return ki(e,t),e}function xi(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Ni(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Ri(t){var e=t;if("object"==(0,i.Z)(t)&&null!=t)for(var n in e="length"in t?[]:{},t)Ci(e,n,Ri(t[n]));return e}function Oi(t){var e=t&&(t[Fi]?"phone":null);if(!(e&&t&&t[Mi]))throw new R("internal-error","Internal assert: invalid MultiFactorInfo object");Ci(this,"uid",t[Mi]),Ci(this,"displayName",t[Di]||null);var n=null;t[Li]&&(n=new Date(t[Li]).toUTCString()),Ci(this,"enrollmentTime",n),Ci(this,"factorId",e)}function Pi(t){try{var e=new ji(t)}catch(n){e=null}return e}Oi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Di="displayName",Li="enrolledAt",Mi="mfaEnrollmentId",Fi="phoneInfo";function ji(t){Oi.call(this,t),Ci(this,"phoneNumber",t[Fi])}function Ui(t){var e={},n=t[Ki],r=t[Wi],i=t[zi];if(t=Pi(t[Hi]),!i||i!=Vi&&i!=Bi&&!n||i==Bi&&!r||i==qi&&!t)throw Error("Invalid checkActionCode response!");i==Bi?(e[$i]=n||null,e[Yi]=n||null,e[Gi]=r):(e[$i]=r||null,e[Yi]=r||null,e[Gi]=n||null),e[Qi]=t||null,Ci(this,Ji,i),Ci(this,Xi,Ri(e))}x(ji,Oi),ji.prototype.w=function(){var t=ji.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var qi="REVERT_SECOND_FACTOR_ADDITION",Vi="EMAIL_SIGNIN",Bi="VERIFY_AND_CHANGE_EMAIL",Ki="email",Hi="mfaInfo",Wi="newEmail",zi="requestType",Gi="email",$i="fromEmail",Qi="multiFactorInfo",Yi="previousEmail",Xi="data",Ji="operation";function Zi(t){t=sr(t);var e=ar(t,to)||null,n=ar(t,eo)||null,r=ar(t,io)||null;if(r=r&&ao[r]||null,!e||!n||!r)throw new R("argument-error",to+", "+eo+"and "+io+" are required in a valid action code URL.");ki(this,{apiKey:e,operation:r,code:n,continueUrl:ar(t,no)||null,languageCode:ar(t,ro)||null,tenantId:ar(t,oo)||null})}var to="apiKey",eo="oobCode",no="continueUrl",ro="languageCode",io="mode",oo="tenantId",ao={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:qi,signIn:Vi,verifyAndChangeEmail:Bi,verifyEmail:"VERIFY_EMAIL"};function so(t){try{return new Zi(t)}catch(e){return null}}function uo(t){var e=t[po];if("undefined"===typeof e)throw new R("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new R("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[co];if(n&&"object"===(0,i.Z)(n)){e=n[yo];var r=n[vo];if(n=n[go],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new R("argument-error",vo+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new R("argument-error",go+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new R("argument-error",yo+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new R("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new R("argument-error",co+" property must be a non null object when specified.");if(this.f=null,(e=t[fo])&&"object"===(0,i.Z)(e)){if(e=e[mo],"string"===typeof e&&e.length)this.f=e;else if("undefined"!==typeof e)throw new R("argument-error",mo+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new R("argument-error",fo+" property must be a non null object when specified.");if(e=t[ho],"undefined"!==typeof e&&"boolean"!==typeof e)throw new R("argument-error",ho+" property must be a boolean when specified.");if(this.c=!!e,t=t[lo],"undefined"!==typeof t&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new R("argument-error",lo+" property must be a non empty string when specified.");this.i=t||null}var co="android",lo="dynamicLinkDomain",ho="handleCodeInApp",fo="iOS",po="url",vo="installApp",go="minimumVersion",yo="packageName",mo="bundleId";function _o(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}function bo(t){return J(t,(function(t){return t=t.toString(16),1<t.length?t:"0"+t})).join("")}var wo=null;function Eo(t){var e=[];return Io(t,(function(t){e.push(t)})),e}function Io(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=wo[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}To();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function To(){if(!wo){wo={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===wo[o]&&(wo[o]=i)}}}function So(t){var e=ko(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Co(t){try{return new So(t)}catch(e){return null}}function ko(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{var r=Eo(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=r[e++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(1023&u))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(y){}return null}So.prototype.T=function(){return this.f},So.prototype.l=function(){return this.c},So.prototype.toString=function(){return this.h};var Ao="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),xo=["client_id","response_type","scope","redirect_uri","state"],No={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:xo},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:xo},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:xo},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ao},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ro(t){for(var e in No)if(No[e].fa==t)return No[e];return null}function Oo(t){var e={};e["facebook.com"]=Fo,e["google.com"]=Uo,e["github.com"]=jo,e["twitter.com"]=qo;var n=t&&t[Do];try{if(n)return e[n]?new e[n](t):new Mo(t);if("undefined"!==typeof t[Po])return new Lo(t)}catch(r){}return null}var Po="idToken",Do="providerId";function Lo(t){var e=t[Do];if(!e&&t[Po]){var n=Co(t[Po]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ci(this,"providerId",e),Ci(this,"isNewUser",n)}function Mo(t){Lo.call(this,t),t=hi(t.rawUserInfo||"{}"),Ci(this,"profile",Ri(t||{}))}function Fo(t){if(Mo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function jo(t){if(Mo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ci(this,"username",this.profile&&this.profile.login||null)}function Uo(t){if(Mo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function qo(t){if(Mo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ci(this,"username",t.screenName||null)}function Vo(t){var e=sr(t),n=ar(e,"link"),r=ar(sr(n),"link");return e=ar(e,"deep_link_id"),ar(sr(e),"link")||e||r||n||t}function Bo(t,e){if(!t&&!e)throw new R("internal-error","Internal assert: no raw session string available");if(t&&e)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Ko:Ho}x(Mo,Lo),x(Fo,Mo),x(jo,Mo),x(Uo,Mo),x(qo,Mo);var Ko="enroll",Ho="signin";function Wo(){}function zo(t,e){return t.then((function(t){if(t[Us]){var n=Co(t[Us]);if(!n||e!=n.i)throw new R("user-mismatch");return t}throw new R("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==D+"user-not-found"?new R("user-mismatch"):t}))}function Go(t,e){if(!e)throw new R("internal-error","failed to construct a credential");this.a=e,Ci(this,"providerId",t),Ci(this,"signInMethod",t)}function $o(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Qo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Go(t.providerId,t.pendingToken)}catch(e){}return null}function Yo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ci(this,"idToken",e.idToken),e.accessToken&&Ci(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ci(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new R("internal-error","failed to construct a credential");Ci(this,"accessToken",e.oauthToken),Ci(this,"secret",e.oauthTokenSecret)}Ci(this,"providerId",t),Ci(this,"signInMethod",n)}function Xo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:_r(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Jo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Yo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Zo(t,e){this.Qc=e||[],ki(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Ro(t)||{}).Ja||null,this.pb=null}function ta(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');Zo.call(this,t,[])}function ea(t){Zo.call(this,t,xo),this.a=[]}function na(){ea.call(this,"facebook.com")}function ra(t){if(!t)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return b(t)&&(e=t.accessToken),(new na).credential({accessToken:e})}function ia(){ea.call(this,"github.com")}function oa(t){if(!t)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return b(t)&&(e=t.accessToken),(new ia).credential({accessToken:e})}function aa(){ea.call(this,"google.com"),this.Ca("profile")}function sa(t,e){var n=t;return b(t)&&(n=t.idToken,e=t.accessToken),(new aa).credential({idToken:n,accessToken:e})}function ua(){Zo.call(this,"twitter.com",Ao)}function ca(t,e){var n=t;if(b(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Yo("twitter.com",n,"twitter.com")}function la(t,e,n){this.a=t,this.f=e,Ci(this,"providerId","password"),Ci(this,"signInMethod",n===fa.EMAIL_LINK_SIGN_IN_METHOD?fa.EMAIL_LINK_SIGN_IN_METHOD:fa.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ha(t){return t&&t.email&&t.password?new la(t.email,t.password,t.signInMethod):null}function fa(){ki(this,{providerId:"password",isOAuthProvider:!1})}function pa(t,e){if(e=da(e),!e)throw new R("argument-error","Invalid email link!");return new la(t,e.code,fa.EMAIL_LINK_SIGN_IN_METHOD)}function da(t){return t=Vo(t),(t=so(t))&&t.operation===Vi?t:null}function va(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new R("internal-error");this.a=t,Ci(this,"providerId","phone"),this.fa="phone",Ci(this,"signInMethod","phone")}function ga(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return Q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new va(e)}return null}function ya(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function ma(t){try{this.a=t||r["default"].auth()}catch(e){throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ki(this,{providerId:"phone",isOAuthProvider:!1})}function _a(t,e){if(!t)throw new R("missing-verification-id");if(!e)throw new R("missing-verification-code");return new va({fb:t,eb:e})}function ba(t){if(t.temporaryProof&&t.phoneNumber)return new va({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return sa(o,n);case"facebook.com":return ra(n);case"github.com":return oa(n);case"twitter.com":return ca(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Go(e,a):new Yo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ea(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function wa(t){if(!t.isOAuthProvider)throw new R("invalid-oauth-provider")}function Ea(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new R("invalid-auth-event");if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}function Ia(t){return t=t||{},t.type?new Ea(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&O(t.error),t.postBody,t.tenantId):null}function Ta(){this.b=null,this.a=[]}Bo.prototype.Ha=function(){return this.a?Be(this.a):Be(this.b)},Bo.prototype.w=function(){return this.type==Ko?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Wo.prototype.ka=function(){},Wo.prototype.b=function(){},Wo.prototype.c=function(){},Wo.prototype.w=function(){},Go.prototype.ka=function(t){return vu(t,$o(this))},Go.prototype.b=function(t,e){var n=$o(this);return n.idToken=e,gu(t,n)},Go.prototype.c=function(t,e){return zo(yu(t,$o(this)),e)},Go.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Yo.prototype.ka=function(t){return vu(t,Xo(this))},Yo.prototype.b=function(t,e){var n=Xo(this);return n.idToken=e,gu(t,n)},Yo.prototype.c=function(t,e){var n=Xo(this);return zo(yu(t,n),e)},Yo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Zo.prototype.Ka=function(t){return this.Jb=Et(t),this},x(ta,Zo),x(ea,Zo),ea.prototype.Ca=function(t){return et(this.a,t)||this.a.push(t),this},ea.prototype.Rb=function(){return ot(this.a)},ea.prototype.credential=function(t,e){var n;if(n=b(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null},!n.idToken&&!n.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Yo(this.providerId,n,this.providerId)},x(na,ea),Ci(na,"PROVIDER_ID","facebook.com"),Ci(na,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),x(ia,ea),Ci(ia,"PROVIDER_ID","github.com"),Ci(ia,"GITHUB_SIGN_IN_METHOD","github.com"),x(aa,ea),Ci(aa,"PROVIDER_ID","google.com"),Ci(aa,"GOOGLE_SIGN_IN_METHOD","google.com"),x(ua,Zo),Ci(ua,"PROVIDER_ID","twitter.com"),Ci(ua,"TWITTER_SIGN_IN_METHOD","twitter.com"),la.prototype.ka=function(t){return this.signInMethod==fa.EMAIL_LINK_SIGN_IN_METHOD?Ju(t,Su,{email:this.a,oobCode:this.f}):Ju(t,Gu,{email:this.a,password:this.f})},la.prototype.b=function(t,e){return this.signInMethod==fa.EMAIL_LINK_SIGN_IN_METHOD?Ju(t,Cu,{idToken:e,email:this.a,oobCode:this.f}):Ju(t,Uu,{idToken:e,email:this.a,password:this.f})},la.prototype.c=function(t,e){return zo(this.ka(t),e)},la.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ki(fa,{PROVIDER_ID:"password"}),ki(fa,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ki(fa,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),va.prototype.ka=function(t){return t.gb(ya(this))},va.prototype.b=function(t,e){var n=ya(this);return n.idToken=e,Ju(t,Qu,n)},va.prototype.c=function(t,e){var n=ya(this);return n.operation="REAUTH",t=Ju(t,Yu,n),zo(t,e)},va.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},ma.prototype.gb=function(t,e){var n=this.a.a;return Be(e.verify()).then((function(r){if("string"!==typeof r)throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i,o=b(t)?t.session:null,a=b(t)?t.phoneNumber:t;return i=o&&o.type==Ko?o.Ha().then((function(t){return uu(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==Ho?o.Ha().then((function(e){return lu(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):su(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},ki(ma,{PROVIDER_ID:"phone"}),ki(ma,{PHONE_SIGN_IN_METHOD:"phone"}),Ea.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ea.prototype.T=function(){return this.h},Ea.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Sa,Ca=null;function ka(t){var e=Ca;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=ri("universalLinks.subscribe",h),"function"===typeof t&&t(null,e.b))}function Aa(t){var e="unauthorized-domain",n=void 0,r=sr(t);t=r.a,r=r.c,"chrome-extension"==r?n=Zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",R.call(this,e,n)}function xa(t,e,n){R.call(this,t,n),t=e||{},t.Kb&&Ci(this,"email",t.Kb),t.ea&&Ci(this,"phoneNumber",t.ea),t.credential&&Ci(this,"credential",t.credential),t.$b&&Ci(this,"tenantId",t.$b)}function Na(t){if(t.code){var e=t.code||"";0==e.indexOf(D)&&(e=e.substring(D.length));var n={credential:ba(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new R(e,t.message||void 0);return new xa(e,n,t.message)}return null}function Ra(){}function Oa(t){return t.c||(t.c=t.b())}function Pa(){}function Da(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function La(){}function Ma(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.qc,this),this.a.onerror=C(this.Tb,this),this.a.onprogress=C(this.rc,this),this.a.ontimeout=C(this.vc,this)}function Fa(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ja(t,e,n){this.reset(t,e,n,void 0,void 0)}x(Aa,R),x(xa,R),xa.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&Tt(t,e),t},xa.prototype.toJSON=function(){return this.w()},Ra.prototype.c=null,x(Pa,Ra),Pa.prototype.a=function(){var t=Da(this);return t?new ActiveXObject(t):new XMLHttpRequest},Pa.prototype.b=function(){var t={};return Da(this)&&(t[0]=!0,t[1]=!0),t},Sa=new Pa,x(La,Ra),La.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ma;throw Error("Unsupported browser")},La.prototype.b=function(){return{}},t=Ma.prototype,t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Fa(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Fa(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Fa(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ja.prototype.a=null;function Ua(t){this.f=t,this.b=this.c=this.a=null}function qa(t,e){this.name=t,this.value=e}ja.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||A(),delete this.a},qa.prototype.toString=function(){return this.name};var Va=new qa("SEVERE",1e3),Ba=new qa("WARNING",900),Ka=new qa("CONFIG",700),Ha=new qa("FINE",500);function Wa(t){return t.c?t.c:t.a?Wa(t.a):(V("Root logger has no level set."),null)}Ua.prototype.log=function(t,e,n){if(t.value>=Wa(this).value)for(_(e)&&(e=e()),t=new ja(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var za={},Ga=null;function $a(t){var e;if(Ga||(Ga=new Ua(""),za[""]=Ga,Ga.c=Ka),!(e=za[t])){e=new Ua(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=$a(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,za[t]=e}return e}function Qa(t,e){t&&t.log(Ha,e,void 0)}function Ya(t){this.f=t}function Xa(t){qn.call(this),this.u=t,this.h=void 0,this.readyState=Ja,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=$a("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}x(Ya,Ra),Ya.prototype.a=function(){return new Xa(this.f)},Ya.prototype.b=function(t){return function(){return t}}({}),x(Xa,qn);var Ja=0;function Za(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ts(t){t.readyState=4,t.g=null,t.c=null,t.m=null,es(t)}function es(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ns(t){qn.call(this),this.headers=new Qn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=rs,this.u=this.S=!1}t=Xa.prototype,t.open=function(t,e){if(this.readyState!=Ja)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,es(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ts(this)),this.readyState=Ja},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,es(this)),this.a&&(this.readyState=3,es(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof h.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,Za(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ts(this):es(this),3==this.readyState&&Za(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ts(this))},t.sc=function(t){this.a&&(this.response=t,ts(this))},t.Va=function(t){var e=this.i;e&&e.log(Ba,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ts(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Ba,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Ba,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),x(ns,qn);var rs="";ns.prototype.b=$a("goog.net.XhrIo");var is=/^https?$/i,os=["POST","PUT"];function as(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Sa.a(),t.C=t.D?Oa(t.D):Oa(Sa),t.a.onreadystatechange=C(t.Wb,t);try{Qa(t.b,ys(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return Qa(t.b,ys(t,"Error opening Xhr: "+a.message)),void cs(t,a)}e=r||"";var o=new Qn(t.headers);i&&$n(i,(function(t,e){o.set(e,t)})),i=tt(o.Y()),r=h.FormData&&e instanceof h.FormData,!et(os,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ps(t),0<t.g&&(t.u=ss(t.a),Qa(t.b,ys(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=C(t.Ma,t)):t.s=Hn(t.Ma,t.g,t)),Qa(t.b,ys(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){Qa(t.b,ys(t,"Send error: "+a.message)),cs(t,a)}}function ss(t){return oe&&ge(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function us(t){return"content-type"==t.toLowerCase()}function cs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ls(t),fs(t)}function ls(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function hs(t){if(t.c&&"undefined"!=typeof l)if(t.C[1]&&4==ds(t)&&2==vs(t))Qa(t.b,ys(t,"Local request error detected and ignored"));else if(t.i&&4==ds(t))Hn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==ds(t)){Qa(t.b,ys(t,"Request complete")),t.c=!1;try{var e,n=vs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Jn)[1]||null;if(!o&&h.self&&h.self.location){var a=h.self.location.protocol;o=a.substr(0,a.length-1)}i=!is.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<ds(t)?t.a.statusText:""}catch(u){Qa(t.b,"Can not get status: "+u.message),s=""}t.h=s+" ["+vs(t)+"]",ls(t)}}finally{fs(t)}}}function fs(t,e){if(t.a){ps(t);var n=t.a,r=t.C[0]?v:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Va,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ps(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(h.clearTimeout(t.s),t.s=null)}function ds(t){return t.a?t.a.readyState:0}function vs(t){try{return 2<ds(t)?t.a.status:-1}catch(e){return-1}}function gs(t){try{return t.a?t.a.responseText:""}catch(e){return Qa(t.b,"Can not get responseText: "+e.message),""}}function ys(t,e){return e+" ["+t.P+" "+t.l+" "+vs(t)+"]"}function ms(t){var e=Rs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function _s(t,e,n){t.a=!0,t.c=n,t.f=!e,Ts(t)}function bs(t){if(t.a){if(!t.v)throw new Ss(t);t.v=!1}}function ws(t,e){Es(t,null,e,void 0)}function Es(t,e,n,r){t.g.push([e,n,r]),t.a&&Ts(t)}function Is(t){return Z(t.g,(function(t){return _(t[1])}))}function Ts(t){if(t.h&&t.a&&Is(t)){var e=t.h,n=As[e];n&&(h.clearTimeout(n.a),delete As[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(j(e)||"function"===typeof h.Promise&&e instanceof h.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,Is(t)||(n=!0)}}t.c=e,r&&(s=C(t.m,t,!0),r=C(t.m,t,!1),e instanceof ms?(Es(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new ks(e),As[e.a]=e,t.h=e.a)}function Ss(){U.call(this)}function Cs(){U.call(this)}function ks(t){this.a=h.setTimeout(C(this.c,this),0),this.b=t}t=ns.prototype,t.Ma=function(){"undefined"!=typeof l&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Qa(this.b,ys(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Qa(this.b,ys(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),fs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),fs(this,!0)),ns.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?hs(this):this.Jc())},t.Jc=function(){hs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case rs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Va,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Qa(this.b,"Can not get response: "+e.message),null}},ms.prototype.cancel=function(t){if(this.a)this.c instanceof ms&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Cs(this),bs(this),_s(this,!1,t))}},ms.prototype.m=function(t,e){this.i=!1,_s(this,t,e)},ms.prototype.then=function(t,e,n){var r,i,o=new Le((function(t,e){r=t,i=e}));return Es(this,r,(function(t){t instanceof Cs?o.cancel():i(t)})),o.then(t,e,n)},ms.prototype.$goog_Thenable=!0,x(Ss,U),Ss.prototype.message="Deferred has already fired",Ss.prototype.name="AlreadyCalledError",x(Cs,U),Cs.prototype.message="Deferred was canceled",Cs.prototype.name="CanceledError",ks.prototype.c=function(){throw delete As[this.a],this.b};var As={};function xs(t){var e={},n=e.document||document,r=Pt(t).toString(),i=ke(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new ms(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){Os(i,!0);var t=new Ls(Ds,"Timeout reached for loading script "+r);bs(a),_s(a,!1,t)}),u),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Os(i,e.xd||!1,s),bs(a),_s(a,!0,null))},i.onerror=function(){Os(i,!0,s);var t=new Ls(Ps,"Error while loading script "+r);bs(a),_s(a,!1,t)},o=e.attributes||{},Tt(o,{type:"text/javascript",charset:"UTF-8"}),we(i,o),Xt(i,t),Ns(n).appendChild(i),a}function Ns(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Rs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Os(t,!0,this.Ma)}}function Os(t,e,n){null!=n&&h.clearTimeout(n),t.onload=v,t.onerror=v,t.onreadystatechange=v,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ps=0,Ds=1;function Ls(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),U.call(this,n),this.code=t}function Ms(t){this.f=t}function Fs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||qs,this.g=Et(t.secureTokenHeaders||Vs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Bs,this.a=Et(t.firebaseHeaders||Ks),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==$r(),n=h.XMLHttpRequest||n&&r["default"].INTERNAL.node&&r["default"].INTERNAL.node.XMLHttpRequest,!n&&!Gr())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Gr()?this.f=new Ya(self):Qr()?this.f=new Ms(n):this.f=new La,this.b=null}x(Ls,U),x(Ms,Ra),Ms.prototype.a=function(){return new this.f},Ms.prototype.b=function(){return{}};var js,Us="idToken",qs=new vi(3e4,6e4),Vs={"Content-Type":"application/x-www-form-urlencoded"},Bs=new vi(3e4,6e4),Ks={"Content-Type":"application/json"};function Hs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ws(t,e){e&&(t.l=zs("https://securetoken.googleapis.com/v1/token",e),t.h=zs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=zs("https://identitytoolkit.googleapis.com/v2/",e))}function zs(t,e){return t=sr(t),e=sr(e.url),t.f=t.a+t.f,nr(t,e.c),t.a=e.a,rr(t,e.g),t.toString()}function Gs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function $s(t,e,n,r,i,o,a){Mr()||Gr()?t=C(t.u,t):(js||(js=new Le((function(t,e){Xs(t,e)}))),t=C(t.s,t)),t(e,n,r,i,o,a)}Fs.prototype.T=function(){return this.b},Fs.prototype.u=function(t,e,n,r,i,o){if(Gr()&&("undefined"===typeof h.fetch||"undefined"===typeof h.Headers||"undefined"===typeof h.Request))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ns(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Vn(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(gs(this))||null}catch(y){t=null}e&&e(t)})),Bn(a,"ready",(function(){s&&clearTimeout(s),ln(this)})),Bn(a,"timeout",(function(){s&&clearTimeout(s),ln(this),e&&e(null)})),as(a,t,n,r,i)};var Qs=new Ct(Nt,"https://apis.google.com/js/client.js?onload=%{onload}"),Ys="__fcb"+Math.floor(1e6*Math.random()).toString();function Xs(t,e){if(((window.gapi||{}).client||{}).request)t();else{h[Ys]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Dt(Qs,{onload:Ys});ws(xs(n),(function(){e(Error("CORS_UNSUPPORTED"))}))}}function Js(t,e){return new Le((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?$s(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(tc(t)):t.access_token&&t.refresh_token?n(t):r(new R("internal-error")):r(new R("network-request-failed"))}),"POST",_r(e).toString(),t.g,t.m.get()):r(new R("internal-error"))}))}function Zs(t,e,n,r,i,o,a){var s=sr(e+n);or(s,"key",t.c),a&&or(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&or(s,c,i[c]);return new Le((function(e,n){$s(t,s.toString(),(function(t){t?t.error?n(tc(t,o||{})):e(t):n(new R("network-request-failed"))}),r,u?void 0:Cr(li(i)),t.a,t.v.get())}))}function tu(t){if(t=t.email,"string"!==typeof t||!Br.test(t))throw new R("invalid-email")}function eu(t){"email"in t&&tu(t)}function nu(t,e){return Ju(t,Eu,{identifier:e,continueUri:ai()?Pr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}function ru(t){return Ju(t,Du,{}).then((function(t){return t.authorizedDomains||[]}))}function iu(t){if(!t[Us]){if(t.mfaPendingCredential)throw new R("multi-factor-auth-required",null,Et(t));throw new R("internal-error")}}function ou(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new R("internal-error")}else{if(!t.sessionInfo)throw new R("missing-verification-id");if(!t.code)throw new R("missing-verification-code")}}Fs.prototype.s=function(t,e,n,r,i){var o=this;js.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Fs.prototype.Ab=function(){return Ju(this,qu,{})},Fs.prototype.Cb=function(t,e){return Ju(this,ju,{idToken:t,email:e})},Fs.prototype.Db=function(t,e){return Ju(this,Uu,{idToken:t,password:e})};var au={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function su(t,e){return Ju(t,Fu,e)}function uu(t,e){return Ju(t,Vu,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}function cu(t){if(!t.phoneVerificationInfo)throw new R("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new R("missing-verification-code")}function lu(t,e){return Ju(t,Bu,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}function hu(t,e,n){return Ju(t,Tu,{idToken:e,deleteProvider:n})}function fu(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new R("internal-error")}function pu(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new yr(t.postBody),wr(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function du(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Na(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Na(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Na(t)):t.errorMessage&&(e=Zu(t.errorMessage)),e)throw e;iu(t)}function vu(t,e){return e.returnIdpCredential=!0,Ju(t,Ku,e)}function gu(t,e){return e.returnIdpCredential=!0,Ju(t,Wu,e)}function yu(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ju(t,Hu,e)}function mu(t){if(!t.oobCode)throw new R("invalid-action-code")}t=Fs.prototype,t.Eb=function(t,e){var n={idToken:t},r=[];return bt(au,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ju(this,ju,n)},t.wb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},Tt(t,e),Ju(this,Pu,t)},t.xb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},Tt(t,e),Ju(this,Nu,t)},t.vb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},Tt(t,e),Ju(this,Ru,t)},t.Fb=function(t,e,n){return t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},Tt(t,n),Ju(this,Ou,t)},t.gb=function(t){return Ju(this,$u,t)},t.ob=function(t,e){return Ju(this,Mu,{oobCode:t,newPassword:e})},t.Sa=function(t){return Ju(this,bu,{oobCode:t})},t.kb=function(t){return Ju(this,_u,{oobCode:t})};var _u={endpoint:"setAccountInfo",A:mu,Z:"email",B:!0},bu={endpoint:"resetPassword",A:mu,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new R("internal-error")},B:!0},wu={endpoint:"signupNewUser",A:function(t){if(tu(t),!t.password)throw new R("weak-password")},G:iu,V:!0,B:!0},Eu={endpoint:"createAuthUri",B:!0},Iu={endpoint:"deleteAccount",O:["idToken"]},Tu={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new R("internal-error")}},Su={endpoint:"emailLinkSignin",O:["email","oobCode"],A:tu,G:iu,V:!0,B:!0},Cu={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:tu,G:iu,V:!0},ku={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:cu,G:iu,B:!0,Na:!0},Au={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:cu,G:iu,B:!0,Na:!0},xu={endpoint:"getAccountInfo"},Nu={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new R("internal-error");tu(t)},Z:"email",B:!0},Ru={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new R("internal-error")},Z:"email",B:!0},Ou={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new R("internal-error")},Z:"email",B:!0},Pu={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new R("internal-error");tu(t)},Z:"email",B:!0},Du={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Lu={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new R("internal-error")}},Mu={endpoint:"resetPassword",A:mu,Z:"email",B:!0},Fu={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},ju={endpoint:"setAccountInfo",O:["idToken"],A:eu,V:!0},Uu={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(eu(t),!t.password)throw new R("weak-password")},G:iu,V:!0},qu={endpoint:"signupNewUser",G:iu,V:!0,B:!0},Vu={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new R("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},Bu={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},Ku={endpoint:"verifyAssertion",A:fu,Za:pu,G:du,V:!0,B:!0},Hu={endpoint:"verifyAssertion",A:fu,Za:pu,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new R("user-not-found");if(t.errorMessage)throw Zu(t.errorMessage);iu(t)},V:!0,B:!0},Wu={endpoint:"verifyAssertion",A:function(t){if(fu(t),!t.idToken)throw new R("internal-error")},Za:pu,G:du,V:!0},zu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new R("invalid-custom-token")},G:iu,V:!0,B:!0},Gu={endpoint:"verifyPassword",A:function(t){if(tu(t),!t.password)throw new R("wrong-password")},G:iu,V:!0,B:!0},$u={endpoint:"verifyPhoneNumber",A:ou,G:iu,B:!0},Qu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new R("internal-error");ou(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Na(t);iu(t)}},Yu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ou,G:iu,B:!0},Xu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Us]^!!t.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function Ju(t,e,n){if(!Ni(n,e.O))return Ke(new R("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Be(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),Zs(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new R("internal-error");return r[e.Z]}))}function Zu(t){return tc({error:{errors:[{message:t}],code:400,message:t}})}function tc(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new R(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Tt(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new R(r[i],e);return!e&&t&&(e=ci(t)),new R("internal-error",e)}function ec(t){this.b=t,this.a=null,this.sb=nc(this)}function nc(t){return cc().then((function(){return new Le((function(e,n){ri("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),sc.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}function rc(t,e){return t.sb.then((function(){return new Le((function(n){t.a.send(e.type,e,n,ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}function ic(t,e){t.sb.then((function(){t.a.register("authEvent",e,ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}var oc=new Ct(Nt,"https://apis.google.com/js/api.js?onload=%{onload}"),ac=new vi(3e4,6e4),sc=new vi(5e3,15e3),uc=null;function cc(){return uc||(uc=new Le((function(t,e){function n(){di(),ri("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){di(),e(Error("Network Error"))},timeout:ac.get()})}if(ri("gapi.iframes.Iframe"))t();else if(ri("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();h[r]=function(){ri("gapi.load")?n():e(Error("Network Error"))},r=Dt(oc,{onload:r}),Be(xs(r)).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw uc=null,t})))}function lc(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?(t=sr(this.g.url),t=ur(t.c,t.a,t.g,"/emulator/auth/iframe")):t=ur("https",this.l,null,"/__/auth/iframe"),this.a=t,or(this.a,"apiKey",this.h),or(this.a,"appName",this.i),this.b=null,this.c=[]}function hc(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fc(t){try{return r["default"].app(t).auth().Ga()}catch(e){return[]}}function pc(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function dc(t){var e=Pr();return ru(t).then((function(t){t:{var n=sr(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=sr(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Aa(Pr())}))}function vc(t){return t.m||(t.m=Kr().then((function(){if(!t.u){var e=t.c,n=t.i,r=fc(t.b),i=new lc(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=ot(r||[]),t.u=i.toString()}t.v=new ec(t.u),mc(t)}))),t.m}function gc(t){return t.l||(t.C=t.c?ei(t.c,fc(t.b)):null,t.l=new Fs(t.g,F(t.i),t.C),t.f&&Ws(t.l,t.f)),t.l}function yc(t,e,n,r,i,o,a,s,u,c,l,h){return t=new hc(t,e,n,r,i,h),t.l=o,t.g=a,t.i=s,t.b=Et(u||null),t.f=c,t.zb(l).toString()}function mc(t){if(!t.v)throw Error("IfcHandler must be initialized!");ic(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ia(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return n={},n.status=r?"ACK":"ERROR",Be(n)}return n.status="ERROR",Be(n)}))}function _c(t){var e={type:"webStorageSupport"};return vc(t).then((function(){return rc(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))}function bc(t){if(this.a=t||r["default"].INTERNAL.reactNative&&r["default"].INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wc(t){this.b=t,this.a={},this.f=C(this.c,this)}lc.prototype.toString=function(){return this.f?or(this.a,"v",this.f):br(this.a.b,"v"),this.b?or(this.a,"eid",this.b):br(this.a.b,"eid"),this.c.length?or(this.a,"fw",this.c.join(",")):br(this.a.b,"fw"),this.a.toString()},hc.prototype.zb=function(t){return this.h=t,this},hc.prototype.toString=function(){if(this.v){var t=sr(this.v.url);t=ur(t.c,t.a,t.g,"/emulator/auth/handler")}else t=ur("https",this.u,null,"/__/auth/handler");if(or(t,"apiKey",this.s),or(t,"appName",this.c),or(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r["default"].app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,or(t,"providerId",this.a.providerId),n=this.a,e=li(n.Jb),e)e[i]=e[i].toString();i=n.Qc,e=Et(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),wt(e)||or(t,"customParameters",ci(e))}if("function"===typeof this.a.Rb&&(n=this.a.Rb(),n.length&&or(t,"scopes",n.join(","))),this.l?or(t,"redirectUrl",this.l):br(t.b,"redirectUrl"),this.g?or(t,"eventId",this.g):br(t.b,"eventId"),this.i?or(t,"v",this.i):br(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!ar(t,s)&&or(t,s,this.b[s]);return this.h?or(t,"tid",this.h):br(t.b,"tid"),this.f?or(t,"eid",this.f):br(t.b,"eid"),s=fc(this.c),s.length&&or(t,"fw",s.join(",")),t.toString()},t=pc.prototype,t.Pb=function(t,e,n){var r=new R("popup-closed-by-user"),i=new R("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){_c(o).then((function(n){n||(t&&jr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return qr(t)})).then((function(){if(!a)return Wn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=ni();return!ui(t)&&!pi(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Ke(new R("popup-blocked"));if(a&&!ui())return this.ma().o((function(e){jr(t),i(e)})),r(),Be();this.a||(this.a=dc(gc(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw jr(t),i(e),e}));return r(),e})).then((function(){if(wa(n),!a){var r=yc(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f);Dr(r,t)}})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=dc(gc(this)));var i=this;return this.a.then((function(){wa(e);var o=yc(i.s,i.g,i.b,t,e,Pr(),n,i.c,void 0,i.i,r,i.f);Dr(o)})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return vc(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new R("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){rt(this.h,(function(e){return e==t}))},t=bc.prototype,t.get=function(t){return Be(this.a.getItem(t)).then((function(t){return t&&hi(t)}))},t.set=function(t,e){return Be(this.a.setItem(t,ci(e)))},t.U=function(t){return Be(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Ec,Ic=[];function Tc(){var t=Gr()?self:null;if(Q(Ic,(function(n){n.b==t&&(e=n)})),!e){var e=new wc(t);Ic.push(e)}return e}function Sc(t,e,n){wt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Cc(t){this.a=t}function kc(t){this.c=t,this.b=!1,this.a=[]}function Ac(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Le((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return xc(t,c),e})).o((function(e){throw xc(t,c),e}))}function xc(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),rt(t.a,(function(t){return t==e}))}}function Nc(){if(!Lc())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=h.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Gr()&&self?(this.v=Tc(),Sc(this.v,"keyChanged",(function(e,n){return qc(t).then((function(e){return 0<e.length&&Q(t.a,(function(t){t(e)})),{keyProcessed:et(e,n.key)}}))})),Sc(this.v,"ping",(function(){return Be(["keyChanged"])}))):wi().then((function(e){(t.h=e)&&(t.g=new kc(new Cc(e)),Ac(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&et(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Rc(t){return new Le((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}function Oc(t){return new Le((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):Rc(t).then((function(){return Oc(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Pc(t){return t.i||(t.i=Oc(t)),t.i}function Dc(t,e){function n(i,o){Pc(t).then(e).then(i).o((function(e){if(!(3<++r))return Pc(t).then((function(e){return e.close(),t.i=void 0,n(i,o)})).o((function(t){o(t)}));o(e)}))}var r=0;return new Le(n)}function Lc(){try{return!!h.indexedDB}catch(rd){return!1}}function Mc(t){return t.objectStore("firebaseLocalStorage")}function Fc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function jc(t){return new Le((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Uc(t,e){return t.g&&t.h&&bi()===t.h?Ac(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Be()}function qc(t){return Pc(t).then((function(t){var e=Mc(Fc(t,!1));return e.getAll?jc(e.getAll()):new Le((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e["continue"]()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=Lr(t.c,n),t.c=n}return r}))}function Vc(t){function e(){t.f=setTimeout((function(){t.l=qc(t).then((function(e){0<e.length&&Q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Bc(t),e()}function Bc(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Kc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Be().then((function(){if(Lc()){var t=fi(),r="__sak"+t;return Ec||(Ec=new Nc),n=Ec,n.set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){Q(e.a,(function(e){e(t)}))})),t}))}function Hc(){this.a={},this.type="inMemory"}function Wc(){if(!Gc()){if("Node"==$r())throw new R("internal-error","The LocalStorage compatibility library was not found.");throw new R("web-storage-unsupported")}this.a=zc()||r["default"].INTERNAL.node.localStorage,this.type="localStorage"}function zc(){try{var t=h.localStorage,e=fi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Gc(){var t="Node"==$r();if(t=zc()||t&&r["default"].INTERNAL.node&&r["default"].INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function $c(){this.type="nullStorage"}function Qc(){if(!Xc()){if("Node"==$r())throw new R("internal-error","The SessionStorage compatibility library was not found.");throw new R("web-storage-unsupported")}this.a=Yc()||r["default"].INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yc(){try{var t=h.sessionStorage,e=fi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Xc(){var t="Node"==$r();if(t=Yc()||t&&r["default"].INTERNAL.node&&r["default"].INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function Jc(){var t={};t.Browser=el,t.Node=nl,t.ReactNative=rl,t.Worker=il,this.a=t[$r()]}wc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];Q(r,(function(e){i.push(Be().then((function(){return e(t.origin,t.data.data)})))})),ze(i).then((function(r){var i=[];Q(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),Q(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Cc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},kc.prototype.close=function(){for(;0<this.a.length;)xc(this,this.a[0]);this.b=!0},t=Nc.prototype,t.set=function(t,e){var n=this,r=!1;return Dc(this,(function(e){return e=Mc(Fc(e,!0)),jc(e.get(t))})).then((function(i){return Dc(n,(function(o){if(o=Mc(Fc(o,!0)),i)return i.value=e,jc(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,jc(o.add(a))}))})).then((function(){return n.c[t]=e,Uc(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Dc(this,(function(e){return jc(Mc(Fc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Dc(this,(function(r){return n=!0,e.b++,jc(Mc(Fc(r,!0))["delete"](t))})).then((function(){return delete e.c[t],Uc(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&Vc(this),this.a.push(t)},t.ia=function(t){rt(this.a,(function(e){return e==t})),0==this.a.length&&Bc(this)},t=Kc.prototype,t.get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){rt(this.a,(function(e){return e==t}))},t=Hc.prototype,t.get=function(t){return Be(this.a[t])},t.set=function(t,e){return this.a[t]=e,Be()},t.U=function(t){return delete this.a[t],Be()},t.ca=function(){},t.ia=function(){},t=Wc.prototype,t.get=function(t){var e=this;return Be().then((function(){var n=e.a.getItem(t);return hi(n)}))},t.set=function(t,e){var n=this;return Be().then((function(){var r=ci(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Be().then((function(){e.a.removeItem(t)}))},t.ca=function(t){h.window&&kn(h.window,"storage",t)},t.ia=function(t){h.window&&Rn(h.window,"storage",t)},t=$c.prototype,t.get=function(){return Be(null)},t.set=function(){return Be()},t.U=function(){return Be()},t.ca=function(){},t.ia=function(){},t=Qc.prototype,t.get=function(t){var e=this;return Be().then((function(){var n=e.a.getItem(t);return hi(n)}))},t.set=function(t,e){var n=this;return Be().then((function(){var r=ci(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Be().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Zc,tl,el={F:Wc,cb:Qc},nl={F:Wc,cb:Qc},rl={F:bc,cb:$c},il={F:Wc,cb:$c},ol={rd:"local",NONE:"none",td:"session"};function al(t){var e=new R("invalid-persistence-type"),n=new R("unsupported-persistence-type");t:{for(r in ol)if(ol[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch($r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Lc()&&"none"!==t)throw n;break;default:if(!ii()&&"none"!==t)throw n}}function sl(){var t=!(pi(ni())||!zr()),e=ui(),n=ii();this.m=t,this.h=e,this.l=n,this.a={},Zc||(Zc=new Jc),t=Zc;try{this.g=!Or()&&_i()||!h.indexedDB?new t.a.F:new Kc(Gr()?new Hc:new t.a.F)}catch(r){this.g=new Hc,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Hc}this.v=new Hc,this.f=C(this.Zb,this),this.b={}}function ul(){return tl||(tl=new sl),tl}function cl(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ll(t,e){return"firebase:"+t.name+(e?":"+e:"")}function hl(t,e,n){var r=ll(e,n),i=cl(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=hi(h.localStorage.getItem(r))}catch(s){}if(a&&!o)return h.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&h.localStorage.removeItem(r)}))}function fl(t,e,n){return n=ll(e,n),"local"==e.F&&(t.b[n]=null),cl(t,e.F).U(n)}function pl(t){dl(t),t.c=setInterval((function(){for(var e in t.a){var n=h.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new gn({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}function dl(t){t.c&&(clearInterval(t.c),t.c=null)}function vl(t){this.a=t,this.b=ul()}t=sl.prototype,t.get=function(t,e){return cl(this,t.F).get(ll(t,e))},t.set=function(t,e,n){var r=ll(t,n),i=this,o=cl(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ll(t,e),this.l&&(this.b[t]=h.localStorage.getItem(t)),wt(this.a)&&(cl(this,"local").ca(this.f),this.h||(Or()||!_i())&&h.indexedDB||!this.l||pl(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ll(t,e),this.a[t]&&(rt(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),wt(this.a)&&(cl(this,"local").ia(this.f),dl(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=h.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?cl(this,"local").ia(this.f):dl(this),this.m)if(n=h.localStorage.getItem(e),r=t.a.newValue,r!==n)null!==r?h.localStorage.setItem(e,r):h.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===h.localStorage.getItem(e)||(o.b[e]=h.localStorage.getItem(e),o.nb(e))},oe&&me&&10==me&&h.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else Q(t,C(this.nb,this))},t.nb=function(t){this.a[t]&&Q(this.a[t],(function(t){t()}))};var gl,yl={name:"authEvent",F:"local"};function ml(t){return t.b.get(yl,t.a).then((function(t){return Ia(t)}))}function _l(){this.a=ul()}function bl(){this.b=-1}function wl(t,e){this.b=El,this.f=h.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=h.Int32Array?new Int32Array(64):Array(64),void 0===gl&&(gl=h.Int32Array?new Int32Array(xl):xl),this.reset()}x(wl,bl);for(var El=64,Il=El-1,Tl=[],Sl=0;Sl<Il;Sl++)Tl[Sl]=0;var Cl=it(128,Tl);function kl(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|gl[e])|0,a=o+(a+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Al(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(kl(t),i=0);else{if(!m(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(kl(t),i=0)}}t.c=i,t.g+=n}wl.prototype.reset=function(){this.g=this.c=0,this.a=h.Int32Array?new Int32Array(this.h):ot(this.h)};var xl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Nl(){wl.call(this,8,Rl)}x(Nl,wl);var Rl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ol(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new _l,this.g=new vl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Pl(t){return new R("invalid-cordova-configuration",t)}function Dl(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Ll(t){var e=new Nl;Al(e,t),t=[];var n=8*e.g;56>e.c?Al(e,Cl,56-e.c):Al(e,Cl,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(kl(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return bo(t)}function Ml(t,e,n,r,i){var o=Dl(),a=new Ea(e,r,null,o,new R("no-auth-event"),null,i),s=ri("BuildInfo.packageName",h);if("string"!==typeof s)throw new R("invalid-cordova-configuration");var u=ri("BuildInfo.displayName",h),c={};if(ni().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!ni().toLowerCase().match(/android/))return Ke(new R("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Ll(o),c.sessionId=o;var l=yc(t.v,t.i,t.l,e,n,null,r,t.m,c,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(yl,a.w(),e)})).then((function(){var e=ri("cordova.plugins.browsertab.isAvailable",h);if("function"!==typeof e)throw new R("invalid-cordova-configuration");var n=null;e((function(e){if(e){if(n=ri("cordova.plugins.browsertab.openUrl",h),"function"!==typeof n)throw new R("invalid-cordova-configuration");n(l)}else{if(n=ri("cordova.InAppBrowser.open",h),"function"!==typeof n)throw new R("invalid-cordova-configuration");e=ni(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}function Fl(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function jl(t){return t.f||(t.f=t.ma().then((function(){return new Le((function(e){function n(r){return e(r),t.Ta(n),!1}t.Ea(n),ql(t)}))}))),t.f}function Ul(t){var e=null;return ml(t.g).then((function(n){return e=n,n=t.g,fl(n.b,yl,n.a)})).then((function(){return e}))}function ql(t){function e(e){r=!0,o&&o.cancel(),Ul(t).then((function(r){var o=n;if(r&&e&&e.url){var a=null;o=Vo(e.url),-1!=o.indexOf("/__/auth/callback")&&(a=sr(o),a=hi(ar(a,"firebaseError")||null),a=(a="object"===(0,i.Z)(a)?O(a):null)?new Ea(r.c,r.b,null,null,a,null,r.T()):new Ea(r.c,r.b,o,r.f,null,null,r.T())),o=a||n}Fl(t,o)}))}var n=new Ea("unknown",null,null,null,new R("no-auth-event")),r=!1,o=Wn(500).then((function(){return Ul(t).then((function(){r||Fl(t,n)}))})),a=h.handleOpenURL;h.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ri("BuildInfo.packageName",h).toLowerCase()+"://")&&e({url:t}),"function"===typeof a)try{a(t)}catch(n){console.error(n)}},Ca||(Ca=new Ta),ka(e)}function Vl(t){this.a=t,this.b=ul()}t=Ol.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=Hr().then((function(){if("function"!==typeof ri("universalLinks.subscribe",h))throw Pl("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof ri("BuildInfo.packageName",h))throw Pl("cordova-plugin-buildinfo is not installed");if("function"!==typeof ri("cordova.plugins.browsertab.openUrl",h))throw Pl("cordova-plugin-browsertab is not installed");if("function"!==typeof ri("cordova.InAppBrowser.open",h))throw Pl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new R("cordova-not-ready")}))},t.Pb=function(t,e){return e(new R("operation-not-supported-in-this-environment")),Be()},t.Nb=function(){return Ke(new R("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ke(new R("redirect-operation-pending"));var i=this,o=h.document,a=null,s=null,u=null,c=null;return this.c=Be().then((function(){return wa(e),jl(i)})).then((function(){return Ml(i,t,e,n,r)})).then((function(){return new Le((function(t,e){s=function(){var e=ri("cordova.plugins.browsertab.close",h);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),u=function(){a||(a=Wn(2e3).then((function(){e(new R("redirect-cancelled-by-user"))})))},c=function(){gi()&&u()},o.addEventListener("resume",u,!1),ni().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return Ul(i).then((function(){throw t}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},t.Ea=function(t){this.b.push(t),jl(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ea("unknown",null,null,null,new R("no-auth-event")),t(e))}))},t.Ta=function(t){rt(this.b,(function(e){return e==t}))};var Bl={name:"pendingRedirect",F:"session"};function Kl(t){return t.b.set(Bl,"pending",t.a)}function Hl(t){return fl(t.b,Bl,t.a)}function Wl(t){return t.b.get(Bl,t.a).then((function(t){return"pending"==t}))}function zl(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=C(this.s,this),this.b=new sh,this.C=new vh,this.g=new Vl(oh(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Gl(this.D,this.v,this.m,P,this.J)}function Gl(t,e,n,i,o){var a=r["default"].SDK_VERSION||null;return Wr()?new Ol(t,e,n,a,i,o):new pc(t,e,n,a,i,o)}function $l(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Ql(t){t.a.Yb()&&$l(t).o((function(e){var n=new Ea("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));eh(e)&&t.s(n)})),t.a.Ub()||uh(t.b)}function Yl(t,e){et(t.h,e)||t.h.push(e),t.f||Wl(t.g).then((function(e){e?Hl(t.g).then((function(){$l(t).o((function(e){var n=new Ea("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));eh(e)&&t.s(n)}))})):Ql(t)})).o((function(){Ql(t)}))}function Xl(t,e){rt(t.h,(function(t){return t==e}))}zl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Gl(this.D,this.v,this.m,null,this.J),this.i={}},zl.prototype.s=function(t){if(!t)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return uh(this.b),e};var Jl=new vi(2e3,1e4),Zl=new vi(3e4,6e4);function th(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function eh(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function nh(t,e,n,r,i){var o;return Kl(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(eh(e))throw new R("operation-not-supported-in-this-environment");return o=e,Hl(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new Le((function(){})):Hl(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function rh(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Jl.get())}zl.prototype.ra=function(){return this.b.ra()};var ih={};function oh(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function ah(t,e,n,r){var i=oh(e,n,r);return ih[i]||(ih[i]=new zl(t,e,n,r)),ih[i]}function sh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function uh(t){t.g||(t.g=!0,ph(t,!1,null,null))}function ch(t){t.g&&!t.i&&ph(t,!1,null,null)}function lh(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){ph(t,s,e,null)})).o((function(e){ph(t,s,null,e)}))}function hh(t,e){if(t.b=function(){return Ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function fh(t,e){if(t.b=function(){return Be(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function ph(t,e,n,r){e?r?hh(t,r):fh(t,n):fh(t,{user:null}),t.f=[],t.c=[]}function dh(t){var e=new R("timeout");t.a&&t.a.cancel(),t.a=Wn(Zl.get()).then((function(){t.b||(t.g=!0,ph(t,!0,null,e))}))}function vh(){}function gh(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}function yh(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function mh(t,e){this.a=e,Ci(this,"verificationId",t)}function _h(t,e,n,r){return new ma(t).gb(e,n).then((function(t){return new mh(t,r)}))}function bh(t){var e=ko(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ki(this,{token:t,expirationTime:mi(1e3*e.exp),authTime:mi(1e3*e.auth_time),issuedAtTime:mi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function wh(t,e,n){var r=e&&e[Ih];if(!r)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=Et(e),this.g=n,this.c=new Bo(null,r),this.b=[];var i=this;Q(e[Eh]||[],(function(t){(t=Pi(t))&&i.b.push(t)})),Ci(this,"auth",this.a),Ci(this,"session",this.c),Ci(this,"hints",this.b)}sh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},sh.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(ph(this,!0,null,t.a),Be()):e.Fa(n,r)?lh(this,t,e):Ke(new R("invalid-auth-event")):(ph(this,!1,null,null),Be())}else Ke(new R("invalid-auth-event"))},sh.prototype.ra=function(){var t=this;return new Le((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),dh(t))}))},vh.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Be()):e.Fa(n,r)?gh(t,e):Ke(new R("invalid-auth-event"))}else Ke(new R("invalid-auth-event"))},mh.prototype.confirm=function(t){return t=_a(this.verificationId,t),this.a(t)};var Eh="mfaInfo",Ih="mfaPendingCredential";function Th(t,e,n,r){R.call(this,"multi-factor-auth-required",r,e),this.b=new wh(t,e,n),Ci(this,"resolver",this.b)}function Sh(t,e,n){if(t&&b(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Th(e,t.serverResponse,n,t.message)}catch(r){}return null}function Ch(){}function kh(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),Tt(n,{phoneVerificationInfo:ya(t.a)}),Ju(e,ku,n)}))}function Ah(t,e,n){return n.Ha().then((function(n){return n={mfaPendingCredential:n},Tt(n,{phoneVerificationInfo:ya(t.a)}),Ju(e,Au,n)}))}function xh(t){Ci(this,"factorId",t.fa),this.a=t}function Nh(t){if(xh.call(this,t),this.a.fa!=ma.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Rh(t,e){for(var n in vn.call(this,t),e)this[n]=e[n]}function Oh(t,e){this.a=t,this.b=[],this.c=C(this.yc,this),kn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&Q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Mi]=t.uid),t.displayName&&(r[Di]=t.displayName),t.enrollmentTime&&(r[Li]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Fi]=t.phoneNumber);try{e=new ji(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Dh(this,n)}function Ph(t){var e=[];return Q(t.mfaInfo||[],(function(t){(t=Pi(t))&&e.push(t)})),e}function Dh(t,e){t.b=e,Ci(t,"enrolledFactors",e)}function Lh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Mh(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Fh(t,e){t.stop(),t.b=Wn(Mh(t,e)).then((function(){return yi()})).then((function(){return t.h()})).then((function(){Fh(t,!0)})).o((function(e){t.i(e)&&Fh(t,!1)}))}function jh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function Uh(t,e){"undefined"===typeof e&&(t.b?(e=t.b,e=e.a-e.g):e=0),t.c=Date.now()+1e3*e}function qh(t,e){t.b=Co(e[Us]||""),t.a=e.refreshToken,e=e.expiresIn,Uh(t,"undefined"!==typeof e?Number(e):void 0)}function Vh(t,e){t.b=e.b,t.a=e.a,t.c=e.c}function Bh(t,e){return Js(t.f,e).then((function(e){return t.b=Co(e.access_token),t.a=e.refresh_token,Uh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Kh(t,e){this.a=t||null,this.b=e||null,ki(this,{lastSignInTime:mi(e||null),creationTime:mi(t||null)})}function Hh(t){return new Kh(t.a,t.b)}function Wh(t,e,n,r,i,o){ki(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function zh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r["default"].SDK_VERSION?ei(r["default"].SDK_VERSION):null;this.a=new Fs(this.l,F(P),i),(this.u=t.emulatorConfig||null)&&Ws(this.a,this.u),this.h=new jh(this.a),nf(this,e[Us]),qh(this.h,e),Ci(this,"refreshToken",this.h.a),sf(this,n||{}),qn.call(this),this.P=!1,this.s&&oi()&&(this.b=ah(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Zh(this),this.ba=C(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){Gh(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Yh(o,t.f)},this.ja=null,this.S=new Oh(this,n),Ci(this,"multiFactor",this.S)}function Gh(t,e){t.u=e,Ws(t.a,e),t.b&&(e=t.b,t.b=ah(t.s,t.l,t.m,t.u),t.P&&(Xl(e,t),Yl(t.b,t)))}function $h(t,e){t.qa&&Rn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&kn(e,"languageCodeChanged",t.Pa)}function Qh(t,e){t.$&&Rn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&kn(e,"emulatorConfigChanged",t.Ba)}function Yh(t,e){t.aa=e,Gs(t.a,r["default"].SDK_VERSION?ei(r["default"].SDK_VERSION,t.aa):null)}function Xh(t,e){t.ja&&Rn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&kn(e,"frameworkChanged",t.Oa)}function Jh(t){try{return r["default"].app(t.m).auth()}catch(e){throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Zh(t){return new Lh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}function tf(t){t.J||t.D.b||(t.D.start(),Rn(t,"tokenChanged",t.ba),kn(t,"tokenChanged",t.ba))}function ef(t){Rn(t,"tokenChanged",t.ba),t.D.stop()}function nf(t,e){t.Aa=e,Ci(t,"_lat",e)}function rf(t,e){rt(t.W,(function(t){return t==e}))}function of(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return ze(e).then((function(){return t}))}function af(t){t.b&&!t.P&&(t.P=!0,Yl(t.b,t))}function sf(t,e){ki(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Kh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function uf(){}function cf(t){return Be().then((function(){if(t.J)throw new R("app-deleted")}))}function lf(t){return J(t.providerData,(function(t){return t.providerId}))}function hf(t,e){e&&(ff(t,e.providerId),t.providerData.push(e))}function ff(t,e){rt(t.providerData,(function(t){return t.providerId==e}))}function pf(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ci(t,e,n)}function df(t,e){t!=e&&(ki(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Ci(t,"metadata",Hh(e.metadata)):Ci(t,"metadata",new Kh),Q(e.providerData,(function(e){hf(t,e)})),Vh(t.h,e.h),Ci(t,"refreshToken",t.h.a),Dh(t.S,e.S.b))}function vf(t){return t.I().then((function(e){var n=t.isAnonymous;return yf(t,e).then((function(){return n||pf(t,"isAnonymous",!1),e}))}))}function gf(t,e){e[Us]&&t.Aa!=e[Us]&&(qh(t.h,e),t.dispatchEvent(new Rh("tokenChanged")),nf(t,e[Us]),pf(t,"refreshToken",t.h.a))}function yf(t,e){return Ju(t.a,xu,{idToken:e}).then(C(t.Kc,t))}function mf(t){return(t=t.providerUserInfo)&&t.length?J(t,(function(t){return new Wh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}function _f(t,e){return vf(t).then((function(){if(et(lf(t),e))return of(t).then((function(){throw new R("provider-already-linked")}))}))}function bf(t,e,n){var r=ba(e);return e=Oo(e),Ai({user:t,credential:r,additionalUserInfo:e,operationType:n})}function wf(t,e){return gf(t,e),t.reload().then((function(){return t}))}function Ef(t,e,n,i,o){if(!oi())return Ke(new R("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ke(t.i);var a=Ro(n.providerId),s=fi(t.uid+":::"),u=null;(!ui()||zr())&&t.s&&n.isOAuthProvider&&(u=yc(t.s,t.l,t.m,e,n,null,s,r["default"].SDK_VERSION||null,null,null,t.tenantId,t.u));var c=Ur(u,a&&a.va,a&&a.ua);return i=i().then((function(){if(Tf(t),!o)return t.I().then((function(){}))})).then((function(){return th(t.b,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Le((function(n,r){t.na(e,null,new R("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=rh(t.b,t,e,c,s)}))})).then((function(t){return c&&jr(c),t?Ai(t):null})).o((function(t){throw c&&jr(c),t})),Sf(t,i,o)}function If(t,e,n,r,i){if(!oi())return Ke(new R("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ke(t.i);var o=null,a=fi(t.uid+":::");return r=r().then((function(){if(Tf(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,of(t)})).then((function(e){return t.ha&&(e=t.ha,e=e.b.set(Rf,t.w(),e.a)),e})).then((function(){return nh(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Of(t.ha);throw o})).then((function(){if(o)throw o})),Sf(t,r,i)}function Tf(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new R("internal-error");throw new R("auth-domain-config-required")}}function Sf(t,e,n){var r=Cf(t,e,n);return t.N.push(r),r.oa((function(){nt(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Sh(e.w(),Jh(t),C(t.jc,t))),n||e}))}function Cf(t,e,n){return t.i&&!n?(e.cancel(),Ke(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Rh("userInvalidated")),t.i=e),e}))}function kf(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Us]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new zh(e,n,t);return t.providerData&&Q(t.providerData,(function(t){t&&hf(i,Ai(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Af(t,e,n,r){var i=new zh(t,e);return n&&(i.ha=n),r&&Yh(i,r),i.reload().then((function(){return i}))}function xf(t,e,n,r){var i=t.h,o={};return o[Us]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new zh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Yh(e,r),df(e,t),e}function Nf(t){this.a=t,this.b=ul()}wh.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=Et(e.f);return delete n[Eh],delete n[Ih],Tt(n,t),e.g(n)}))},x(Th,R),Ch.prototype.tb=function(t,e,n){return e.type==Ko?kh(this,t,e,n):Ah(this,t,e)},x(xh,Ch),x(Nh,xh),x(Rh,vn),t=Oh.prototype,t.yc=function(t){Dh(this,Ph(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new Bo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return gf(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ju(r,Xu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=X(e.b,(function(t){return t.uid!=n}));return Dh(e,r),gf(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:J(this.b,(function(t){return t.w()}))}}},Lh.prototype.start=function(){this.a=this.c,Fh(this,!0)},Lh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},jh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},jh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ke(new R("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?Bh(this,{grant_type:"refresh_token",refresh_token:this.a}):Be(null):Be({accessToken:this.b.toString(),refreshToken:this.a})},Kh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},x(zh,qn),zh.prototype.xa=function(t){this.za=t,Hs(this.a,t)},zh.prototype.la=function(){return this.za},zh.prototype.Ga=function(){return ot(this.aa)},zh.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Ci(zh.prototype,"providerId","firebase"),t=zh.prototype,t.reload=function(){var t=this;return Sf(this,cf(this).then((function(){return vf(t).then((function(){return of(t)})).then(uf)})))},t.oc=function(t){return this.I(t).then((function(t){return new bh(t)}))},t.I=function(t){var e=this;return Sf(this,cf(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new R("internal-error");return t.accessToken!=e.Aa&&(nf(e,t.accessToken),e.dispatchEvent(new Rh("tokenChanged"))),pf(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(t=t.users,!t||!t.length)throw new R("internal-error");t=t[0],sf(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=mf(t),n=0;n<e.length;n++)hf(this,e[n]);pf(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Rh("userReloaded",{hd:t}))},t.Lc=function(t){return Ti("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Sf(this,t.c(this.a,this.uid).then((function(t){return gf(e,t),n=bf(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Ti("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Sf(this,_f(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=bf(e,t,"link"),wf(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Sf(this,_f(this,"phone").then((function(){return _h(Jh(n),t,e,C(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Sf(this,Be().then((function(){return _h(Jh(n),t,e,C(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Sf(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return gf(e,t),e.reload()})))},t.ed=function(t){var e=this;return Sf(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return gf(e,t),e.reload()})))},t.Db=function(t){var e=this;return Sf(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return gf(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return cf(this);var e=this;return Sf(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return gf(e,t),pf(e,"displayName",t.displayName||null),pf(e,"photoURL",t.photoUrl||null),Q(e.providerData,(function(t){"password"===t.providerId&&(Ci(t,"displayName",e.displayName),Ci(t,"photoURL",e.photoURL))})),of(e)})).then(uf))},t.cd=function(t){var e=this;return Sf(this,vf(this).then((function(n){return et(lf(e),t)?hu(e.a,n,[t]).then((function(t){var n={};return Q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),Q(lf(e),(function(t){n[t]||ff(e,t)})),n[ma.PROVIDER_ID]||Ci(e,"phoneNumber",null),of(e)})):of(e).then((function(){throw new R("no-such-provider")}))})))},t.delete=function(){var t=this;return Sf(this,this.I().then((function(e){return Ju(t.a,Iu,{idToken:e})})).then((function(){t.dispatchEvent(new Rh("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");$h(t,null),Qh(t,null),Xh(t,null),t.N=[],t.J=!0,ef(t),Ci(t,"refreshToken",null),t.b&&Xl(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?C(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?C(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?C(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?C(this.Mb,this):null},t.Ec=function(t){var e=this;return Ef(this,"linkViaPopup",t,(function(){return _f(e,t.providerId).then((function(){return of(e)}))}),!1)},t.Nc=function(t){return Ef(this,"reauthViaPopup",t,(function(){return Be()}),!0)},t.Fc=function(t){var e=this;return If(this,"linkViaRedirect",t,(function(){return _f(e,t.providerId)}),!1)},t.Oc=function(t){return If(this,"reauthViaRedirect",t,(function(){return Be()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return gu(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=bf(i,t,"link"),wf(i,t)})).then((function(){return o})),Sf(this,n)},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Be().then((function(){return zo(yu(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=bf(i,t,"reauthenticate"),gf(i,t),i.i=null,i.reload()})).then((function(){return o}));return Sf(this,a,!0)},t.vb=function(t){var e=this,n=null;return Sf(this,this.I().then((function(e){return n=e,"undefined"===typeof t||wt(t)?{}:_o(new uo(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Sf(this,this.I().then((function(t){return r=t,"undefined"===typeof e||wt(e)?{}:_o(new uo(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return t=zo(Be(t),n.uid).then((function(t){return e=bf(n,t,"reauthenticate"),gf(n,t),n.i=null,n.reload()})).then((function(){return e})),Sf(this,t,!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Tt(t,this.metadata.w()),Q(this.providerData,(function(e){t.providerData.push(xi(e))})),Tt(t,this.S.w()),t};var Rf={name:"redirectUser",F:"session"};function Of(t){return fl(t.b,Rf,t.a)}function Pf(t,e){return t.b.get(Rf,t.a).then((function(t){return t&&e&&(t.authDomain=e),kf(t||{})}))}function Df(t){this.a=t,this.b=ul(),this.c=null,this.f=Mf(this),this.b.addListener(jf("local"),this.a,C(this.g,this))}function Lf(t,e){var n,r=[];for(n in ol)ol[n]!==e&&r.push(fl(t.b,jf(ol[n]),t.a));return r.push(fl(t.b,Ff,t.a)),We(r)}function Mf(t){var e=jf("local"),n=jf("session"),r=jf("none");return hl(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Ff,t.a).then((function(t){return t?jf(t):e}))}))}))})).then((function(e){return t.c=e,Lf(t,e.F)})).o((function(){t.c||(t.c=e)}))}Df.prototype.g=function(){var t=this,e=jf("local");Kf(this,(function(){return Be().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Lf(t,"local").then((function(){t.c=e}))}))}))};var Ff={name:"persistence",F:"session"};function jf(t){return{name:"authUser",F:t}}function Uf(t){return Kf(t,(function(){return t.b.set(Ff,t.c.F,t.a)}))}function qf(t,e){return Kf(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Vf(t){return Kf(t,(function(){return fl(t.b,t.c,t.a)}))}function Bf(t,e,n){return Kf(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),kf(t||{})}))}))}function Kf(t,e){return t.f=t.f.then(e,e),t.f}function Hf(t){if(this.l=!1,Ci(this,"settings",new yh),Ci(this,"app",t),!op(this).options||!op(this).options.apiKey)throw new R("invalid-api-key");t=r["default"].SDK_VERSION?ei(r["default"].SDK_VERSION):null,this.a=new Fs(op(this).options&&op(this).options.apiKey,F(P),t),this.P=[],this.s=[],this.N=[],this.Pa=r["default"].INTERNAL.createSubscribe(C(this.zc,this)),this.W=void 0,this.ib=r["default"].INTERNAL.createSubscribe(C(this.Ac,this)),tp(this,null),this.i=new Df(op(this).options.apiKey+":"+op(this).name),this.D=new Nf(op(this).options.apiKey+":"+op(this).name),this.$=lp(this,np(this)),this.h=lp(this,rp(this)),this.ba=!1,this.ja=C(this.Zc,this),this.Ba=C(this.da,this),this.qa=C(this.mc,this),this.za=C(this.wc,this),this.Aa=C(this.xc,this),this.b=null,Xf(this),this.INTERNAL={},this.INTERNAL["delete"]=C(this.delete,this),this.INTERNAL.logFramework=C(this.Gc,this),this.u=0,qn.call(this),Qf(this),this.J=[],this.R=null}function Wf(t){vn.call(this,"languageCodeChanged"),this.h=t}function zf(t){vn.call(this,"emulatorConfigChanged"),this.c=t}function Gf(t){vn.call(this,"frameworkChanged"),this.f=t}function $f(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),h.document&&!t&&Kr().then((function(){var t=h.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),h.document.body.appendChild(t)}))}function Qf(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=sr(this.R.url);t=Ai({protocol:t.c,host:t.a,port:t.g,options:Ai({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}function Yf(t){return t.Oa||Ke(new R("auth-domain-config-required"))}function Xf(t){var e=op(t).options.authDomain,n=op(t).options.apiKey;e&&oi()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=ah(e,n,op(t).name,t.R),Yl(t.b,t),ap(t)&&af(ap(t)),t.m){af(t.m);var r=t.m;r.xa(t.la()),$h(r,t),r=t.m,Yh(r,t.J),Xh(r,t),r=t.m,Gh(r,t.R),Qh(r,t),t.m=null}return t.b}})))}function Jf(t){if(!oi())return Ke(new R("operation-not-supported-in-this-environment"));var e=Yf(t).then((function(){return t.b.ra()})).then((function(t){return t?Ai(t):null}));return lp(t,e)}function Zf(t,e){var n={};return n.apiKey=op(t).options.apiKey,n.authDomain=op(t).options.authDomain,n.appName=op(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return Af(n,e,t.D,t.Ga())})).then((function(e){return ap(t)&&e.uid==ap(t).uid?(df(ap(t),e),t.da(e)):(tp(t,e),af(e),t.da(e))})).then((function(){up(t)}))}function tp(t,e){ap(t)&&(rf(ap(t),t.Ba),Rn(ap(t),"tokenChanged",t.qa),Rn(ap(t),"userDeleted",t.za),Rn(ap(t),"userInvalidated",t.Aa),ef(ap(t))),e&&(e.W.push(t.Ba),kn(e,"tokenChanged",t.qa),kn(e,"userDeleted",t.za),kn(e,"userInvalidated",t.Aa),0<t.u&&tf(e)),Ci(t,"currentUser",e),e&&(e.xa(t.la()),$h(e,t),Yh(e,t.J),Xh(e,t),Gh(e,t.R),Qh(e,t))}function ep(t){var e=Pf(t.D,op(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Of(t.D)}));return lp(t,e)}function np(t){var e=op(t).options.authDomain,n=ep(t).then((function(){return Bf(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return qf(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Vf(t.i)}))):null})).then((function(e){tp(t,e||null)}));return lp(t,n)}function rp(t){return t.$.then((function(){return Jf(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(jf("local"),e.a,t.ja)}}))}function ip(t,e){var n=null,r=null;return lp(t,e.then((function(e){return n=ba(e),r=Oo(e),Zf(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Sh(e.w(),t,C(t.kc,t))),n||e})).then((function(){return Ai({user:ap(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function op(t){return t.app}function ap(t){return t.currentUser}function sp(t){return ap(t)&&ap(t)._lat||null}function up(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](sp(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](sp(t))}}function cp(t,e){t.N.push(e),lp(t,t.h.then((function(){!t.l&&et(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(sp(t)))})))}function lp(t,e){return t.P.push(e),e.oa((function(){nt(t.P,e)})),e}function hp(){}function fp(){this.a={},this.b=1e12}Df.prototype.yb=function(t){var e=null,n=this;return al(t),Kf(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Lf(n,t)})).then((function(){if(n.c=jf(t),e)return n.b.set(n.c,e,n.a)})):Be()}))},x(Hf,qn),x(Wf,vn),x(zf,vn),x(Gf,vn),t=Hf.prototype,t.yb=function(t){return t=this.i.yb(t),lp(this,t)},t.xa=function(t){this.aa===t||this.l||(this.aa=t,Hs(this.a,this.aa),this.dispatchEvent(new Wf(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=h.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");e=!!e&&!!e.disableWarnings,$f(e),this.R={url:t,ec:e},this.settings.jb=!0,Ws(this.a,this.R),this.dispatchEvent(new zf(this.R))}},t.Gc=function(t){this.J.push(t),Gs(this.a,r["default"].SDK_VERSION?ei(r["default"].SDK_VERSION,this.J):null),this.dispatchEvent(new Gf(this.J))},t.Ga=function(){return ot(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:op(this).options.apiKey,authDomain:op(this).options.authDomain,appName:op(this).name,currentUser:ap(this)&&ap(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?C(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ip(i,vu(i.a,o))}))},t.Xc=function(t){if(!oi())return Ke(new R("operation-not-supported-in-this-environment"));var e=this,n=Ro(t.providerId),i=fi(),o=null;(!ui()||zr())&&op(this).options.authDomain&&t.isOAuthProvider&&(o=yc(op(this).options.authDomain,op(this).options.apiKey,op(this).name,"signInViaPopup",t,null,i,r["default"].SDK_VERSION||null,null,null,this.T(),this.R));var a=Ur(o,n&&n.va,n&&n.ua);return n=Yf(this).then((function(n){return th(n,a,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new Le((function(t,n){e.na("signInViaPopup",null,new R("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=rh(e.b,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&jr(a),t?Ai(t):null})).o((function(t){throw a&&jr(a),t})),lp(this,n)},t.Yc=function(t){if(!oi())return Ke(new R("operation-not-supported-in-this-environment"));var e=this,n=Yf(this).then((function(){return Uf(e.i)})).then((function(){return nh(e.b,"signInViaRedirect",t,void 0,e.T())}));return lp(this,n)},t.ra=function(){var t=this;return Jf(this).then((function(e){return t.b&&ch(t.b.b),e})).o((function(e){throw t.b&&ch(t.b.b),e}))},t.dd=function(t){if(!t)return Ke(new R("null-user"));if(this.S!=t.tenantId)return Ke(new R("tenant-id-mismatch"));var e=this,n={};n.apiKey=op(this).options.apiKey,n.authDomain=op(this).options.authDomain,n.appName=op(this).name;var r=xf(t,n,e.D,e.Ga());return lp(this,this.h.then((function(){if(op(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ap(e)&&t.uid==ap(e).uid?(df(ap(e),t),e.da(t)):(tp(e,r),af(r),e.da(r))})).then((function(){up(e)})))},t.Bb=function(){var t=this,e=this.h.then((function(){return t.b&&ch(t.b.b),ap(t)?(tp(t,null),Vf(t.i).then((function(){up(t)}))):Be()}));return lp(this,e)},t.Zc=function(){var t=this;return Bf(this.i,op(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ap(t)&&e){n=ap(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return df(ap(t),e),ap(t).I();(ap(t)||e)&&(tp(t,e),e&&(af(e),e.ha=t.D),t.b&&Yl(t.b,t),up(t))}}))},t.da=function(t){return qf(this.i,t)},t.mc=function(){up(this),this.da(ap(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return ip(e,Be(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ap(e))}))},t.Ac=function(t){var e=this;cp(this,(function(){t.next(ap(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(ap(r)):"function"===typeof t.next&&t.next(ap(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof t?t(ap(r)):"function"===typeof t.next&&t.next(ap(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this,n=this.h.then((function(){return ap(e)?ap(e).I(t).then((function(t){return{accessToken:t}})):null}));return lp(this,n)},t.Tc=function(t){var e=this;return this.h.then((function(){return ip(e,Ju(e.a,zu,{token:t}))})).then((function(t){var n=t.user;return pf(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return ip(n,Ju(n.a,Gu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return ip(n,Ju(n.a,wu,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return ip(e,t.ka(e.a))}))},t.Sc=function(t){return Ti("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=ap(t);if(e&&e.isAnonymous){var n=Ai({providerId:null,isNewUser:!1});return Ai({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ip(t,t.a.Ab()).then((function(e){var n=e.user;return pf(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ap(this)&&ap(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ap(this)&&tf(ap(this))},t.Pc=function(t){var e=this;Q(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ap(this)&&ef(ap(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),lp(this,this.h.then((function(){e.l||et(e.s,t)&&t(sp(e))})))},t.removeAuthTokenListener=function(t){rt(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i,t.b.removeListener(jf("local"),t.a,this.ja)),this.b&&(Xl(this.b,this),ch(this.b.b)),Promise.resolve()},t.hc=function(t){return lp(this,nu(this.a,t))},t.Bc=function(t){return!!da(t)},t.xb=function(t,e){var n=this;return lp(this,Be().then((function(){var t=new uo(e);if(!t.c)throw new R("argument-error",ho+" must be true when sending sign in link to email");return _o(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return lp(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return lp(this,this.a.Sa(t).then((function(t){return new Ui(t)})))},t.kb=function(t){return lp(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return lp(this,Be().then((function(){return"undefined"===typeof e||wt(e)?{}:_o(new uo(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return lp(this,_h(this,t,e,C(this.ab,this)))},t.Vc=function(t,e){var n=this;return lp(this,Be().then((function(){var r=e||Pr(),i=pa(t,r);if(r=da(r),!r)throw new R("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new R("tenant-id-mismatch");return n.ab(i)})))},hp.prototype.render=function(){},hp.prototype.reset=function(){},hp.prototype.getResponse=function(){},hp.prototype.execute=function(){};var pp=null;function dp(t,e){return(e=vp(e))&&t.a[e]||null}function vp(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function gp(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=be(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():kn(this.f,"click",this.i)}function yp(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function mp(){}function _p(){}fp.prototype.render=function(t,e){return this.a[this.b.toString()]=new gp(t,e),this.b++},fp.prototype.reset=function(t){var e=dp(this,t);t=vp(t),e&&t&&(e.delete(),delete this.a[t])},fp.prototype.getResponse=function(t){return(t=dp(this,t))?t.getResponse():null},fp.prototype.execute=function(t){(t=dp(this,t))&&t.execute()},gp.prototype.getResponse=function(){return yp(this),this.b},gp.prototype.execute=function(){yp(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=Yr();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},gp.prototype.delete=function(){yp(this),this.g=!0,clearTimeout(this.a),this.a=null,Rn(this.f,"click",this.i)},Ci(mp,"FACTOR_ID","phone"),_p.prototype.g=function(){return pp||(pp=new fp),Be(pp)},_p.prototype.c=function(){};var bp=null;function wp(){this.b=h.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ep=new Ct(Nt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ip=new vi(3e4,6e4);wp.prototype.g=function(t){var e=this;return new Le((function(n,r){var i=setTimeout((function(){r(new R("network-request-failed"))}),Ip.get());if(!h.grecaptcha||t!==e.f&&!e.b){h[e.a]=function(){if(h.grecaptcha){e.f=t;var o=h.grecaptcha.render;h.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(h.grecaptcha)}else clearTimeout(i),r(new R("internal-error"));delete h[e.a]};var o=Dt(Ep,{onload:e.a,hl:t||""});Be(xs(o)).o((function(){clearTimeout(i),r(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))}))}else clearTimeout(i),n(h.grecaptcha)}))},wp.prototype.c=function(){this.b--};var Tp=null;function Sp(t,e,n,r,i,o,a){if(Ci(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(bp||(bp=new _p),a=bp):(Tp||(Tp=new wp),a=Tp),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ap])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xp],!h.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!be(e)||!this.i&&be(e).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Fs(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var u=this.a[Cp];this.a[Cp]=function(t){if(Np(s,t),"function"===typeof u)u(t);else if("string"===typeof u){var e=ri(u,h);"function"===typeof e&&e(t)}};var c=this.a[kp];this.a[kp]=function(){if(Np(s,null),"function"===typeof c)c();else if("string"===typeof c){var t=ri(c,h);"function"===typeof t&&t()}}}var Cp="callback",kp="expired-callback",Ap="sitekey",xp="size";function Np(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Rp(t,e){rt(t.l,(function(t){return t==e}))}function Op(t,e){return t.h.push(e),e.oa((function(){nt(t.h,e)})),e}function Pp(t){if(t.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}function Dp(t,e,n){var i=!1;try{this.b=n||r["default"].app()}catch(s){throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new R("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r["default"].SDK_VERSION?ei(r["default"].SDK_VERSION,a):null,Sp.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,F(P),i)}function Lp(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Mp.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");n=Mp[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new R("argument-error",t+" failed: "+r)}t=Sp.prototype,t.Ia=function(){var t=this;return this.f?this.f:this.f=Op(this,Be().then((function(){if(ai()&&!Gr())return Kr();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Ju(t.s,Lu,{})})).then((function(e){t.a[Ap]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Pp(this);var t=this;return Op(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=be(e);e=Se("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Pp(this);var t=this;return Op(this,this.render().then((function(e){return new Le((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function e(r){r&&(Rp(t,e),n(r))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Pp(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Pp(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=be(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},x(Dp,Sp);var Mp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Fp(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function jp(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Up(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:b}}function qp(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function Vp(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Bp(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function Kp(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Hf)}}}function Hp(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r["default"].app.App)}}}function Wp(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function zp(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}}function Gp(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function $p(t,e){return b(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function Qp(t){return b(t)&&"string"===typeof t.uid}function Yp(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}}function Xp(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Jp(t,e){for(var n in e){var r=e[n].name;t[r]=ed(r,t[n],e[n].j)}}function Zp(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:k((function(t){return this[t]}),n),set:k((function(t,e,n,r){Lp(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function td(t,e,n,r){t[e]=ed(e,n,r)}function ed(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Lp(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=nd(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function nd(t){return t=t.split("."),t[t.length-1]}Jp(Hf.prototype,{kb:{name:"applyActionCode",j:[Fp("code")]},Sa:{name:"checkActionCode",j:[Fp("code")]},ob:{name:"confirmPasswordReset",j:[Fp("code"),Fp("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Fp("email"),Fp("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Fp("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Fp("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Xp(Up(),qp(),"nextOrObserver"),qp("opt_error",!0),qp("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Xp(Up(),qp(),"nextOrObserver"),qp("opt_error",!0),qp("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Fp("email"),Xp(Up("opt_actionCodeSettings",!0),Vp(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Fp("email"),Up("actionCodeSettings")]},yb:{name:"setPersistence",j:[Fp("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Wp()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Wp()]},Tc:{name:"signInWithCustomToken",j:[Fp("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Fp("email"),Fp("password")]},Vc:{name:"signInWithEmailLink",j:[Fp("email"),Fp("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Fp("phoneNumber"),Yp()]},Xc:{name:"signInWithPopup",j:[Gp()]},Yc:{name:"signInWithRedirect",j:[Gp()]},dd:{name:"updateCurrentUser",j:[Xp(function(t){return{name:"user",K:"an instance of Firebase User",optional:!!t,M:function(t){return!!(t&&t instanceof zh)}}}(),Vp(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Fp(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Fp("url"),Up("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Fp("code")]}}),Zp(Hf.prototype,{lc:{name:"languageCode",lb:Xp(Fp(),Vp(),"languageCode")},ti:{name:"tenantId",lb:Xp(Fp(),Vp(),"tenantId")}}),Hf.Persistence=ol,Hf.Persistence.LOCAL="local",Hf.Persistence.SESSION="session",Hf.Persistence.NONE="none",Jp(zh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[jp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[jp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Wp()]},rb:{name:"linkWithCredential",j:[Wp()]},Dc:{name:"linkWithPhoneNumber",j:[Fp("phoneNumber"),Yp()]},Ec:{name:"linkWithPopup",j:[Gp()]},Fc:{name:"linkWithRedirect",j:[Gp()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wp()]},ub:{name:"reauthenticateWithCredential",j:[Wp()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Fp("phoneNumber"),Yp()]},Nc:{name:"reauthenticateWithPopup",j:[Gp()]},Oc:{name:"reauthenticateWithRedirect",j:[Gp()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Xp(Up("opt_actionCodeSettings",!0),Vp(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Fp(null,!0)]},cd:{name:"unlink",j:[Fp("provider")]},Cb:{name:"updateEmail",j:[Fp("email")]},Db:{name:"updatePassword",j:[Fp("password")]},ed:{name:"updatePhoneNumber",j:[Wp("phone")]},Eb:{name:"updateProfile",j:[Up("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Fp("email"),Xp(Up("opt_actionCodeSettings",!0),Vp(null,!0),"opt_actionCodeSettings",!0)]}}),Jp(fp.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jp(hp.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jp(Le.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zp(yh.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:jp("appVerificationDisabledForTesting")}}),Jp(mh.prototype,{confirm:{name:"confirm",j:[Fp("verificationCode")]}}),td(Wo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[Jo,ha,ga,Qo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Xp(Fp(),Up(),"json")]),td(fa,"credential",(function(t,e){return new la(t,e)}),[Fp("email"),Fp("password")]),Jp(la.prototype,{w:{name:"toJSON",j:[Fp(null,!0)]}}),Jp(na.prototype,{Ca:{name:"addScope",j:[Fp("scope")]},Ka:{name:"setCustomParameters",j:[Up("customOAuthParameters")]}}),td(na,"credential",ra,[Xp(Fp(),Up(),"token")]),td(fa,"credentialWithLink",pa,[Fp("email"),Fp("emailLink")]),Jp(ia.prototype,{Ca:{name:"addScope",j:[Fp("scope")]},Ka:{name:"setCustomParameters",j:[Up("customOAuthParameters")]}}),td(ia,"credential",oa,[Xp(Fp(),Up(),"token")]),Jp(aa.prototype,{Ca:{name:"addScope",j:[Fp("scope")]},Ka:{name:"setCustomParameters",j:[Up("customOAuthParameters")]}}),td(aa,"credential",sa,[Xp(Fp(),Xp(Up(),Vp()),"idToken"),Xp(Fp(),Vp(),"accessToken",!0)]),Jp(ua.prototype,{Ka:{name:"setCustomParameters",j:[Up("customOAuthParameters")]}}),td(ua,"credential",ca,[Xp(Fp(),Up(),"token"),Fp("secret",!0)]),Jp(ea.prototype,{Ca:{name:"addScope",j:[Fp("scope")]},credential:{name:"credential",j:[Xp(Fp(),Xp(Up(),Vp()),"optionsOrIdToken"),Xp(Fp(),Vp(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Up("customOAuthParameters")]}}),Jp(Yo.prototype,{w:{name:"toJSON",j:[Fp(null,!0)]}}),Jp(Go.prototype,{w:{name:"toJSON",j:[Fp(null,!0)]}}),td(ma,"credential",_a,[Fp("verificationId"),Fp("verificationCode")]),Jp(ma.prototype,{gb:{name:"verifyPhoneNumber",j:[Xp(Fp(),function(t,e){return{name:t||"phoneInfoOptions",K:"valid phone info options",optional:!!e,M:function(t){return!!t&&(t.session&&t.phoneNumber?$p(t.session,Ko)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?$p(t.session,Ho)&&Qp(t.multiFactorHint):t.session&&t.multiFactorUid?$p(t.session,Ho)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}}}(),"phoneInfoOptions"),Yp()]}}),Jp(va.prototype,{w:{name:"toJSON",j:[Fp(null,!0)]}}),Jp(R.prototype,{toJSON:{name:"toJSON",j:[Fp(null,!0)]}}),Jp(xa.prototype,{toJSON:{name:"toJSON",j:[Fp(null,!0)]}}),Jp(Aa.prototype,{toJSON:{name:"toJSON",j:[Fp(null,!0)]}}),Jp(Th.prototype,{toJSON:{name:"toJSON",j:[Fp(null,!0)]}}),Jp(wh.prototype,{Rc:{name:"resolveSignIn",j:[zp()]}}),Jp(Oh.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[zp(),Fp("displayName",!0)]},bd:{name:"unenroll",j:[Xp({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Qp},Fp(),"multiFactorInfoIdentifier")]}}),Jp(Dp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),td(Zi,"parseLink",so,[Fp("link")]),td(mp,"assertion",(function(t){return new Nh(t)}),[Wp("phone")]),function(){if("undefined"===typeof r["default"]||!r["default"].INTERNAL||!r["default"].INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:qi,VERIFY_AND_CHANGE_EMAIL:Bi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Hf,AuthCredential:Wo,Error:R};td(t,"EmailAuthProvider",fa,[]),td(t,"FacebookAuthProvider",na,[]),td(t,"GithubAuthProvider",ia,[]),td(t,"GoogleAuthProvider",aa,[]),td(t,"TwitterAuthProvider",ua,[]),td(t,"OAuthProvider",ea,[Fp("providerId")]),td(t,"SAMLAuthProvider",ta,[Fp("providerId")]),td(t,"PhoneAuthProvider",ma,[Kp()]),td(t,"RecaptchaVerifier",Dp,[Xp(Fp(),Bp(),"recaptchaContainer"),Up("recaptchaParameters",!0),Hp()]),td(t,"ActionCodeURL",Zi,[]),td(t,"PhoneMultiFactorGenerator",mp,[]),r["default"].INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return t=t.getProvider("app").getImmediate(),new Hf(t)},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r["default"].INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return t=t.getProvider("auth").getImmediate(),{getUid:C(t.getUid,t),getToken:C(t.nc,t),addAuthTokenListener:C(t.cc,t),removeAuthTokenListener:C(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r["default"].registerVersion("@firebase/auth","0.16.8"),r["default"].INTERNAL.extendNamespace({User:zh})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(8200),n(3112),n(5505),n(7714),n(2801),n(1174),n(3161),n(4363),n(5994),n(9826),n(7941),n(1532),n(2262),n(4506),n(2479),n(189),n(4553),n(6699),n(2023),n(489),n(4765),n(4129),n(8264);var o=n(4270),a=n(9556),s=n(2864),u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},u(t,e)};function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function l(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var h,f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},p=p||{},d=f||self;function v(){}function g(t){var e=(0,i.Z)(t);return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function y(t){var e=(0,i.Z)(t);return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,_)&&t[_]||(t[_]=++b)}var _="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:E,I.apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function S(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function C(){this.s=this.s,this.o=this.o}var k=0,A={};C.prototype.s=!1,C.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=k)){var t=m(this);delete A[t]}},C.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},N=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function R(t){t:{for(var e=Qn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function O(t){return Array.prototype.concat.apply([],arguments)}function P(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function D(t){return/^[\s\xa0]*$/.test(t)}var L,M=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function F(t,e){return-1!=t.indexOf(e)}function j(t,e){return t<e?-1:t>e?1:0}t:{var U=d.navigator;if(U){var q=U.userAgent;if(q){L=q;break t}}L=""}function V(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function B(t){var e={};for(var n in t)e[n]=t[n];return e}var K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<K.length;o++)n=K[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function W(t){return W[" "](t),t}function z(t){var e=ot;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}W[" "]=v;var G,$=F(L,"Opera"),Q=F(L,"Trident")||F(L,"MSIE"),Y=F(L,"Edge"),X=Y||Q,J=F(L,"Gecko")&&!(F(L.toLowerCase(),"webkit")&&!F(L,"Edge"))&&!(F(L,"Trident")||F(L,"MSIE"))&&!F(L,"Edge"),Z=F(L.toLowerCase(),"webkit")&&!F(L,"Edge");function tt(){var t=d.document;return t?t.documentMode:void 0}t:{var et="",nt=function(){var t=L;return J?/rv:([^\);]+)(\)|;)/.exec(t):Y?/Edge\/([\d\.]+)/.exec(t):Q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Z?/WebKit\/(\S+)/.exec(t):$?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(nt&&(et=nt?nt[1]:""),Q){var rt=tt();if(null!=rt&&rt>parseFloat(et)){G=String(rt);break t}}G=et}var it,ot={};function at(){return z((function(){for(var t=0,e=M(String(G)).split("."),n=M("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=j(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||j(0==o[2].length,0==a[2].length)||j(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}if(d.document&&Q){var st=tt();it=st||(parseInt(G,10)||void 0)}else it=void 0;var ut=it,ct=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",v,e),d.removeEventListener("test",v,e)}catch(n){}return t}();function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ht(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(J){t:{try{W(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ft[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ht.Z.h.call(this)}}lt.prototype.h=function(){this.defaultPrevented=!0},S(ht,lt);var ft={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),dt=0;function vt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++dt,this.ca=this.fa=!1}function gt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function yt(t){this.src=t,this.g={},this.h=0}function mt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=x(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function _t(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}yt.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=_t(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new vt(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};var bt="closure_lm_"+(1e6*Math.random()|0),wt={};function Et(t,e,n,r,i){if(r&&r.once)return St(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Et(t,e[o],n,r,i);return null}return n=Ot(n),t&&t[pt]?t.N(e,n,y(r)?!!r.capture:!!r,i):It(t,e,n,!1,r,i)}function It(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=Nt(t);if(s||(t[bt]=s=new yt(t)),n=s.add(e,n,r,a,o),n.proxy)return n;if(r=Tt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ct||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(At(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Tt(){function t(n){return e.call(t.src,t.listener,n)}var e=xt;return t}function St(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)St(t,e[o],n,r,i);return null}return n=Ot(n),t&&t[pt]?t.O(e,n,y(r)?!!r.capture:!!r,i):It(t,e,n,!0,r,i)}function Ct(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ct(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=Ot(n),t&&t[pt]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=_t(o,n,r,i),-1<n&&(gt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Nt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_t(e,n,r,i)),(n=-1<t?e[t]:null)&&kt(n))}function kt(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[pt])mt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(At(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nt(e))?(mt(n,t),0==n.h&&(n.src=null,e[bt]=null)):gt(t)}}}function At(t){return t in wt?wt[t]:wt[t]="on"+t}function xt(t,e){if(t.ca)t=!0;else{e=new ht(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&kt(t),t=n.call(r,e)}return t}function Nt(t){return t=t[bt],t instanceof yt?t:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(t){return"function"===typeof t?t:(t[Rt]||(t[Rt]=function(e){return t.handleEvent(e)}),t[Rt])}function Pt(){C.call(this),this.i=new yt(this),this.P=this,this.I=null}function Dt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;e=new lt(r,t),H(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Lt(a,r,!0,e)&&i}if(a=e.g=t,i=Lt(a,r,!0,e)&&i,i=Lt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=Lt(a,r,!1,e)&&i}function Lt(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&mt(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}S(Pt,C),Pt.prototype[pt]=!0,Pt.prototype.removeEventListener=function(t,e,n,r){Ct(this,t,e,n,r)},Pt.prototype.M=function(){if(Pt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)gt(n[r]);delete e.g[t],e.h--}}this.I=null},Pt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Mt=d.JSON.stringify;function Ft(){var t=zt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var jt,Ut=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=qt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),qt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Vt}),(function(t){return t.reset()})),Vt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Bt(t){d.setTimeout((function(){throw t}),0)}function Kt(t,e){jt||Ht(),Wt||(jt(),Wt=!0),zt.add(t,e)}function Ht(){var t=d.Promise.resolve(void 0);jt=function(){t.then(Gt)}}var Wt=!1,zt=new Ut;function Gt(){for(var t;t=Ft();){try{t.h.call(t.g)}catch(n){Bt(n)}var e=qt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wt=!1}function $t(t,e){Pt.call(this),this.h=t||1,this.g=e||d,this.j=I(this.kb,this),this.l=Date.now()}function Qt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Yt(t,e,n){if("function"===typeof t)n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:d.setTimeout(t,e||0)}function Xt(t){t.g=Yt((function(){t.g=null,t.i&&(t.i=!1,Xt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}S($t,Pt),h=$t.prototype,h.da=!1,h.S=null,h.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dt(this,"tick"),this.da&&(Qt(this),this.start()))}},h.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},h.M=function(){$t.Z.M.call(this),Qt(this),delete this.g};var Jt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return c(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Xt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(C);function Zt(t){C.call(this),this.h=t,this.g={}}S(Zt,C);var te=[];function ee(t,e,n,r){Array.isArray(n)||(n&&(te[0]=n.toString()),n=te);for(var i=0;i<n.length;i++){var o=Et(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function ne(t){V(t.g,(function(t,e){this.g.hasOwnProperty(e)&&kt(t)}),t),t.g={}}function re(){this.g=!0}function ie(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}function oe(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}function ae(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+ue(t,n)+(r?" "+r:"")}))}function se(t,e){t.info((function(){return"TIMEOUT: "+e}))}function ue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Mt(n)}catch(s){return e}}Zt.prototype.M=function(){Zt.Z.M.call(this),ne(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},re.prototype.Aa=function(){this.g=!1},re.prototype.info=function(){};var ce={},le=null;function he(){return le=le||new Pt}function fe(t){lt.call(this,ce.Ma,t)}function pe(t){var e=he();Dt(e,new fe(e,t))}function de(t,e){lt.call(this,ce.STAT_EVENT,t),this.stat=e}function ve(t){var e=he();Dt(e,new de(e,t))}function ge(t,e){lt.call(this,ce.Na,t),this.size=e}function ye(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){t()}),e)}ce.Ma="serverreachability",S(fe,lt),ce.STAT_EVENT="statevent",S(de,lt),ce.Na="timingevent",S(ge,lt);var me={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_e={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function be(){}function we(t){return t.h||(t.h=t.i())}function Ee(){}be.prototype.h=null;var Ie,Te={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Se(){lt.call(this,"d")}function Ce(){lt.call(this,"c")}function ke(){}function Ae(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Zt(this),this.P=Ne,t=X?125:void 0,this.W=new $t(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}S(Se,lt),S(Ce,lt),S(ke,be),ke.prototype.g=function(){return new XMLHttpRequest},ke.prototype.i=function(){return{}},Ie=new ke;var Ne=45e3,Re={},Oe={};function Pe(t,e,n){t.K=1,t.v=on(Je(e)),t.s=n,t.U=!0,De(t,null)}function De(t,e){t.F=Date.now(),je(t),t.A=Je(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),bn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new xe,t.g=Cr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Jt(I(t.Ia,t,t.g),t.O)),ee(t.V,t.g,"readystatechange",t.gb),e=t.H?B(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),pe(1),ie(t.j,t.u,t.A,t.m,t.X,t.s)}function Le(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Me(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if(r=Fe(t,n),r==Oe){4==e&&(t.o=4,ve(14),i=!1),ae(t.j,t.m,null,"[Incomplete Response]");break}if(r==Re){t.o=4,ve(15),ae(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}ae(t.j,t.m,r,null),Ke(t,r)}Le(t)&&r!=Oe&&r!=Re&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ve(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mr(e),e.L=!0,ve(11))):(ae(t.j,t.m,n,"[Invalid Chunked Response]"),Be(t),Ve(t))}function Fe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Oe:(n=Number(e.substring(n,r)),isNaN(n)?Re:(r+=1,r+n>e.length?Oe:(e=e.substr(r,n),t.C=r+n,e)))}function je(t){t.Y=Date.now()+t.P,Ue(t,t.P)}function Ue(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ye(I(t.eb,t),e)}function qe(t){t.B&&(d.clearTimeout(t.B),t.B=null)}function Ve(t){0==t.l.G||t.I||wr(t.l,t)}function Be(t){qe(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Qt(t.W),ne(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ke(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||An(n.i,t)))if(n.I=t.N,!t.J&&An(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;br(n),ur(n)}yr(n),ve(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ye(I(n.ab,n),6e3));if(1>=kn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Ir(n,11)}else if((t.J||n.g==t)&&br(n),!D(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(F(l,"spdy")||F(l,"quic")||F(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(xn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,rn(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var p=t;if(r.oa=Sr(r,r.H?r.la:null,r.W),p.J){Nn(r.i,p);var d=p,v=r.K;v&&d.setTimeout(v),d.B&&(qe(d),je(d)),r.g=p}else gr(r);0<n.l.length&&hr(n)}else"stop"!=o[0]&&"close"!=o[0]||Ir(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Ir(n,7):sr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}pe(4)}catch(o){}}function He(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function We(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||"string"===typeof t)N(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(g(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=He(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ze(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ze)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ge(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];$e(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],$e(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function $e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}h=Ae.prototype,h.setTimeout=function(t){this.P=t},h.gb=function(t){t=t.target;var e=this.L;e&&3==er(t)?e.l():this.Ia(t)},h.Ia=function(t){try{if(t==this.g)t:{var e=er(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||X||this.g&&(this.h.h||this.g.ga()||nr(this.g)))){this.I||4!=e||7==n||pe(8==n||0>=r?3:2),qe(this);var i=this.g.ba();this.N=i;e:if(Le(this)){var o=nr(this.g);t="";var a=o.length,s=4==er(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Be(this),Ve(this);var u="";break e}this.h.i=new d.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,oe(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ve(12),Be(this),Ve(this);break t}ae(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ke(this,i)}this.U?(Me(this,e,u),X&&this.i&&3==e&&(ee(this.V,this.W,"tick",this.fb),this.W.start())):(ae(this.j,this.m,u,null),Ke(this,u)),4==e&&Be(this),this.i&&!this.I&&(4==e?wr(this.l,this):(this.i=!1,je(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ve(12)):(this.o=0,ve(13)),Be(this),Ve(this)}}}catch(e){}},h.fb=function(){if(this.g){var t=er(this.g),e=this.g.ga();this.C<e.length&&(qe(this),Me(this,t,e),this.i&&4!=t&&je(this))}},h.cancel=function(){this.I=!0,Be(this)},h.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(se(this.j,this.A),2!=this.K&&(pe(3),ve(17)),Be(this),this.o=2,Ve(this)):Ue(this,this.Y-t)},h=ze.prototype,h.R=function(){Ge(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},h.T=function(){return Ge(this),this.g.concat()},h.get=function(t,e){return $e(this.h,t)?this.h[t]:e},h.set=function(t,e){$e(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},h.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Qe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ye(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xe(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Xe){this.g=void 0!==e?e:t.g,Ze(this,t.j),this.s=t.s,tn(this,t.i),en(this,t.m),this.l=t.l,e=t.h;var n=new gn;n.i=e.i,e.g&&(n.g=new ze(e.g),n.h=e.h),nn(this,n),this.o=t.o}else t&&(n=String(t).match(Qe))?(this.g=!!e,Ze(this,n[1]||"",!0),this.s=un(n[2]||""),tn(this,n[3]||"",!0),en(this,n[4]),this.l=un(n[5]||"",!0),nn(this,n[6]||"",!0),this.o=un(n[7]||"")):(this.g=!!e,this.h=new gn(null,this.g))}function Je(t){return new Xe(t)}function Ze(t,e,n){t.j=n?un(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tn(t,e,n){t.i=n?un(e,!0):e}function en(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nn(t,e,n){e instanceof gn?(t.h=e,En(t.h,t.g)):(n||(e=cn(e,dn)),t.h=new gn(e,t.g))}function rn(t,e,n){t.h.set(e,n)}function on(t){return rn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function an(t){return t instanceof Xe?Je(t):new Xe(t,void 0)}function sn(t,e,n,r){var i=new Xe(null,void 0);return t&&Ze(i,t),e&&tn(i,e),n&&en(i,n),r&&(i.l=r),i}function un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ln),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ln(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Xe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cn(e,hn,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(cn(e,hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(cn(n,"/"==n.charAt(0)?pn:fn,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cn(n,vn)),t.join("")};var hn=/[#\/\?@]/g,fn=/[#\?:]/g,pn=/[#\?]/g,dn=/[#\?@]/g,vn=/#/g;function gn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yn(t){t.g||(t.g=new ze,t.h=0,t.i&&Ye(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function mn(t,e){yn(t),e=wn(t,e),$e(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,$e(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ge(t)))}function _n(t,e){return yn(t),e=wn(t,e),$e(t.g.h,e)}function bn(t,e,n){mn(t,e),0<n.length&&(t.i=null,t.g.set(wn(t,e),P(n)),t.h+=n.length)}function wn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function En(t,e){e&&!t.j&&(yn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(mn(this,e),bn(this,n,t))}),t)),t.j=e}h=gn.prototype,h.add=function(t,e){yn(this),this.i=null,t=wn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},h.forEach=function(t,e){yn(this),this.g.forEach((function(n,r){N(n,(function(n){t.call(e,n,r,this)}),this)}),this)},h.T=function(){yn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},h.R=function(t){yn(this);var e=[];if("string"===typeof t)_n(this,t)&&(e=O(e,this.g.get(wn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=O(e,t[n])}return e},h.set=function(t,e){return yn(this),this.i=null,t=wn(this,t),_n(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},h.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e},h.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var In=function(){function t(t,e){this.h=t,this.g=e}return t}();function Tn(t){this.l=t||Sn,d.PerformanceNavigationTiming?(t=d.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sn=10;function Cn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function kn(t){return t.h?1:t.g?t.g.size:0}function An(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function xn(t,e){t.g?t.g.add(e):t.h=e}function Nn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Rn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=l(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return P(t.i)}function On(){}function Pn(){this.g=new On}function Dn(t,e,n){var r=n||"";try{We(t,(function(t,n){var i=t;y(t)&&(i=Mt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ln(t,e){var n=new re;if(d.Image){var r=new Image;r.onload=T(Mn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=T(Mn,n,r,"TestLoadImage: error",!1,e),r.onabort=T(Mn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=T(Mn,n,r,"TestLoadImage: timeout",!1,e),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function Mn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Fn(t){this.l=t.$b||null,this.j=t.ib||!1}function jn(t,e){Pt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Un,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tn.prototype.cancel=function(){var t,e;if(this.i=Rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=l(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},On.prototype.stringify=function(t){return d.JSON.stringify(t,void 0)},On.prototype.parse=function(t){return d.JSON.parse(t,void 0)},S(Fn,be),Fn.prototype.g=function(){return new jn(this.l,this.j)},Fn.prototype.i=function(t){return function(){return t}}({}),S(jn,Pt);var Un=0;function qn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Vn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bn(t)}function Bn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}h=jn.prototype,h.open=function(t,e){if(this.readyState!=Un)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bn(this)},h.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||d).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},h.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vn(this)),this.readyState=Un},h.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},h.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vn(this):Bn(this),3==this.readyState&&qn(this)}},h.Ua=function(t){this.g&&(this.response=this.responseText=t,Vn(this))},h.Ta=function(t){this.g&&(this.response=t,Vn(this))},h.ha=function(){this.g&&Vn(this)},h.setRequestHeader=function(t,e){this.v.append(t,e)},h.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},h.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(jn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Kn=d.JSON.parse;function Hn(t){Pt.call(this),this.headers=new ze,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wn,this.K=this.L=!1}S(Hn,Pt);var Wn="",zn=/^https?$/i,Gn=["POST","PUT"];function $n(t){return Q&&at()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Qn(t){return"content-type"==t.toLowerCase()}function Yn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Xn(t),Zn(t)}function Xn(t){t.D||(t.D=!0,Dt(t,"complete"),Dt(t,"error"))}function Jn(t){if(t.h&&"undefined"!=typeof p&&(!t.C[1]||4!=er(t)||2!=t.ba()))if(t.v&&4==er(t))Yt(t.Fa,0,t);else if(Dt(t,"readystatechange"),4==er(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Qe)[1]||null;if(!o&&d.self&&d.self.location){var a=d.self.location.protocol;o=a.substr(0,a.length-1)}i=!zn.test(o?o.toLowerCase():"")}e=i}if(e)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var s=2<er(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",Xn(t)}}finally{Zn(t)}}}function Zn(t,e){if(t.g){tr(t);var n=t.g,r=t.C[0]?v:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function tr(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(d.clearTimeout(t.A),t.A=null)}function er(t){return t.g?t.g.readyState:0}function nr(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Wn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function rr(t){var e="";return V(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function ir(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=rr(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):rn(t,e,n))}function or(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ar(t){this.za=0,this.l=[],this.h=new re,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=or("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=or("baseRetryDelayMs",5e3,t),this.$a=or("retryDelaySeedMs",1e4,t),this.Ya=or("forwardChannelMaxRetries",2,t),this.ra=or("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Tn(t&&t.concurrentRequestLimit),this.Ca=new Pn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function sr(t){if(cr(t),3==t.G){var e=t.V++,n=Je(t.F);rn(n,"SID",t.J),rn(n,"RID",e),rn(n,"TYPE","terminate"),dr(t,n),e=new Ae(t,t.h,e,void 0),e.K=2,e.v=on(Je(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(e.v.toString(),"")),!n&&d.Image&&((new Image).src=e.v,n=!0),n||(e.g=Cr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),je(e)}Tr(t)}function ur(t){t.g&&(mr(t),t.g.cancel(),t.g=null)}function cr(t){ur(t),t.u&&(d.clearTimeout(t.u),t.u=null),br(t),t.i.cancel(),t.m&&("number"===typeof t.m&&d.clearTimeout(t.m),t.m=null)}function lr(t,e){t.l.push(new In(t.Za++,e)),3==t.G&&hr(t)}function hr(t){Cn(t.i)||t.m||(t.m=!0,Kt(t.Ha,t),t.C=0)}function fr(t,e){return!(kn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=ye(I(t.Ha,t,e),Er(t,t.C)),t.C++,!0))}function pr(t,e){var n;n=e?e.m:t.V++;var r=Je(t.F);rn(r,"SID",t.J),rn(r,"RID",n),rn(r,"AID",t.U),dr(t,r),t.o&&t.s&&ir(r,t.o,t.s),n=new Ae(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=vr(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),xn(t.i,n),Pe(n,r,e)}function dr(t,e){t.j&&We({},(function(t,n){rn(e,n,t)}))}function vr(t,e,n){n=Math.min(t.l.length,n);var r=t.j?I(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(c-=o,0>c)o=Math.max(0,i[u].h-100),s=!1;else try{Dn(l,a,"req"+c+"_")}catch(si){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function gr(t){t.g||t.u||(t.Y=1,Kt(t.Ga,t),t.A=0)}function yr(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=ye(I(t.Ga,t),Er(t,t.A)),t.A++,!0)}function mr(t){null!=t.B&&(d.clearTimeout(t.B),t.B=null)}function _r(t){t.g=new Ae(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Je(t.oa);rn(e,"RID","rpc"),rn(e,"SID",t.J),rn(e,"CI",t.N?"0":"1"),rn(e,"AID",t.U),dr(t,e),rn(e,"TYPE","xmlhttp"),t.o&&t.s&&ir(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=on(Je(e)),n.s=null,n.U=!0,De(n,t)}function br(t){null!=t.v&&(d.clearTimeout(t.v),t.v=null)}function wr(t,e){var n=null;if(t.g==e){br(t),mr(t),t.g=null;var r=2}else{if(!An(t.i,e))return;n=e.D,Nn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=he(),Dt(r,new ge(r,n,e,i)),hr(t)}else gr(t);else if(i=e.o,3==i||0==i&&0<t.I||!(1==r&&fr(t,e)||2==r&&yr(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ir(t,5);break;case 4:Ir(t,10);break;case 3:Ir(t,6);break;default:Ir(t,2)}}function Er(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ir(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=I(t.jb,t);n||(n=new Xe("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Ze(n,"https"),on(n)),Ln(n.toString(),r)}else ve(2);t.G=0,t.j&&t.j.va(e),Tr(t),cr(t)}function Tr(t){t.G=0,t.I=-1,t.j&&(0==Rn(t.i).length&&0==t.l.length||(t.i.i.length=0,P(t.l),t.l.length=0),t.j.ua())}function Sr(t,e,n){var r=an(n);if(""!=r.i)e&&tn(r,e+"."+r.i),en(r,r.m);else{var i=d.location;r=sn(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&V(t.aa,(function(t,e){rn(r,e,t)})),e=t.D,n=t.sa,e&&n&&rn(r,e,n),rn(r,"VER",t.ma),dr(t,r),r}function Cr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Hn(new Fn({ib:!0})):new Hn(t.qa),e.L=t.H,e}function kr(){}function Ar(){if(Q&&!(10<=Number(ut)))throw Error("Environmental error: no available transport.")}function xr(t,e){Pt.call(this),this.g=new ar(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!D(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D(e)&&(this.g.D=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Or(this)}function Nr(t){Se.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Rr(){Ce.call(this),this.status=1}function Or(t){this.g=t}h=Hn.prototype,h.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ie.g(),this.C=this.u?we(this.u):we(Ie),this.g.onreadystatechange=I(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Yn(this,o)}t=n||"";var i=new ze(this.headers);r&&We(r,(function(t,e){i.set(e,t)})),r=R(i.T()),n=d.FormData&&t instanceof d.FormData,!(0<=x(Gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tr(this),0<this.B&&((this.K=$n(this.g))?(this.g.timeout=this.B,this.g.ontimeout=I(this.pa,this)):this.A=Yt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Yn(this,o)}},h.pa=function(){"undefined"!=typeof p&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))},h.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),Zn(this))},h.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zn(this,!0)),Hn.Z.M.call(this)},h.Fa=function(){this.s||(this.F||this.v||this.l?Jn(this):this.cb())},h.cb=function(){Jn(this)},h.ba=function(){try{return 2<er(this)?this.g.status:-1}catch(t){return-1}},h.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},h.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Kn(e)}},h.Da=function(){return this.m},h.La=function(){return"string"===typeof this.j?this.j:String(this.j)},h=ar.prototype,h.ma=8,h.G=1,h.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},h.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ae(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=B(n),H(n,this.P)):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(o="__data__"in o.g&&(o=o.g.__data__,"string"===typeof o)?o.length:void 0,void 0===o)break;if(r+=o,4096<r){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=vr(this,e,r),i=Je(this.F),rn(i,"RID",t),rn(i,"CVER",22),this.D&&rn(i,"X-HTTP-Session-Id",this.D),dr(this,i),this.o&&n&&ir(i,this.o,n),xn(this.i,e),this.Ra&&rn(i,"TYPE","init"),this.ja?(rn(i,"$req",r),rn(i,"SID","null"),e.$=!0,Pe(e,i,null)):Pe(e,i,r),this.G=2}}else 3==this.G&&(t?pr(this,t):0==this.l.length||Cn(this.i)||pr(this))},h.Ga=function(){if(this.u=null,_r(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ye(I(this.bb,this),t)}},h.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ve(10),ur(this),_r(this))},h.ab=function(){null!=this.v&&(this.v=null,ur(this),yr(this),ve(19))},h.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ve(2)):(this.h.info("Failed to ping google.com"),ve(1))},h=kr.prototype,h.xa=function(){},h.wa=function(){},h.va=function(){},h.ua=function(){},h.Oa=function(){},Ar.prototype.g=function(t,e){return new xr(t,e)},S(xr,Pt),xr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Kt(I(t.hb,t,e))),ve(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Sr(t,null,t.W),hr(t)},xr.prototype.close=function(){sr(this.g)},xr.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,lr(this.g,e)}else this.v?(e={},e.__data__=Mt(t),lr(this.g,e)):lr(this.g,t)},xr.prototype.M=function(){this.g.j=null,delete this.j,sr(this.g),delete this.g,xr.Z.M.call(this)},S(Nr,Se),S(Rr,Ce),S(Or,kr),Or.prototype.xa=function(){Dt(this.g,"a")},Or.prototype.wa=function(t){Dt(this.g,new Nr(t))},Or.prototype.va=function(t){Dt(this.g,new Rr(t))},Or.prototype.ua=function(){Dt(this.g,"b")},Ar.prototype.createWebChannel=Ar.prototype.g,xr.prototype.send=xr.prototype.u,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,_e.COMPLETE="complete",Ee.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",Pt.prototype.listen=Pt.prototype.N,Hn.prototype.listenOnce=Hn.prototype.O,Hn.prototype.getLastError=Hn.prototype.La,Hn.prototype.getLastErrorCode=Hn.prototype.Da,Hn.prototype.getStatus=Hn.prototype.ba,Hn.prototype.getResponseJson=Hn.prototype.Qa,Hn.prototype.getResponseText=Hn.prototype.ga,Hn.prototype.send=Hn.prototype.ea;var Pr=function(){return new Ar},Dr=function(){return he()},Lr=me,Mr=_e,Fr=ce,jr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ur=Fn,qr=Ee,Vr=Hn,Br=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Br.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Kr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,o.__extends)(e,t),e}(Error),Wr=new s.Logger("@firebase/firestore");function zr(){return Wr.logLevel}function Gr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wr.logLevel<=s.LogLevel.DEBUG){var r=e.map(Yr);Wr.debug.apply(Wr,(0,o.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function $r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wr.logLevel<=s.LogLevel.ERROR){var r=e.map(Yr);Wr.error.apply(Wr,(0,o.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function Qr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wr.logLevel<=s.LogLevel.WARN){var r=e.map(Yr);Wr.warn.apply(Wr,(0,o.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function Yr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw $r(e),new Error(e)}function Jr(t,e){t||Xr()}function Zr(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ti(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ni(t,e){return t<e?-1:t>e?1:0}function ri(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ii(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Hr(Kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Hr(Kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Hr(Kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Hr(Kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ni(this.nanoseconds,t.nanoseconds):ni(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ai=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new oi(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ui(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ci(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Xr(),void 0===n?n=t.length-e:n>t.length-e&&Xr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(li),fi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return fi.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Hr(Kr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Hr(Kr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Hr(Kr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(li),di=function(){function t(t){this.fields=t,t.sort(pi.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ri(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),vi=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ni(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();vi.EMPTY_BYTE_STRING=new vi("");var gi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(Jr(!!t),"string"==typeof t){var e=0,n=gi.exec(t);if(Jr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mi(t.seconds),nanos:mi(t.nanos)}}function mi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function _i(t){return"string"==typeof t?vi.fromBase64String(t):vi.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wi(t){var e=t.mapValue.fields.__previous_value__;return bi(e)?wi(e):e}function Ei(t){var e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new oi(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t){return null==t}function Ti(t){return 0===t&&1/t==-1/0}function Si(t){return"number"==typeof t&&Number.isInteger(t)&&!Ti(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(hi.fromString(e))},t.fromName=function(e){return new t(hi.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===hi.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return hi.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new hi(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bi(t)?4:10:Xr()}function Ai(t,e){var n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ei(t).isEqual(Ei(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=yi(t.timestampValue),r=yi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return _i(t.bytesValue).isEqual(_i(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return mi(t.geoPointValue.latitude)===mi(e.geoPointValue.latitude)&&mi(t.geoPointValue.longitude)===mi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return mi(t.integerValue)===mi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=mi(t.doubleValue),r=mi(e.doubleValue);return n===r?Ti(n)===Ti(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ri(t.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(si(n)!==si(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ai(n[i],r[i])))return!1;return!0}(t,e);default:return Xr()}}function xi(t,e){return void 0!==(t.values||[]).find((function(t){return Ai(t,e)}))}function Ni(t,e){var n=ki(t),r=ki(e);if(n!==r)return ni(n,r);switch(n){case 0:return 0;case 1:return ni(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=mi(t.integerValue||t.doubleValue),r=mi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ri(t.timestampValue,e.timestampValue);case 4:return Ri(Ei(t),Ei(e));case 5:return ni(t.stringValue,e.stringValue);case 6:return function(t,e){var n=_i(t),r=_i(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ni(n[i],r[i]);if(0!==o)return o}return ni(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ni(mi(t.latitude),mi(e.latitude));return 0!==n?n:ni(mi(t.longitude),mi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ni(n[i],r[i]);if(o)return o}return ni(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ni(r[a],o[a]);if(0!==s)return s;var u=Ni(n[r[a]],i[o[a]]);if(0!==u)return u}return ni(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Xr()}}function Ri(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ni(t,e);var n=yi(t),r=yi(e),i=ni(n.seconds,r.seconds);return 0!==i?i:ni(n.nanos,r.nanos)}function Oi(t){return Pi(t)}function Pi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=yi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_i(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ci.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Pi(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Pi(t.fields[o])}return e+"}"}(t.mapValue):Xr();var e,n}function Di(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Li(t){return!!t&&"integerValue"in t}function Mi(t){return!!t&&"arrayValue"in t}function Fi(t){return!!t&&"nullValue"in t}function ji(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ui(t){return!!t&&"mapValue"in t}function qi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==(0,i.Z)(t.timestampValue))return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return ui(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=qi(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=qi(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ui(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=qi(e)},t.prototype.setAll=function(t){var e=this,n=pi.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=qi(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ui(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Ai(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ui(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ui(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(qi(this.value))},t}();function Bi(t){var e=[];return ui(t.fields,(function(t,n){var r=new pi([t]);if(Ui(n)){var i=Bi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new di(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ki=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ai.min(),Vi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Vi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Vi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Hi=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Hi(t,e,n,r,i,o,a)}function zi(t){var e=Zr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Oi(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Ii(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=oo(e.startAt)),e.endAt&&(n+="|ub:",n+=oo(e.endAt)),e.h=n}return e.h}function Gi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!so(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ai(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!co(t.startAt,e.startAt)&&co(t.endAt,e.endAt)}function $i(t){return Ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Qi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,o.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Yi(t,n,r):"array-contains"===n?new to(t,r):"in"===n?new eo(t,r):"not-in"===n?new no(t,r):"array-contains-any"===n?new ro(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Xi(t,n):new Ji(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Ni(e,this.value)):null!==e&&ki(this.value)===ki(e)&&this.m(Ni(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Yi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ci.fromName(r.referenceValue),i}return(0,o.__extends)(e,t),e.prototype.matches=function(t){var e=Ci.comparator(t.key,this.key);return this.m(e)},e}(Qi),Xi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Zi("in",n),r}return(0,o.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Qi),Ji=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Zi("not-in",n),r}return(0,o.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Qi);function Zi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ci.fromName(t.referenceValue)}))}var to=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,o.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Mi(e)&&xi(e.arrayValue,this.value)},e}(Qi),eo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,o.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&xi(this.value.arrayValue,e)},e}(Qi),no=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,o.__extends)(e,t),e.prototype.matches=function(t){if(xi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!xi(this.value.arrayValue,e)},e}(Qi),ro=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,o.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Mi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return xi(e.value.arrayValue,t)}))},e}(Qi),io=function(t,e){this.position=t,this.before=e};function oo(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Oi(t)})).join(",")}var ao=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function so(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function uo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Ci.comparator(Ci.fromName(a.referenceValue),n.key):Ni(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function co(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ai(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function ho(t,e,n,r,i,o,a,s){return new lo(t,e,n,r,i,o,a,s)}function fo(t){return new lo(t)}function po(t){return!Ii(t.limit)&&"F"===t.limitType}function vo(t){return!Ii(t.limit)&&"L"===t.limitType}function go(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function yo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function mo(t){return null!==t.collectionGroup}function _o(t){var e=Zr(t);if(null===e.p){e.p=[];var n=yo(e),r=go(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ao(n)),e.p.push(new ao(pi.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ao(pi.keyField(),u))}}}return e.p}function bo(t){var e=Zr(t);if(!e.T)if("F"===e.limitType)e.T=Wi(e.path,e.collectionGroup,_o(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=_o(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new ao(o.field,a))}var s=e.endAt?new io(e.endAt.position,!e.endAt.before):null,u=e.startAt?new io(e.startAt.position,!e.startAt.before):null;e.T=Wi(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function wo(t,e,n){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eo(t,e){return Gi(bo(t),bo(e))&&t.limitType===e.limitType}function Io(t){return zi(bo(t))+"|lt:"+t.limitType}function To(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Oi(e.value);var e})).join(", ")+"]"),Ii(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+oo(t.startAt)),t.endAt&&(e+=", endAt: "+oo(t.endAt)),"Target("+e+")"}(bo(t))+"; limitType="+t.limitType+")"}function So(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ci.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!uo(t.startAt,_o(t),e))&&(!t.endAt||!uo(t.endAt,_o(t),e))}(t,e)}function Co(t){return function(e,n){for(var r=!1,i=0,o=_o(t);i<o.length;i++){var a=o[i],s=ko(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ko(t,e,n){var r=t.field.isKeyField()?Ci.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ni(r,i):Xr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xr()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ti(e)?"-0":e}}function xo(t){return{integerValue:""+t}}function No(t,e){return Si(e)?xo(e):Ao(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro=function(){this._=void 0};function Oo(t,e,n){return t instanceof Lo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Mo?Fo(t,e):t instanceof jo?Uo(t,e):function(t,e){var n=Do(t,e),r=Vo(n)+Vo(t.A);return Li(n)&&Li(t.A)?xo(r):Ao(t.R,r)}(t,e)}function Po(t,e,n){return t instanceof Mo?Fo(t,e):t instanceof jo?Uo(t,e):n}function Do(t,e){return t instanceof qo?Li(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e}(Ro),Mo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,o.__extends)(e,t),e}(Ro);function Fo(t,e){for(var n=Bo(e),r=function(t){n.some((function(e){return Ai(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,o.__extends)(e,t),e}(Ro);function Uo(t,e){for(var n=Bo(e),r=function(t){n=n.filter((function(e){return!Ai(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var qo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,o.__extends)(e,t),e}(Ro);function Vo(t){return mi(t.integerValue||t.doubleValue)}function Bo(t){return Mi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko=function(t,e){this.field=t,this.transform=e},Ho=function(t,e){this.version=t,this.transformResults=e},Wo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function zo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Go=function(){};function $o(t,e,n){t instanceof Zo?function(t,e,n){var r=t.value.clone(),i=na(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ta?function(t,e,n){if(zo(t.precondition,e)){var r=na(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ea(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Qo(t,e,n){t instanceof Zo?function(t,e,n){if(zo(t.precondition,e)){var r=t.value.clone(),i=ra(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Jo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ta?function(t,e,n){if(zo(t.precondition,e)){var r=ra(t.fieldTransforms,n,e),i=e.data;i.setAll(ea(t)),i.setAll(r),e.convertToFoundDocument(Jo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){zo(t.precondition,e)&&e.convertToNoDocument(ai.min())}(t,e)}function Yo(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Do(o.transform,a||null);null!=s&&(null==n&&(n=Vi.empty()),n.set(o.field,s))}return n||null}function Xo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ri(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Mo&&e instanceof Mo||t instanceof jo&&e instanceof jo?ri(t.elements,e.elements,Ai):t instanceof qo&&e instanceof qo?Ai(t.A,e.A):t instanceof Lo&&e instanceof Lo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Jo(t){return t.isFoundDocument()?t.version:ai.min()}var Zo=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,o.__extends)(e,t),e}(Go),ta=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,o.__extends)(e,t),e}(Go);function ea(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function na(t,e,n){var r=new Map;Jr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Po(a,s,n[i]))}return r}function ra(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Oo(s,u,e))}return r}var ia,oa,aa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,o.__extends)(e,t),e}(Go),sa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,o.__extends)(e,t),e}(Go),ua=function(t){this.count=t};function ca(t){switch(t){case Kr.OK:return Xr();case Kr.CANCELLED:case Kr.UNKNOWN:case Kr.DEADLINE_EXCEEDED:case Kr.RESOURCE_EXHAUSTED:case Kr.INTERNAL:case Kr.UNAVAILABLE:case Kr.UNAUTHENTICATED:return!1;case Kr.INVALID_ARGUMENT:case Kr.NOT_FOUND:case Kr.ALREADY_EXISTS:case Kr.PERMISSION_DENIED:case Kr.FAILED_PRECONDITION:case Kr.ABORTED:case Kr.OUT_OF_RANGE:case Kr.UNIMPLEMENTED:case Kr.DATA_LOSS:return!0;default:return Xr()}}function la(t){if(void 0===t)return $r("GRPC error has no .code"),Kr.UNKNOWN;switch(t){case ia.OK:return Kr.OK;case ia.CANCELLED:return Kr.CANCELLED;case ia.UNKNOWN:return Kr.UNKNOWN;case ia.DEADLINE_EXCEEDED:return Kr.DEADLINE_EXCEEDED;case ia.RESOURCE_EXHAUSTED:return Kr.RESOURCE_EXHAUSTED;case ia.INTERNAL:return Kr.INTERNAL;case ia.UNAVAILABLE:return Kr.UNAVAILABLE;case ia.UNAUTHENTICATED:return Kr.UNAUTHENTICATED;case ia.INVALID_ARGUMENT:return Kr.INVALID_ARGUMENT;case ia.NOT_FOUND:return Kr.NOT_FOUND;case ia.ALREADY_EXISTS:return Kr.ALREADY_EXISTS;case ia.PERMISSION_DENIED:return Kr.PERMISSION_DENIED;case ia.FAILED_PRECONDITION:return Kr.FAILED_PRECONDITION;case ia.ABORTED:return Kr.ABORTED;case ia.OUT_OF_RANGE:return Kr.OUT_OF_RANGE;case ia.UNIMPLEMENTED:return Kr.UNIMPLEMENTED;case ia.DATA_LOSS:return Kr.DATA_LOSS;default:return Xr()}}(oa=ia||(ia={}))[oa.OK=0]="OK",oa[oa.CANCELLED=1]="CANCELLED",oa[oa.UNKNOWN=2]="UNKNOWN",oa[oa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oa[oa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oa[oa.NOT_FOUND=5]="NOT_FOUND",oa[oa.ALREADY_EXISTS=6]="ALREADY_EXISTS",oa[oa.PERMISSION_DENIED=7]="PERMISSION_DENIED",oa[oa.UNAUTHENTICATED=16]="UNAUTHENTICATED",oa[oa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oa[oa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oa[oa.ABORTED=10]="ABORTED",oa[oa.OUT_OF_RANGE=11]="OUT_OF_RANGE",oa[oa.UNIMPLEMENTED=12]="UNIMPLEMENTED",oa[oa.INTERNAL=13]="INTERNAL",oa[oa.UNAVAILABLE=14]="UNAVAILABLE",oa[oa.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ha=function(){function t(t,e){this.comparator=t,this.root=e||pa.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pa.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pa.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new fa(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new fa(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new fa(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new fa(this.root,t,this.comparator,!0)},t}(),fa=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),pa=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Xr();if(this.right.isRed())throw Xr();var t=this.left.check();if(t!==this.right.check())throw Xr();return t+(this.isRed()?0:1)},t}();pa.EMPTY=null,pa.RED=!0,pa.BLACK=!1,pa.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Xr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new pa(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var da=function(){function t(t){this.comparator=t,this.data=new ha(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new va(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new va(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),va=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ga=new ha(Ci.comparator);function ya(){return ga}var ma=new ha(Ci.comparator);function _a(){return ma}var ba=new ha(Ci.comparator);function wa(){return ba}var Ea=new da(Ci.comparator);function Ia(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ea,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ta=new da(ni);function Sa(){return Ta}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ai.min(),r,Sa(),ya(),Ia())},t}(),ka=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(vi.EMPTY_BYTE_STRING,n,Ia(),Ia(),Ia())},t}(),Aa=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},xa=function(t,e){this.targetId=t,this.V=e},Na=function(t,e,n,r){void 0===n&&(n=vi.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ra=function(){function t(){this.S=0,this.D=Da(),this.C=vi.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Ia(),e=Ia(),n=Ia();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Xr()}})),new ka(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Da()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Oa=function(){function t(t){this.W=t,this.G=new Map,this.H=ya(),this.J=Pa(),this.Y=new da(ni)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Xr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if($i(i))if(0===n){var o=new Ci(i.path);this.tt(e,o,Ki.newNoDocument(o,ai.min()))}else Jr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&$i(o.target)){var a=new Ci(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Ki.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ia();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Ca(t,n,this.Y,this.H,r);return this.H=ya(),this.J=Pa(),this.Y=new da(ni),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ra,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new da(ni),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Gr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ra),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Pa(){return new ha(Ci.comparator)}function Da(){return new ha(Ci.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var La={asc:"ASCENDING",desc:"DESCENDING"},Ma={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fa=function(t,e){this.databaseId=t,this.I=e};function ja(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ua(t,e){return t.I?e.toBase64():e.toUint8Array()}function qa(t,e){return ja(t,e.toTimestamp())}function Va(t){return Jr(!!t),ai.fromTimestamp(function(t){var e=yi(t);return new oi(e.seconds,e.nanos)}(t))}function Ba(t,e){return function(t){return new hi(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ka(t){var e=hi.fromString(t);return Jr(ps(e)),e}function Ha(t,e){return Ba(t.databaseId,e.path)}function Wa(t,e){var n=Ka(e);if(n.get(1)!==t.databaseId.projectId)throw new Hr(Kr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Hr(Kr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ci(Qa(n))}function za(t,e){return Ba(t.databaseId,e)}function Ga(t){var e=Ka(t);return 4===e.length?hi.emptyPath():Qa(e)}function $a(t){return new hi(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qa(t){return Jr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ya(t,e,n){return{name:Ha(t,e),fields:n.value.mapValue.fields}}function Xa(t,e,n){var r=Wa(t,e.name),i=Va(e.updateTime),o=new Vi({mapValue:{fields:e.fields}}),a=Ki.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ja(t,e){var n;if(e instanceof Zo)n={update:Ya(t,e.key,e.value)};else if(e instanceof aa)n={delete:Ha(t,e.key)};else if(e instanceof ta)n={update:Ya(t,e.key,e.data),updateMask:fs(e.fieldMask)};else{if(!(e instanceof sa))return Xr();n={verify:Ha(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Lo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Xr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:qa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xr()}(t,e.precondition)),n}function Za(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Wo.updateTime(Va(t.updateTime)):void 0!==t.exists?Wo.exists(t.exists):Wo.none()}(e.currentDocument):Wo.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Jr("REQUEST_TIME"===e.setToServerValue),n=new Lo;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Mo(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new jo(i)}else"increment"in e?n=new qo(t,e.increment):Xr();var o=pi.fromServerFormat(e.fieldPath);return new Ko(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Wa(t,e.update.name),o=new Vi({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new di(e.map((function(t){return pi.fromServerFormat(t)})))}(e.updateMask);return new ta(i,o,a,n,r)}return new Zo(i,o,n,r)}if(e.delete){var s=Wa(t,e.delete);return new aa(s,n)}if(e.verify){var u=Wa(t,e.verify);return new sa(u,n)}return Xr()}function ts(t,e){return{documents:[za(t,e.path)]}}function es(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=za(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=za(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(ji(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NAN"}};if(Fi(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ji(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NOT_NAN"}};if(Fi(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(t.field),op:ss(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:us(t.field),direction:as(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Ii(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=is(e.startAt)),e.endAt&&(n.structuredQuery.endAt=is(e.endAt)),n}function ns(t){var e=Ga(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Jr(1===r);var a=n.from[0];a.allDescendants?o=a.collectionId:e=e.child(a.collectionId)}var s=[];n.where&&(s=rs(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return function(t){return new ao(cs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return Ii(e="object"==(0,i.Z)(t)?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=os(n.startAt));var h=null;return n.endAt&&(h=os(n.endAt)),ho(e,o,u,s,c,"F",l,h)}function rs(t){return t?void 0!==t.unaryFilter?[hs(t)]:void 0!==t.fieldFilter?[ls(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return rs(t)})).reduce((function(t,e){return t.concat(e)})):Xr():[]}function is(t){return{before:t.before,values:t.position}}function os(t){var e=!!t.before,n=t.values||[];return new io(n,e)}function as(t){return La[t]}function ss(t){return Ma[t]}function us(t){return{fieldPath:t.canonicalString()}}function cs(t){return pi.fromServerFormat(t.fieldPath)}function ls(t){return Qi.create(cs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xr()}}(t.fieldFilter.op),t.fieldFilter.value)}function hs(t){switch(t.unaryFilter.op){case"IS_NAN":var e=cs(t.unaryFilter.field);return Qi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=cs(t.unaryFilter.field);return Qi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cs(t.unaryFilter.field);return Qi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cs(t.unaryFilter.field);return Qi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xr()}}function fs(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function ps(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=gs(e)),e=vs(t.get(n),e);return gs(e)}function vs(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function gs(t){return t+""}function ys(t){var e=t.length;if(Jr(e>=2),2===e)return Jr(""===t.charAt(0)&&""===t.charAt(1)),hi.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Xr(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Xr()}o=a+2}return new hi(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ms=function(t,e){this.seconds=t,this.nanoseconds=e},_s=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};_s.store="owner",_s.key="owner";var bs=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};bs.store="mutationQueues",bs.keyPath="userId";var ws=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ws.store="mutations",ws.keyPath="batchId",ws.userMutationsIndex="userMutationsIndex",ws.userMutationsKeyPath=["userId","batchId"];var Es=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ds(e)]},t.key=function(t,e,n){return[t,ds(e),n]},t}();Es.store="documentMutations",Es.PLACEHOLDER=new Es;var Is=function(t,e){this.path=t,this.readTime=e},Ts=function(t,e){this.path=t,this.version=e},Ss=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ss.store="remoteDocuments",Ss.readTimeIndex="readTimeIndex",Ss.readTimeIndexPath="readTime",Ss.collectionReadTimeIndex="collectionReadTimeIndex",Ss.collectionReadTimeIndexPath=["parentPath","readTime"];var Cs=function(t){this.byteSize=t};Cs.store="remoteDocumentGlobal",Cs.key="remoteDocumentGlobalKey";var ks=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ks.store="targets",ks.keyPath="targetId",ks.queryTargetsIndexName="queryTargetsIndex",ks.queryTargetsKeyPath=["canonicalId","targetId"];var As=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};As.store="targetDocuments",As.keyPath=["targetId","path"],As.documentTargetsIndex="documentTargetsIndex",As.documentTargetsKeyPath=["path","targetId"];var xs=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};xs.key="targetGlobalKey",xs.store="targetGlobal";var Ns=function(t,e){this.collectionId=t,this.parent=e};Ns.store="collectionParents",Ns.keyPath=["collectionId","parent"];var Rs=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Rs.store="clientMetadata",Rs.keyPath="clientId";var Os=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Os.store="bundles",Os.keyPath="bundleId";var Ps=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ps.store="namedQueries",Ps.keyPath="name";var Ds=(0,o.__spreadArray)((0,o.__spreadArray)([],(0,o.__spreadArray)((0,o.__spreadArray)([],(0,o.__spreadArray)((0,o.__spreadArray)([],(0,o.__spreadArray)((0,o.__spreadArray)([],[bs.store,ws.store,Es.store,Ss.store,ks.store,_s.store,xs.store,As.store]),[Rs.store])),[Cs.store])),[Ns.store])),[Os.store,Ps.store]),Ls="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ms=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Fs=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},js=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Xr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Us=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Fs,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Bs(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Gs(e.target.error);n.ft.reject(new Bs(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Bs(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Gr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Hs(e)},t}(),qs=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,a.getUA)())&&$r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Gr("SimpleDb","Removing database:",t),Ws(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,a.getUA)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",BASE_URL:"/"})||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Gr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Bs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Hr(Kr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Bs(t,n))},i.onupgradeneeded=function(t){Gr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Gr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l;return(0,o.__generator)(this,(function(h){switch(h.label){case 0:a="readonly"===e,s=0,u=function(){var e,i,u,l,h;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:++s,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=o.sent(),e=Us.open(c.db,t,a?"readonly":"readwrite",n),i=r(e).catch((function(t){return e.abort(t),js.reject(t)})).toPromise(),u={},i.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(o.sent(),i),u)];case 4:return l=o.sent(),h="FirebaseError"!==l.name&&s<3,Gr("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),c.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},c=this,h.label=1;case 1:return[5,u()];case 2:if("object"==(0,i.Z)(l=h.sent()))return[2,l.value];h.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Vs=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ws(this.Pt.delete())},t}(),Bs=function(t){function e(e,n){var r=this;return(r=t.call(this,Kr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,o.__extends)(e,t),e}(Hr);function Ks(t){return"IndexedDbTransactionError"===t.name}var Hs=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Gr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Gr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ws(n)},t.prototype.add=function(t){return Gr("SimpleDb","ADD",this.store.name,t,t),Ws(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ws(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Gr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Gr("SimpleDb","DELETE",this.store.name,t),Ws(this.store.delete(t))},t.prototype.count=function(){return Gr("SimpleDb","COUNT",this.store.name),Ws(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){Gr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new js((function(n,r){e.onerror=function(t){var e=Gs(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new js((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Vs(i),a=e(i.primaryKey,i.value,o);if(a instanceof js){var s=a.catch((function(t){return o.done(),js.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return js.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ws(t){return new js((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Gs(t.target.error);n(e)}}))}var zs=!1;function Gs(t){var e=qs._t((0,a.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Hr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zs||(zs=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $s=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,o.__extends)(e,t),e}(Ms);function Qs(t,e){var n=Zr(t);return qs.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&$o(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Qo(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Qo(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ai.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ia())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ri(this.mutations,t.mutations,(function(t,e){return Xo(t,e)}))&&ri(this.baseMutations,t.baseMutations,(function(t,e){return Xo(t,e)}))},t}(),Xs=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Jr(e.mutations.length===r.length);for(var i=wa(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Js=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ai.min()),void 0===o&&(o=ai.min()),void 0===a&&(a=vi.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Zs=function(t){this.Lt=t};function tu(t,e){if(e.document)return Xa(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ci.fromSegments(e.noDocument.path),r=ou(e.noDocument.readTime),i=Ki.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Ci.fromSegments(e.unknownDocument.path);return r=ou(e.unknownDocument.version),Ki.newUnknownDocument(o,r)}return Xr()}function eu(t,e,n){var r=nu(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ha(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ja(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Ss(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=iu(e.version);return a=e.hasCommittedMutations,new Ss(null,new Is(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=iu(e.version);return new Ss(new Ts(c,l),null,null,!0,r,i)}return Xr()}function nu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ru(t){var e=new oi(t[0],t[1]);return ai.fromTimestamp(e)}function iu(t){var e=t.toTimestamp();return new ms(e.seconds,e.nanoseconds)}function ou(t){var e=new oi(t.seconds,t.nanoseconds);return ai.fromTimestamp(e)}function au(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Za(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Za(t.Lt,e)})),s=oi.fromMillis(e.localWriteTimeMs);return new Ys(e.batchId,s,n,a)}function su(t){var e,n,r=ou(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ou(t.lastLimboFreeSnapshotVersion):ai.min();return void 0!==t.query.documents?(Jr(1===(n=t.query).documents.length),e=bo(fo(Ga(n.documents[0])))):e=function(t){return bo(ns(t))}(t.query),new Js(e,t.targetId,0,t.lastListenSequenceNumber,r,i,vi.fromBase64String(t.resumeToken))}function uu(t,e){var n,r=iu(e.snapshotVersion),i=iu(e.lastLimboFreeSnapshotVersion);n=$i(e.target)?ts(t.Lt,e.target):es(t.Lt,e.target);var o=e.resumeToken.toBase64();return new ks(e.targetId,zi(e.target),r,o,e.sequenceNumber,i,n)}function cu(t){var e=ns({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wo(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return hu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:ou(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return hu(t).put({bundleId:(n=e).id,createTime:iu(Va(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return fu(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:cu(e.bundledQuery),readTime:ou(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return fu(t).put(function(t){return{name:t.name,readTime:iu(Va(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function hu(t){return Qs(t,Os.store)}function fu(t){return Qs(t,Ps.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pu=function(){function t(){this.Bt=new du}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),js.resolve()},t.prototype.getCollectionParents=function(t,e){return js.resolve(this.Bt.getEntries(e))},t}(),du=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new da(hi.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new da(hi.comparator)).toArray()},t}(),vu=function(){function t(){this.qt=new du}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:ds(i)};return gu(t).put(o)}return js.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ii(e),""],!1,!0);return gu(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ys(o.parent))}return n}))},t}();function gu(t){return Qs(t,Ns.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mu=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t,e,n){var r=t.store(ws.store),i=t.store(Es.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Jr(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Es.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return js.waitFor(o).next((function(){return c}))}function bu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xr();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mu.DEFAULT_COLLECTION_PERCENTILE=10,mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mu.DEFAULT=new mu(41943040,mu.DEFAULT_COLLECTION_PERCENTILE,mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mu.DISABLED=new mu(-1,0,0);var wu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Jr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Iu(t).$t({index:ws.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Tu(t),a=Iu(t);return a.add({}).next((function(s){Jr("number"==typeof s);for(var u=new Ys(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ja(t.Lt,e)})),i=n.mutations.map((function(e){return Ja(t.Lt,e)}));return new ws(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new da((function(t,e){return ni(t.canonicalString(),e.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Es.key(i.userId,d.key.path,s);h=h.add(d.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Es.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),js.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Iu(t).get(e).next((function(t){return t?(Jr(t.userId===n.userId),au(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?js.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Iu(t).$t({index:ws.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Jr(e.batchId>=r),o=au(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Iu(t).$t({index:ws.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Iu(t).Nt(ws.userMutationsIndex,n).next((function(t){return t.map((function(t){return au(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Es.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Tu(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=ys(u);if(s===n.userId&&e.path.isEqual(l))return Iu(t).get(c).next((function(t){if(!t)throw Xr();Jr(t.userId===n.userId),o.push(au(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new da(ni),i=[];return e.forEach((function(e){var o=Es.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Tu(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=ys(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),js.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Es.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new da(ni);return Tu(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=ys(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Iu(t).get(e).next((function(t){if(null===t)throw Xr();Jr(t.userId===n.userId),r.push(au(n.R,t))})))})),js.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return _u(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),js.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return js.resolve();var r=IDBKeyRange.lowerBound(Es.prefixForUser(e.userId)),i=[];return Tu(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=ys(t[1]);i.push(o)}else r.done()})).next((function(){Jr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Eu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Su(t).get(this.userId).next((function(t){return t||new bs(e.userId,-1,"")}))},t}();function Eu(t,e,n){var r=Es.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Tu(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Iu(t){return Qs(t,ws.store)}function Tu(t){return Qs(t,Es.store)}function Su(t){return Qs(t,bs.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ku=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Cu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return ai.fromTimestamp(new oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Au(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Jr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Au(t).$t((function(a,s){var u=su(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return js.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Au(t).$t((function(t,n){var r=su(n);e(r)}))},t.prototype.Xt=function(t){return xu(t).get(xs.key).next((function(t){return Jr(null!==t),t}))},t.prototype.Zt=function(t,e){return xu(t).put(xs.key,e)},t.prototype.te=function(t,e){return Au(t).put(uu(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=zi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Au(t).$t({range:r,index:ks.queryTargetsIndexName},(function(t,n,r){var o=su(n);Gi(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Nu(t);return e.forEach((function(e){var a=ds(e.path);i.push(o.put(new As(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),js.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Nu(t);return js.forEach(e,(function(e){var o=ds(e.path);return js.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Nu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nu(t),i=Ia();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=ys(t[1]),o=new Ci(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=ds(e.path),r=IDBKeyRange.bound([n],[ii(n)],!1,!0),i=0;return Nu(t).$t({index:As.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Au(t).get(e).next((function(t){return t?su(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){return Qs(t,ks.store)}function xu(t){return Qs(t,xs.store)}function Nu(t){return Qs(t,As.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){if(t.code!==Kr.FAILED_PRECONDITION||t.message!==Ls)throw t;return Gr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=ni(n,i);return 0===a?ni(r,o):a}var Pu=function(){function t(t){this.ne=t,this.buffer=new da(Ou),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ou(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Du=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Gr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,o.__awaiter)(e,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ks(e=n.sent())?(Gr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ru(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Lu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return js.resolve(Br.o);var r=new Pu(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gr("LruGarbageCollector","Garbage collection skipped; disabled"),js.resolve(yu)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),yu):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,u,c,l=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(Gr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),zr()<=s.LogLevel.DEBUG&&Gr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),js.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Mu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Lu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Fu(t,n)},t.prototype.removeReference=function(t,e,n){return Fu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Fu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Su(t).Ot((function(r){return Eu(t,r,e).next((function(t){return t&&(n=!0),js.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),Nu(t).delete([0,ds(a.path)])}))}));i.push(u)}})).next((function(){return js.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Fu(t,e)},t.prototype.we=function(t,e){var n,r=Nu(t),i=Br.o;return r.$t({index:As.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Br.o&&e(new Ci(ys(n)),i),i=s,n=a):i=Br.o})).next((function(){i!==Br.o&&e(new Ci(ys(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Fu(t,e){return Nu(t).put(function(t,e){return new As(0,ds(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ju=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ui(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return ci(this.inner)},t}(),Uu=function(){function t(){this.changes=new ju((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ai.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ki.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?js.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),qu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Ku(t).put(Hu(e),n)},t.prototype.removeEntry=function(t,e){var n=Ku(t),r=Hu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Ku(t).get(Hu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Ku(t).get(Hu(e)).next((function(t){return{document:n.ye(e,t),size:bu(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=ya();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=ya(),i=new ha(Ci.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,bu(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return js.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ku(t).$t({range:r},(function(t,e,r){for(var a=Ci.fromSegments(t);o&&Ci.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ya(),o=e.path.length+1,a={};if(n.isEqual(ai.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=nu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ss.collectionReadTimeIndex}return Ku(t).$t(a,(function(t,n,a){if(t.length===o){var s=tu(r.R,n);e.path.isPrefixOf(s.key.path)?So(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Vu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Bu(t).get(Cs.key).next((function(t){return Jr(!!t),t}))},t.prototype.me=function(t,e){return Bu(t).put(Cs.key,e)},t.prototype.ye=function(t,e){if(e){var n=tu(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ai.min()))return n}return Ki.newInvalidDocument(t)},t}(),Vu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new ju((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return(0,o.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new da((function(t,e){return ni(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=eu(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=bu(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=eu(e.Ie.R,Ki.newNoDocument(o,ai.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),js.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Uu);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){return Qs(t,Cs.store)}function Ku(t){return Qs(t,Ss.store)}function Hu(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Jr(n<r&&n>=0&&r<=11);var o=new Us("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(_s.store)}(t),function(t){t.createObjectStore(bs.store,{keyPath:bs.keyPath}),t.createObjectStore(ws.store,{keyPath:ws.keyPath,autoIncrement:!0}).createIndex(ws.userMutationsIndex,ws.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Es.store)}(t),zu(t),function(t){t.createObjectStore(Ss.store)}(t));var a=js.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(As.store),t.deleteObjectStore(ks.store),t.deleteObjectStore(xs.store)}(t),zu(t)),a=a.next((function(){return function(t){var e=t.store(xs.store),n=new xs(0,0,ai.min().toTimestamp(),0);return e.put(xs.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(ws.store).Nt().next((function(n){t.deleteObjectStore(ws.store),t.createObjectStore(ws.store,{keyPath:ws.keyPath,autoIncrement:!0}).createIndex(ws.userMutationsIndex,ws.userMutationsKeyPath,{unique:!0});var r=e.store(ws.store),i=n.map((function(t){return r.put(t)}));return js.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Rs.store,{keyPath:Rs.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Cs.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ss.store);e.createIndex(Ss.readTimeIndex,Ss.readTimeIndexPath,{unique:!1}),e.createIndex(Ss.collectionReadTimeIndex,Ss.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Os.store,{keyPath:Os.keyPath})}(t),function(t){t.createObjectStore(Ps.store,{keyPath:Ps.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(Ss.store).$t((function(t,n){e+=bu(n)})).next((function(){var n=new Cs(e);return t.store(Cs.store).put(Cs.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(bs.store),r=t.store(ws.store);return n.Nt().next((function(n){return js.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ws.userMutationsIndex,i).next((function(r){return js.forEach(r,(function(r){Jr(r.userId===n.userId);var i=au(e.R,r);return _u(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(As.store),n=t.store(Ss.store);return t.store(xs.store).get(xs.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new hi(n),a=function(t){return[0,ds(t)]}(o);r.push(e.get(a).next((function(n){return n?js.resolve():function(n){return e.put(new As(0,ds(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return js.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Ns.store,{keyPath:Ns.keyPath});var n=e.store(Ns.store),r=new du,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ds(i)})}};return e.store(Ss.store).$t({Ft:!0},(function(t,e){var n=new hi(t);return i(n.popLast())})).next((function(){return e.store(Es.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=ys(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(ks.store);return n.$t((function(t,r){var i=su(r),o=uu(e.R,i);return n.put(o)}))},t}();function zu(t){t.createObjectStore(As.store,{keyPath:As.keyPath}).createIndex(As.documentTargetsIndex,As.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ks.store,{keyPath:ks.keyPath}).createIndex(ks.queryTargetsIndexName,ks.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(xs.store)}var Gu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$u=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Hr(Kr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mu(this,i),this.Le=n+"main",this.R=new Zs(u),this.Be=new qs(this.Le,11,new Wu(this.R)),this.qe=new ku(this.referenceDelegate,this.R),this.Ut=new vu,this.Ue=function(t,e){return new qu(t,e)}(this.R,this.Ut),this.Ke=new lu,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&$r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Hr(Kr.FAILED_PRECONDITION,Gu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Br(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,o.__awaiter)(e,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return(0,o.__awaiter)(e,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return(0,o.__awaiter)(e,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Yu(e).put(new Rs(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Ks(e))return Gr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Gr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Qu(t).get(_s.key).next((function(t){return js.resolve(e.tn(t))}))},t.prototype.en=function(t){return Yu(t).delete(this.clientId)},t.prototype.nn=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i=this;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Qs(t,Rs.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return js.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?js.resolve(!0):Qu(t).get(_s.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Hr(Kr.FAILED_PRECONDITION,Gu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Yu(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Gr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t=this;return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[_s.store,Rs.store],(function(e){var n=new $s(e,Br.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Yu(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return wu.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Gr("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Ds,(function(o){return i=new $s(o,r.Ne?r.Ne.next():Br.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw $r("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Hr(Kr.FAILED_PRECONDITION,Ls);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Qu(t).get(_s.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Hr(Kr.FAILED_PRECONDITION,Gu)}))},t.prototype.Ze=function(t){var e=new _s(this.clientId,this.allowTabSynchronization,Date.now());return Qu(t).put(_s.key,e)},t.yt=function(){return qs.yt()},t.prototype.Xe=function(t){var e=this,n=Qu(t);return n.get(_s.key).next((function(t){return e.tn(t)?(Gr("IndexedDbPersistence","Releasing primary lease."),n.delete(_s.key)):js.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&($r("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,a.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Gr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return $r("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){$r("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Qu(t){return Qs(t,_s.store)}function Yu(t){return Qs(t,Rs.store)}function Xu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ju=function(t,e){this.progress=t,this.wn=e},Zu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):mo(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Ci(e)).next((function(t){var e=_a();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=_a();return this.Ut.getCollectionParents(t,i).next((function(a){return js.forEach(a,(function(a){var s=function(t,e){return new lo(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ki.newInvalidDocument(c),r=r.insert(c,l)),Qo(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){So(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Ia(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ta&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),tc=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ia(),i=Ia(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ec=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ai.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(po(e)||vo(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(zr()<=s.LogLevel.DEBUG&&Gr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),To(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new da(Co(t));return e.forEach((function(e,r){So(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return zr()<=s.LogLevel.DEBUG&&Gr("QueryEngine","Using full collection scan to execute query:",To(e)),this.Sn.getDocumentsMatchingQuery(t,e,ai.min())},t}(),nc=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new ha(ni),this.Fn=new ju((function(t){return zi(t)}),Gi),this.$n=ai.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Zu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,e,n,r){return new nc(t,e,n,r)}function ic(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=Zr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Zu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=Ia(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];a=a.add(m.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return a=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),a)]}}))}))}function oc(t,e){var n=Zr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=js.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Jr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function ac(t){var e=Zr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function sc(t,e){var n=Zr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Jr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=ya();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(uc(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(ai.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return js.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=i,t}))}function uc(t,e,n,r,i){var o=Ia();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=ya();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ai.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Gr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function cc(t,e){var n=Zr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function lc(t,e){var n=Zr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,js.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Js(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function hc(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:r=Zr(t),i=r.kn.get(e),a=n?"readwrite":"readwrite-primary",o.label=1;case 1:return o.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:o.sent(),o.label=3;case 3:return[3,5];case 4:if(!Ks(s=o.sent()))throw s;return Gr("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function fc(t,e,n){var r=Zr(t),i=ai.min(),o=Ia();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Zr(t),i=r.Fn.get(n);return void 0!==i?js.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,bo(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ai.min(),n?o:Ia())})).next((function(t){return{documents:t,Bn:o}}))}))}function pc(t,e){var n=Zr(t),r=Zr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function dc(t){var e=Zr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Zr(t),i=ya(),o=nu(n),a=Ku(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Ss.readTimeIndex,range:s},(function(t,e){var n=tu(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:ru(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function vc(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){return[2,(e=Zr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ku(t),n=ai.min();return e.$t({index:Ss.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=ru(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function gc(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var i,a,s,u,c,l,h,f,p,d;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:for(i=Zr(t),a=Ia(),s=ya(),u=wa(),c=0,l=n;c<l.length;c++)h=l[c],f=e.qn(h.metadata.name),h.document&&(a=a.add(f)),s=s.insert(f,e.Un(h)),u=u.insert(f,e.Kn(h.metadata.readTime));return p=i.On.newChangeBuffer({trackRemovals:!0}),[4,lc(i,function(t){return bo(fo(hi.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=o.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return uc(t,p,s,ai.min(),u).next((function(e){return p.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,a,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function yc(t,e,n){return void 0===n&&(n=Ia()),(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,lc(t,bo(cu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Zr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Va(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(vi.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var mc=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return js.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Va(n.createTime)}),js.resolve()},t.prototype.getNamedQuery=function(t,e){return js.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:cu(t.bundledQuery),readTime:Va(t.readTime)}}(e)),js.resolve()},t}(),_c=function(){function t(){this.Wn=new da(bc.Gn),this.zn=new da(bc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new bc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new bc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Ci(new hi([])),r=new bc(n,t),i=new bc(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ci(new hi([])),n=new bc(e,t),r=new bc(e,t+1),i=Ia();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new bc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),bc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ci.comparator(t.key,e.key)||ni(t.ns,e.ns)},t.Hn=function(t,e){return ni(t.ns,e.ns)||Ci.comparator(t.key,e.key)},t}(),wc=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new da(bc.Gn)}return t.prototype.checkEmpty=function(t){return js.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Ys(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new bc(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return js.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return js.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return js.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return js.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return js.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new bc(e,0),i=new bc(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),js.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new da(ni);return e.forEach((function(t){var e=new bc(t,0),i=new bc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),js.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ci.isDocumentKey(i)||(i=i.child(""));var o=new bc(new Ci(i),0),a=new da(ni);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),js.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Jr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return js.forEach(e.mutations,(function(i){var o=new bc(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new bc(e,0),r=this.rs.firstAfterOrEqual(n);return js.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,js.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Ec=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ha(Ci.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return js.resolve(n?n.document.clone():Ki.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ya();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ki.newInvalidDocument(t))})),js.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ya(),i=new Ci(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||So(e,c)&&(r=r.insert(c.key,c.clone()))}return js.resolve(r)},t.prototype.fs=function(t,e){return js.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Ic(this)},t.prototype.getSize=function(t){return js.resolve(this.size)},t}(),Ic=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,o.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),js.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Uu),Tc=function(){function t(t){this.persistence=t,this.ds=new ju((function(t){return zi(t)}),Gi),this.lastRemoteSnapshotVersion=ai.min(),this.highestTargetId=0,this.ws=0,this._s=new _c,this.targetCount=0,this.ys=Cu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),js.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return js.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return js.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),js.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),js.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Cu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,js.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),js.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,js.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),js.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return js.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return js.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),js.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),js.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),js.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return js.resolve(n)},t.prototype.containsKey=function(t,e){return js.resolve(this._s.containsKey(e))},t}(),Sc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Br(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Tc(this),this.Ut=new pu,this.Ue=function(t,e){return new Ec(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Zs(e),this.Ke=new mc(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new wc(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Gr("MemoryPersistence","Starting transaction:",t);var i=new Cc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return js.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Cc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,o.__extends)(e,t),e}(Ms),kc=function(){function t(t){this.persistence=t,this.As=new _c,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Xr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),js.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),js.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),js.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return js.forEach(this.vs,(function(r){var i=Ci.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return js.or([function(){return js.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Ac=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e){return"firestore_clients_"+t+"_"+e}function Nc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Rc(t,e){return"firestore_targets_"+t+"_"+e}Ac.UNAUTHENTICATED=new Ac(null),Ac.GOOGLE_CREDENTIALS=new Ac("google-credentials-uid"),Ac.FIRST_PARTY=new Ac("first-party-uid"),Ac.MOCK_USER=new Ac("mock-user");var Oc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var o,a=JSON.parse(r),s="object"==(0,i.Z)(a)&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==(0,i.Z)(a.error));return s&&a.error&&(s="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(o=new Hr(a.error.code,a.error.message)),s?new t(e,n,a.state,o):($r("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,o=JSON.parse(n),a="object"==(0,i.Z)(o)&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==(0,i.Z)(o.error));return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new Hr(o.error.code,o.error.message)),a?new t(e,o.state,r):($r("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Dc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),o="object"==(0,i.Z)(r)&&r.activeTargetIds instanceof Array,a=Sa(),s=0;o&&s<r.activeTargetIds.length;++s)o=Si(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return o?new t(e,a):($r("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Lc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==(0,i.Z)(n)&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):($r("SharedClientState","Failed to parse online state: "+e),null)},t}(),Mc=function(){function t(){this.activeTargetIds=Sa()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Fc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ha(ni),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=xc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Mc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i,a,s,u,c,l,h,f=this;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(xc(this.persistenceKey,r)))&&(a=Dc.Vs(r,i))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)h=l[c],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Rc(this.persistenceKey,t));if(n){var r=Pc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Rc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Gr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Gr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Gr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Gr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void $r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,o.__awaiter)(e,void 0,void 0,(function(){var t,e,r,i,a,s;return(0,o.__generator)(this,(function(o){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(s=function(t){var e=Br.o;if(null!=t)try{var n=JSON.parse(t);Jr("number"==typeof n),e=n}catch(t){$r("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Br.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Oc(this.currentUser,t,e,n),i=Nc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Nc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Rc(this.persistenceKey,t),i=new Pc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Dc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Oc.Vs(new Ac(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Pc.Vs(r,e)},t.prototype.js=function(t){return Lc.Vs(t)},t.prototype.ii=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Gr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Sa();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),jc=function(){function t(){this.li=new Mc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Mc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Uc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),qc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Gr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Gr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Vc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Bc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Kc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,o.__extends)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var a=new Vr;a.listenOnce(Mr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Lr.NO_ERROR:var e=a.getResponseJson();Gr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Lr.TIMEOUT:Gr("Connection",'RPC "'+t+'" timed out'),o(new Hr(Kr.DEADLINE_EXCEEDED,"Request time out"));break;case Lr.HTTP_ERROR:var n=a.getStatus();if(Gr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Kr).indexOf(e)>=0?e:Kr.UNKNOWN}(r.status);o(new Hr(s,r.message))}else o(new Hr(Kr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Hr(Kr.UNAVAILABLE,"Connection failed."));break;default:Xr()}}finally{Gr("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Pr(),i=Dr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ur({})),this.ki(o.initMessageHeaders,e),(0,a.isMobileCordova)()||(0,a.isReactNative)()||(0,a.isElectron)()||(0,a.isIE)()||(0,a.isUWP)()||(0,a.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Gr("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),c=!1,l=!1,h=new Bc({Ei:function(t){l?Gr("Connection","Not sending because WebChannel is closed:",t):(c||(Gr("Connection","Opening WebChannel transport."),u.open(),c=!0),Gr("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,qr.EventType.OPEN,(function(){l||Gr("Connection","WebChannel transport opened.")})),f(u,qr.EventType.CLOSE,(function(){l||(l=!0,Gr("Connection","WebChannel transport closed"),h.Vi())})),f(u,qr.EventType.ERROR,(function(t){l||(l=!0,Qr("Connection","WebChannel transport errored:",t),h.Vi(new Hr(Kr.UNAVAILABLE,"The operation could not be completed")))})),f(u,qr.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Jr(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Gr("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=ia[t];if(void 0!==e)return la(e)}(o),s=i.message;void 0===a&&(a=Kr.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new Hr(a,s)),u.close()}else Gr("Connection","WebChannel received:",n),h.Si(n)}})),f(i,Fr.STAT_EVENT,(function(t){t.stat===jr.PROXY?Gr("Connection","Detected buffering proxy"):t.stat===jr.NOPROXY&&Gr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Gr("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return Gr("RestConnection","Received: ",t),t}),(function(e){throw Qr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Vc[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(){return"undefined"!=typeof window?window:null}function Wc(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){return new Fa(t,!0)}var Gc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Gr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),$c=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Gc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Kr.RESOURCE_EXHAUSTED?($r(e.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Kr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Hr(Kr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return(0,o.__awaiter)(t,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Gr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Gr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Qc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,o.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Jr(void 0===e||"string"==typeof e),vi.fromBase64String(e||"")):(Jr(void 0===e||e instanceof Uint8Array),vi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Kr.UNKNOWN:la(t.code);return new Hr(e,t.message||"")}(s);n=new Na(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Wa(t,r.document.name),o=Va(r.document.updateTime);var s=new Vi({mapValue:{fields:r.document.fields}}),u=(a=Ki.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Aa(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Wa(t,r.document),o=r.readTime?Va(r.readTime):ai.min(),s=Ki.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Aa([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Wa(t,r.document),o=r.removedTargetIds||[],n=new Aa([],o,i,null);else{if(!("filter"in e))return Xr();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new ua(r),o=l.targetId,n=new xa(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ai.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ai.min():e.readTime?Va(e.readTime):ai.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=$a(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=$i(r)?{documents:ts(t,r)}:{query:es(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ua(t,e.resumeToken):e.snapshotVersion.compareTo(ai.min())>0&&(n.readTime=ja(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=$a(this.R),e.removeTarget=t,this.cr(e)},e}($c),Yc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,o.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Jr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Jr(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Va(t.updateTime):Va(e);return n.isEqual(ai.min())&&(n=Va(e)),new Ho(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Va(t.commitTime);return this.listener.Tr(n,e)}return Jr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=$a(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ja(e.R,t)}))};this.cr(n)},e}($c),Xc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,o.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new Hr(Kr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Kr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Hr(Kr.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Kr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Hr(Kr.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Jc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?($r(e),this.Vr=!1):Gr("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Zc=function(t,e,n,r,i){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return(0,o.__awaiter)(a,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return ul(this)?(Gr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return(e=Zr(t)).Or.add(4),[4,el(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,tl(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Jc(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(!ul(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function el(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function nl(t,e){var n=Zr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),sl(n)?al(n):Il(n).er()&&il(n,e))}function rl(t,e){var n=Zr(t),r=Il(n);n.$r.delete(e),r.er()&&ol(n,e),0===n.$r.size&&(r.er()?r.ir():ul(n)&&n.Br.set("Unknown"))}function il(t,e){t.qr.U(e.targetId),Il(t).mr(e)}function ol(t,e){t.qr.U(e),Il(t).yr(e)}function al(t){t.qr=new Oa({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Il(t).start(),t.Br.Sr()}function sl(t){return ul(t)&&!Il(t).tr()&&t.$r.size>0}function ul(t){return 0===Zr(t).Or.size}function cl(t){t.qr=void 0}function ll(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){return t.$r.forEach((function(e,n){il(t,e)})),[2]}))}))}function hl(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(n){return cl(t),sl(t)?(t.Br.Nr(e),al(t)):t.Br.set("Unknown"),[2]}))}))}function fl(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a;return(0,o.__generator)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Na&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?(a=i[r],t.$r.has(a)?[4,t.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:o.sent(),t.$r.delete(a),t.qr.removeTarget(a),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Gr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,pl(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Aa?t.qr.X(e):e instanceof xa?t.qr.rt(e):t.qr.et(e),n.isEqual(ai.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ac(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(vi.EMPTY_BYTE_STRING,n.snapshotVersion)),ol(t,e);var r=new Js(n.target,e,1,n.sequenceNumber);il(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Gr("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,pl(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function pl(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:if(!Ks(e))throw e;return t.Or.add(1),[4,el(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return ac(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return(0,o.__awaiter)(r,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return Gr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,tl(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function dl(t,e){return e().catch((function(n){return pl(t,n,e)}))}function vl(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:e=Zr(t),n=Tl(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return ul(t)&&t.Fr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,cc(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=Tl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return a=o.sent(),[4,pl(e,a)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return gl(e)&&yl(e),[2]}}))}))}function gl(t){return ul(t)&&!Tl(t).tr()&&t.Fr.length>0}function yl(t){Tl(t).start()}function ml(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){return Tl(t).Ar(),[2]}))}))}function _l(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return(0,o.__generator)(this,(function(o){for(e=Tl(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function bl(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Xs.from(r,e,n),[4,dl(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,vl(t)];case 2:return o.sent(),[2]}}))}))}function wl(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e&&Tl(t).pr?[4,function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return ca(r=e.code)&&r!==Kr.ABORTED?(n=t.Fr.shift(),Tl(t).sr(),[4,dl(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,vl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return gl(t)&&yl(t),[2]}}))}))}function El(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n=Zr(t),e?(n.Or.delete(2),[4,tl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,el(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Il(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Zr(t);return r.br(),new Qc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ll.bind(null,t),Ri:hl.bind(null,t),_r:fl.bind(null,t)}),t.Mr.push((function(n){return(0,o.__awaiter)(e,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),sl(t)?al(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),cl(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Tl(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Zr(t);return r.br(),new Yc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ml.bind(null,t),Ri:wl.bind(null,t),Ir:_l.bind(null,t),Tr:bl.bind(null,t)}),t.Mr.push((function(n){return(0,o.__awaiter)(e,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,vl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Gr("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Sl=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hr(Kr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Cl(t,e){if($r("AsyncQueue",e+": "+t),Ks(t))return new Hr(Kr.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ci.comparator(e.key,n.key)}:function(t,e){return Ci.comparator(t.key,e.key)},this.keyedMap=_a(),this.sortedSet=new ha(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Al=function(){function t(){this.Qr=new ha(Ci.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Xr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),xl=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,kl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Nl=function(){this.Wr=void 0,this.listeners=[]},Rl=function(){this.queries=new ju((function(t){return Io(t)}),Eo),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(n=Zr(t),r=e.query,i=!1,(a=n.queries.get(r))||(i=!0,a=new Nl),!i)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),s=a,[4,n.onListen(r)];case 2:return s.Wr=o.sent(),[3,4];case 3:return u=o.sent(),c=Cl(u,"Initialization of query '"+To(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,a),a.listeners.push(e),e.zr(n.onlineState),a.Wr&&e.Hr(a.Wr)&&Ml(n),[2]}}))}))}function Pl(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s;return(0,o.__generator)(this,(function(o){return n=Zr(t),r=e.query,i=!1,(a=n.queries.get(r))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),i=0===a.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Dl(t,e){for(var n=Zr(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Ml(n)}function Ll(t,e,n){var r=Zr(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Ml(t){t.Gr.forEach((function(t){t.next()}))}var Fl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new xl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=xl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),jl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Ul=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Wa(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Xa(this.R,t.document,!1):Ki.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Va(t)},t}(),ql=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Vl(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Ul(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Ia()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,gc(this.localStore,new Ul(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,yc(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ju(Object.assign({},this.progress),t))]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bl=function(t){this.key=t},Kl=function(t){this.key=t},Hl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ia(),this.mutatedKeys=Ia(),this.lo=Co(t),this.fo=new kl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Al,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=po(this.query)&&i.size===this.query.limit?i.last():null,c=vo(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=So(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data.isEqual(h.data)?f!==p&&(r.track({type:3,doc:h}),d=!0):n.yo(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),po(this.query)||vo(this.query))for(;a.size>this.query.limit;){var l=po(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new xl(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Al,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ia(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Kl(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Bl(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ia();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return xl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Wl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},zl=function(t){this.key=t,this.bo=!1},Gl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ju((function(t){return Io(t)}),Eo),this.Vo=new Map,this.So=new Set,this.Do=new ha(Ci.comparator),this.Co=new Map,this.No=new _c,this.xo={},this.ko=new Map,this.Fo=Cu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function $l(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=Ih(t),(a=n.Po.get(e))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Ro(),[3,4]):[3,1];case 1:return[4,lc(n.localStore,bo(e))];case 2:return s=o.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Ql(n,e,r,"current"===u)];case 3:i=o.sent(),n.isPrimaryClient&&nl(n.remoteStore,s),o.label=4;case 4:return[2,i]}}))}))}function Ql(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var i,a,s,u,c,l;return(0,o.__generator)(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return i=e.view._o(n),i.Nn?[4,fc(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=o.sent(),o.label=2;case 2:return a=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,a),[2,(uh(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,fc(t.localStore,e,!0)];case 1:return i=h.sent(),a=new Hl(e,i.Bn),s=a._o(i.documents),u=ka.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=a.applyChanges(s,t.isPrimaryClient,u),uh(t,n,c.To),l=new Wl(e,n,a),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function Yl(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=Zr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Eo(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,hc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),rl(n.remoteStore,r.targetId),ah(n,r.targetId)})).catch(Ru)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ah(n,r.targetId),[4,hc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Xl(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:r=Th(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,function(t,e){var n,r=Zr(t),i=oi.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ia());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Yo(c,n.get(c.key));null!=l&&a.push(new ta(c.key,l,Bi(l.value.mapValue),Wo.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=o.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ha(ni)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,hh(r,i.changes)];case 3:return o.sent(),[4,vl(r.remoteStore)];case 4:return o.sent(),[3,6];case 5:return a=o.sent(),s=Cl(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Jl(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:n=Zr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,sc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Jr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Jr(r.bo):t.removedDocuments.size>0&&(Jr(r.bo),r.bo=!1))})),[4,hh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ru(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Zl(t,e,n){var r=Zr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Zr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Ml(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function th(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s,u,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return(r=Zr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(a=i&&i.key)?(s=(s=new ha(Ci.comparator)).insert(a,Ki.newNoDocument(a,ai.min())),u=Ia().add(a),c=new Ca(ai.min(),new Map,new da(ni),s,u),[4,Jl(r,c)]):[3,2];case 1:return o.sent(),r.Do=r.Do.remove(a),r.Co.delete(e),lh(r),[3,4];case 2:return[4,hc(r.localStore,e,!1).then((function(){return ah(r,e,n)})).catch(Ru)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))}function eh(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:n=Zr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,oc(n.localStore,e)];case 2:return i=o.sent(),oh(n,r,null),ih(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,hh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ru(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function nh(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:r=Zr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Zr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Jr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),oh(r,e,n),ih(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,hh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ru(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function rh(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:ul((n=Zr(t)).remoteStore)||Gr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,function(t){var e=Zr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return a=o.sent(),s=Cl(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function ih(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function oh(t,e,n){var r=Zr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ah(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||sh(t,e)}))}function sh(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(rl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),lh(t))}function uh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Bl?(t.No.addReference(o.key,e),ch(t,o)):o instanceof Kl?(Gr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||sh(t,o.key)):Xr()}}function ch(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Gr("SyncEngine","New document in limbo: "+n),t.So.add(r),lh(t))}function lh(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ci(hi.fromString(e)),r=t.Fo.next();t.Co.set(r,new zl(n)),t.Do=t.Do.insert(n,r),nl(t.remoteStore,new Js(bo(fo(n.path)),r,2,Br.o))}}function hh(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s;return(0,o.__generator)(this,(function(u){switch(u.label){case 0:return r=Zr(t),i=[],a=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,o){s.push(r.Oo(o,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=tc.Pn(o.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u,c,l,h;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:n=Zr(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return js.forEach(e,(function(e){return js.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return js.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return o.sent(),[3,4];case 3:if(!Ks(r=o.sent()))throw r;return Gr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,a=e;i<a.length;i++)s=a[i],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,h));return[2]}}))}))}(r.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function fh(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return(n=Zr(t)).currentUser.isEqual(e)?[3,3]:(Gr("SyncEngine","User change. New user:",e.toKey()),[4,ic(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new Hr(Kr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,hh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function ph(t,e){var n=Zr(t),r=n.Co.get(e);if(r&&r.bo)return Ia().add(r.key);var i=Ia(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function dh(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,fc((n=Zr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&uh(n,e.targetId,i.To),i)]}}))}))}function vh(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){return[2,dc((e=Zr(t)).localStore).then((function(t){return hh(e,t)}))]}))}))}function gh(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=Zr(t),r=Zr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):js.resolve(null)}))}))}((i=Zr(t)).localStore,e)];case 1:return null===(a=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,vl(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(oh(i,e,r||null),ih(i,e),function(t,e){Zr(Zr(t)._n).Gt(e)}(i.localStore,e)):Xr(),o.label=4;case 4:return[4,hh(i,a)];case 5:return o.sent(),[3,7];case 6:Gr("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function yh(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u,c,l;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return Ih(n=Zr(t)),Th(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,mh(n,r.toArray())]);case 1:return i=o.sent(),n.$o=!0,[4,El(n.remoteStore,!0)];case 2:for(o.sent(),a=0,s=i;a<s.length;a++)u=s[a],nl(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then((function(){return ah(n,e),hc(n.localStore,e,!0)})),rl(n.remoteStore,e)})),[4,l]);case 4:return o.sent(),[4,mh(n,c)];case 5:return o.sent(),function(t){var e=Zr(t);e.Co.forEach((function(t,n){rl(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new ha(Ci.comparator)}(n),n.$o=!1,[4,El(n.remoteStore,!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))}function mh(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u,c,l,h,f,p,d,v,g;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:n=Zr(t),r=[],i=[],a=0,s=e,o.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,lc(n.localStore,bo(l[0]))]:[3,7]):[3,13];case 2:c=o.sent(),h=0,f=l,o.label=3;case 3:return h<f.length?(p=f[h],d=n.Po.get(p),[4,dh(n,d)]):[3,6];case 4:(v=o.sent()).snapshot&&i.push(v.snapshot),o.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,pc(n.localStore,u)];case 8:return g=o.sent(),[4,lc(n.localStore,g)];case 9:return c=o.sent(),[4,Ql(n,_h(g),u,!1)];case 10:o.sent(),o.label=11;case 11:r.push(c),o.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function _h(t){return ho(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function bh(t){var e=Zr(t);return Zr(Zr(e.localStore).persistence).fn()}function wh(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return(i=Zr(t)).$o?(Gr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,dc(i.localStore)];case 3:return a=o.sent(),s=Ca.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,hh(i,a,s)];case 4:return o.sent(),[3,8];case 5:return[4,hc(i.localStore,e,!0)];case 6:return o.sent(),ah(i,e,r),[3,8];case 7:Xr(),o.label=8;case 8:return[2]}}))}))}function Eh(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,h,f,p;return(0,o.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=Ih(t)).$o)return[3,10];i=0,a=e,d.label=1;case 1:return i<a.length?(s=a[i],r.Vo.has(s)?(Gr("SyncEngine","Adding an already active target "+s),[3,5]):[4,pc(r.localStore,s)]):[3,6];case 2:return u=d.sent(),[4,lc(r.localStore,u)];case 3:return c=d.sent(),[4,Ql(r,_h(u),c.targetId,!1)];case 4:d.sent(),nl(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,hc(r.localStore,t,!1).then((function(){rl(r.remoteStore,t),ah(r,t)})).catch(Ru)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?(p=f[h],[5,l(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Ih(t){var e=Zr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ph.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=th.bind(null,e),e.vo._r=Dl.bind(null,e.eventManager),e.vo.Mo=Ll.bind(null,e.eventManager),e}function Th(t){var e=Zr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nh.bind(null,e),e}function Sh(t,e,n){var r=Zr(t);(function(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s,u,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=o.sent(),[4,function(t,e){var n=Zr(t),r=Va(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Ke.getBundleMetadata(t,e.id)})).then((function(t){return!!t&&t.createTime.compareTo(r)>=0}))}(t.localStore,r)];case 2:return o.sent()?[4,e.close()]:[3,4];case 3:return[2,(o.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(Vl(r)),i=new ql(r,t.localStore,e.R),[4,e.Lo()];case 5:a=o.sent(),o.label=6;case 6:return a?[4,i.oo(a)]:[3,10];case 7:return(s=o.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:a=o.sent(),o.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return u=o.sent(),[4,hh(t,u.wn,void 0)];case 12:return o.sent(),[4,function(t,e){var n=Zr(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Ke.saveBundleMetadata(t,e)}))}(t.localStore,r)];case 13:return o.sent(),n._completeWith(u.progress),[3,15];case 14:return Qr("SyncEngine","Loading bundle failed with "+(c=o.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,e,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Ch=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return this.R=zc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return rc(this.persistence,new ec,t.initialUser,this.R)},t.prototype.qo=function(t){return new Sc(kc.bs,this.R)},t.prototype.Bo=function(t){return new jc},t.prototype.terminate=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),kh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,o.__extends)(e,t),e.prototype.initialize=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,vc(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Th(this.Qo.syncEngine)];case 4:return r.sent(),[4,vl(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return rc(this.persistence,new ec,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Du(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Xu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mu.withCacheSize(this.cacheSizeBytes):mu.DEFAULT;return new $u(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Hc(),Wc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new jc},e}(Ch),Ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,o.__extends)(e,t),e.prototype.initialize=function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Fc?(this.sharedClientState.syncEngine={ui:gh.bind(null,n),ai:wh.bind(null,n),hi:Eh.bind(null,n),fn:bh.bind(null,n),ci:vh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return(0,o.__awaiter)(r,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,yh(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Hc();if(!Fc.yt(e))throw new Hr(Kr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Xu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Fc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(kh),xh=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Zl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fh.bind(null,this.syncEngine),[4,El(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Rl},t.prototype.createDatastore=function(t){var e,n=zc(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Kc(e));return function(t,e,n){return new Xc(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Zl(a.syncEngine,t,0)},o=qc.yt()?new qc:new Uc,new Zc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Gl(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e=Zr(t),Gr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,el(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r;return(0,o.__generator)(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Oh=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Fs,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new jl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),Ph=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Hr(Kr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=Zr(t),r=$a(n.R)+"/documents",i={documents:e.map((function(t){return Ha(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return a=o.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Jr(!!e.found),e.found.name,e.found.updateTime;var n=Wa(t,e.found.name),r=Va(e.found.updateTime),i=new Vi({mapValue:{fields:e.found.fields}});return Ki.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Jr(!!e.missing),Jr(!!e.readTime);var n=Wa(t,e.missing),r=Va(e.readTime);return Ki.newNoDocument(n,r)}(t,e):Xr()}(n.R,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Jr(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new aa(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e=this;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ci.fromPath(n);e.mutations.push(new sa(r,e.precondition(r)))})),[4,function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=Zr(t),r=$a(n.R)+"/documents",i={writes:e.map((function(t){return Ja(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Xr();e=ai.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Hr(Kr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Wo.updateTime(e):Wo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ai.min()))throw new Hr(Kr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wo.updateTime(e)}return Wo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Dh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Gc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return(0,o.__awaiter)(t,void 0,void 0,(function(){var t,e,n=this;return(0,o.__generator)(this,(function(r){return t=new Ph(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ii(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ca(e)}return!1},t}(),Lh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Ac.UNAUTHENTICATED,this.clientId=ei.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return(0,o.__awaiter)(r,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return Gr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Hr(Kr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,o.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Cl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Gr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=a.sent(),[4,e.initialize(n)];case 2:return a.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return(0,o.__awaiter)(i,void 0,void 0,(function(){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,ic(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Fh(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,jh(t)];case 1:return n=i.sent(),Gr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return(n=Zr(t)).asyncQueue.verifyOperationInProgress(),Gr("RemoteStore","RemoteStore received new credentials"),r=ul(n),n.Or.add(3),[4,el(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,tl(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function jh(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Gr("FirestoreClient","Using default OfflineComponentProvider"),[4,Mh(t,new Ch)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Uh(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Gr("FirestoreClient","Using default OnlineComponentProvider"),[4,Fh(t,new xh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function qh(t){return jh(t).then((function(t){return t.persistence}))}function Vh(t){return jh(t).then((function(t){return t.localStore}))}function Bh(t){return Uh(t).then((function(t){return t.remoteStore}))}function Kh(t){return Uh(t).then((function(t){return t.syncEngine}))}function Hh(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,Uh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=$l.bind(null,e.syncEngine),n.onUnlisten=Yl.bind(null,e.syncEngine),n)]}}))}))}function Wh(t,e,n){var r=this;void 0===n&&(n={});var i=new Fs;return t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(r,void 0,void 0,(function(){var r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Rh({next:function(o){e.enqueueAndForget((function(){return Pl(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Hr(Kr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Hr(Kr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Fl(fo(n.path),o,{includeMetadataChanges:!0,so:!0});return Ol(t,a)},[4,Hh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function zh(t,e,n){var r=this;void 0===n&&(n={});var i=new Fs;return t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(r,void 0,void 0,(function(){var r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Rh({next:function(n){e.enqueueAndForget((function(){return Pl(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Hr(Kr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Fl(n,o,{includeMetadataChanges:!0,so:!0});return Ol(t,a)},[4,Hh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Gh=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},$h=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Qh=new Map,Yh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Xh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Ac.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Jh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Zh=function(){function t(t){var e=this;this.currentUser=Ac.UNAUTHENTICATED,this.oc=new Fs,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Gr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Gr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Gr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Jr("string"==typeof n.accessToken),new Yh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Jr(null===t||"string"==typeof t),new Ac(t)},t}(),tf=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Ac.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),ef=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new tf(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Ac.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t,e,n){if(!n)throw new Hr(Kr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function rf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function of(t,e,n,r){if(!0===e&&!0===r)throw new Hr(Kr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function af(t){if(!Ci.isDocumentKey(t))throw new Hr(Kr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function sf(t){if(Ci.isDocumentKey(t))throw new Hr(Kr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function uf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==(0,i.Z)(t)){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Xr()}function cf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Hr(Kr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uf(t);throw new Hr(Kr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function lf(t,e){if(e<=0)throw new Hr(Kr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Hr(Kr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Hr(Kr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,of("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),ff=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hf({}),this._settingsFrozen=!1,t instanceof $h?(this._databaseId=t,this._credentials=new Xh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Hr(Kr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(t.options.projectId)}(t),this._credentials=new Zh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Hr(Kr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Hr(Kr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hf(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Xh;switch(t.type){case"gapi":var e=t.client;return Jr(!("object"!=(0,i.Z)(e)||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ef(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Hr(Kr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return t=this,(e=Qh.get(t))&&(Gr("ComponentProvider","Removing Datastore"),Qh.delete(t),e.terminate()),Promise.resolve();var t,e},t}(),pf=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),df=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),vf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,fo(r))||this)._path=r,i.type="collection",i}return(0,o.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new pf(this.firestore,null,new Ci(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(df);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,a.getModularInstance)(t),nf("collection","path",e),t instanceof ff)return sf(n=hi.fromString.apply(hi,(0,o.__spreadArray)([e],r))),new vf(t,null,n);if(!(t instanceof pf||t instanceof vf))throw new Hr(Kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sf(n=hi.fromString.apply(hi,(0,o.__spreadArray)([t.path],r)).child(hi.fromString(e))),new vf(t.firestore,null,n)}function yf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,a.getModularInstance)(t),1===arguments.length&&(e=ei.u()),nf("doc","path",e),t instanceof ff)return af(n=hi.fromString.apply(hi,(0,o.__spreadArray)([e],r))),new pf(t,null,new Ci(n));if(!(t instanceof pf||t instanceof vf))throw new Hr(Kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return af(n=t._path.child(hi.fromString.apply(hi,(0,o.__spreadArray)([e],r)))),new pf(t.firestore,t instanceof vf?t.converter:null,new Ci(n))}function mf(t,e){return t=(0,a.getModularInstance)(t),e=(0,a.getModularInstance)(e),(t instanceof pf||t instanceof vf)&&(e instanceof pf||e instanceof vf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _f(t,e){return t=(0,a.getModularInstance)(t),e=(0,a.getModularInstance)(e),t instanceof df&&e instanceof df&&t.firestore===e.firestore&&Eo(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var bf=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Gc(this,"async_queue_retry"),this.Ic=function(){var e=Wc();e&&Gr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Wc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Wc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Fs;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e=this;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ks(t=n.sent()))throw t;return Gr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,$r("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Sl.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Xr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t;return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function wf(t){return function(t,e){if("object"!=(0,i.Z)(t)||null===t)return!1;for(var n=t,r=0,o=["next","error","complete"];r<o.length;r++){var a=o[r];if(a in n&&"function"==typeof n[a])return!0}return!1}(t)}var Ef=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Fs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),If=-1,Tf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new bf,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,o.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Cf(this),this._firestoreClient.terminate()},e}(ff);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){return t._firestoreClient||Cf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Cf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Gh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Lh(t._credentials,t._queue,r)}function kf(t,e,n){var r=this,i=new Fs;return t.asyncQueue.enqueue((function(){return(0,o.__awaiter)(r,void 0,void 0,(function(){var r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Mh(t,n)];case 1:return o.sent(),[4,Fh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Kr.FAILED_PRECONDITION||t.code===Kr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Af(t){if(t._initialized||t._terminated)throw new Hr(Kr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Nf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(vi.fromBase64String(e))}catch(e){throw new Hr(Kr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(vi.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Rf=function(t){this._methodName=t},Of=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Hr(Kr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Hr(Kr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ni(this._lat,t._lat)||ni(this._long,t._long)},t}(),Pf=/^__.*__$/,Df=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ta(t,this.data,this.fieldMask,e,this.fieldTransforms):new Zo(t,this.data,e,this.fieldTransforms)},t}(),Lf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ta(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xr()}}var Ff=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return rp(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Mf(this.Nc)&&Pf.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),jf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||zc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Ff({Nc:t,methodName:e,qc:n,path:pi.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Uf(t){var e=t._freezeSettings(),n=zc(t._databaseId);return new jf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qf(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Zf("Data must be an object, but it was:",a,r);var s,u,c=Xf(r,a);if(o.merge)s=new di(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=tp(e,f[h],n);if(!a.contains(p))throw new Hr(Kr.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");ip(l,p)||l.push(p)}s=new di(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new Df(new Vi(c),s,u)}var Vf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Rf);function Bf(t,e,n){return new Ff({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new Ko(t.path,new Lo)},e.prototype.isEqual=function(t){return t instanceof e},e}(Rf),Hf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,o.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=Bf(this,t,!0),n=this.Kc.map((function(t){return Yf(t,e)})),r=new Mo(n);return new Ko(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rf),Wf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,o.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=Bf(this,t,!0),n=this.Kc.map((function(t){return Yf(t,e)})),r=new jo(n);return new Ko(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rf),zf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,o.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new qo(t.R,No(t.R,this.Qc));return new Ko(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Rf);function Gf(t,e,n,r){var i=t.Uc(1,e,n);Zf("Data must be an object, but it was:",i,r);var o=[],s=Vi.empty();ui(r,(function(t,r){var u=np(e,t,n);r=(0,a.getModularInstance)(r);var c=i.Oc(u);if(r instanceof Vf)o.push(u);else{var l=Yf(r,c);null!=l&&(o.push(u),s.set(u,l))}}));var u=new di(o);return new Lf(s,u,i.fieldTransforms)}function $f(t,e,n,r,i,o){var s=t.Uc(1,e,n),u=[tp(e,r,n)],c=[i];if(o.length%2!=0)throw new Hr(Kr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)u.push(tp(e,o[l])),c.push(o[l+1]);for(var h=[],f=Vi.empty(),p=u.length-1;p>=0;--p)if(!ip(h,u[p])){var d=u[p],v=c[p];v=(0,a.getModularInstance)(v);var g=s.Oc(d);if(v instanceof Vf)h.push(d);else{var y=Yf(v,g);null!=y&&(h.push(d),f.set(d,y))}}var m=new di(h);return new Lf(f,m,s.fieldTransforms)}function Qf(t,e,n,r){return void 0===r&&(r=!1),Yf(n,t.Uc(r?4:3,e))}function Yf(t,e){if(Jf(t=(0,a.getModularInstance)(t)))return Zf("Unsupported field value:",e,t),Xf(t,e);if(t instanceof Rf)return function(t,e){if(!Mf(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Yf(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,a.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return No(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=oi.fromDate(t);return{timestampValue:ja(e.R,n)}}if(t instanceof oi)return n=new oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ja(e.R,n)};if(t instanceof Of)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nf)return{bytesValue:Ua(e.R,t._byteString)};if(t instanceof pf){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ba(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+uf(t))}(t,e)}function Xf(t,e){var n={};return ci(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(t,(function(t,r){var i=Yf(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Jf(t){return!("object"!=(0,i.Z)(t)||null===t||t instanceof Array||t instanceof Date||t instanceof oi||t instanceof Of||t instanceof Nf||t instanceof pf||t instanceof Rf)}function Zf(t,e,n){if(!Jf(n)||!function(t){return"object"==(0,i.Z)(t)&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=uf(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function tp(t,e,n){if((e=(0,a.getModularInstance)(e))instanceof xf)return e._internalPath;if("string"==typeof e)return np(t,e);throw rp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ep=new RegExp("[~\\*/\\[\\]]");function np(t,e,n){if(e.search(ep)>=0)throw rp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(xf.bind.apply(xf,(0,o.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(r){throw rp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function rp(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Hr(Kr.INVALID_ARGUMENT,(s+=". ")+t+u)}function ip(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var op=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new pf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ap(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(sp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(op);function sp(t,e){return"string"==typeof e?np(t,e):e instanceof xf?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var up=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),cp=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,o.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(sp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(op),lp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(cp),hp=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new up(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new lp(n._firestore,n._userDataWriter,r.key,r,new up(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Hr(Kr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new lp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new up(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new lp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new up(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:fp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function fp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xr()}}function pp(t,e){return t instanceof cp&&e instanceof cp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof hp&&e instanceof hp&&t._firestore===e._firestore&&_f(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){if(vo(t)&&0===t.explicitOrderBy.length)throw new Hr(Kr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vp=function(){};function gp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,o.__extends)(e,t),e.prototype._apply=function(t){var e=Uf(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Tp(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Ip(r,t,h))}s={arrayValue:{values:u}}}else s=Ip(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Tp(a,o),s=Qf(n,"where",a,"in"===o||"not-in"===o);var f=Qi.create(i,o,s);return function(t,e){if(e.g()){var n=yo(t);if(null!==n&&!n.isEqual(e.field))throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=go(t);null!==r&&Sp(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Hr(Kr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Hr(Kr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new df(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(vp),mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,o.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ao(e,n);return function(t,e){if(null===go(t)){var n=yo(t);null!==n&&Sp(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new df(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new lo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(vp),_p=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,o.__extends)(e,t),e.prototype._apply=function(t){return new df(t.firestore,t.converter,wo(t._query,this.Hc,this.Jc))},e}(vp),bp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,o.__extends)(e,t),e.prototype._apply=function(t){var e=Ep(t,this.type,this.Yc,this.Xc);return new df(t.firestore,t.converter,function(t,e){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(vp),wp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,o.__extends)(e,t),e.prototype._apply=function(t){var e=Ep(t,this.type,this.Yc,this.Xc);return new df(t.firestore,t.converter,function(t,e){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(vp);function Ep(t,e,n,r){if(n[0]=(0,a.getModularInstance)(n[0]),n[0]instanceof op)return function(t,e,n,r,i){if(!r)throw new Hr(Kr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=_o(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Di(e,r.key));else{var c=r.data.field(u.field);if(bi(c))throw new Hr(Kr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new io(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var o=Uf(t.firestore);return function(t,e,n,r,o,a){var s=t.explicitOrderBy;if(o.length>s.length)throw new Hr(Kr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],c=0;c<o.length;c++){var l=o[c];if(s[c].field.isKeyField()){if("string"!=typeof l)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+(0,i.Z)(l));if(!mo(t)&&-1!==l.indexOf("/"))throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var h=t.path.child(hi.fromString(l));if(!Ci.isDocumentKey(h))throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new Ci(h);u.push(Di(e,f))}else{var p=Qf(n,r,l);u.push(p)}}return new io(u,a)}(t._query,t.firestore._databaseId,o,e,n,r)}function Ip(t,e,n){if("string"==typeof(n=(0,a.getModularInstance)(n))){if(""===n)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mo(e)&&-1!==n.indexOf("/"))throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(hi.fromString(n));if(!Ci.isDocumentKey(r))throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Di(t,new Ci(r))}if(n instanceof pf)return Di(t,n._key);throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+uf(n)+".")}function Tp(t,e){if(!Array.isArray(t)||0===t.length)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Sp(t,e,n){if(!n.isEqual(e))throw new Hr(Kr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ki(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(_i(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Xr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ui(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Of(mi(t.latitude),mi(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=wi(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ei(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=yi(t);return new oi(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=hi.fromString(t);Jr(ps(n));var r=new $h(n.get(1),n.get(3)),i=new Ci(n.popFirst(5));return r.isEqual(e)||$r("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ap=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,o.__extends)(e,t),e.prototype.convertBytes=function(t){return new Nf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new pf(this.firestore,null,e)},e}(Cp),xp=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Uf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Np(t,this._firestore),i=kp(r.converter,e,n),o=qf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Wo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Np(t,this._firestore);return o="string"==typeof(e=(0,a.getModularInstance)(e))||e instanceof xf?$f(this._dataReader,"WriteBatch.update",s._key,e,n,r):Gf(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Wo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Np(t,this._firestore);return this._mutations=this._mutations.concat(new aa(e._key,Wo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Hr(Kr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e){if((t=(0,a.getModularInstance)(t)).firestore!==e)throw new Hr(Kr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,o.__extends)(e,t),e.prototype.convertBytes=function(t){return new Nf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new pf(this.firestore,null,e)},e}(Cp);function Op(t,e,n){t=cf(t,pf);var r=cf(t.firestore,Tf),i=kp(t.converter,e,n);return Lp(r,[qf(Uf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Wo.none())])}function Pp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=cf(t,pf);var o=cf(t.firestore,Tf),s=Uf(o);return Lp(o,[("string"==typeof(e=(0,a.getModularInstance)(e))||e instanceof xf?$f(s,"updateDoc",t._key,e,n,r):Gf(s,"updateDoc",t._key,e)).toMutation(t._key,Wo.exists(!0))])}function Dp(t){for(var e,n,r,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];t=(0,a.getModularInstance)(t);var c={includeMetadataChanges:!1},l=0;"object"!=(0,i.Z)(s[l])||wf(s[l])||(c=s[l],l++);var h,f,p,d={includeMetadataChanges:c.includeMetadataChanges};if(wf(s[l])){var v=s[l];s[l]=null===(e=v.next)||void 0===e?void 0:e.bind(v),s[l+1]=null===(n=v.error)||void 0===n?void 0:n.bind(v),s[l+2]=null===(r=v.complete)||void 0===r?void 0:r.bind(v)}if(t instanceof pf)f=cf(t.firestore,Tf),p=fo(t._key.path),h={next:function(e){s[l]&&s[l](Mp(f,t,e))},error:s[l+1],complete:s[l+2]};else{var g=cf(t,df);f=cf(g.firestore,Tf),p=g._query;var y=new Rp(f);h={next:function(t){s[l]&&s[l](new hp(f,y,g,t))},error:s[l+1],complete:s[l+2]},dp(t._query)}return function(t,e,n,r){var i=this,a=new Rh(r),s=new Fl(e,a,n);return t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(i,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e=Ol,[4,Hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){a.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(i,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e=Pl,[4,Hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Sf(f),p,d,h)}function Lp(t,e){return function(t,e){var n=this,r=new Fs;return t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return n=Xl,[4,Kh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Sf(t),e)}function Mp(t,e,n){var r=n.docs.get(e._key),i=new Rp(t);return new cp(t,i,e._key,r,new up(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,o.__extends)(e,t),e.prototype.get=function(e){var n=this,r=Np(e,this._firestore),i=new Rp(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new cp(n._firestore,i,r._key,t._document,new up(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Uf(t)}return t.prototype.get=function(t){var e=this,n=Np(t,this._firestore),r=new Ap(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Xr();var i=t[0];if(i.isFoundDocument())return new op(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new op(e._firestore,r,n._key,null,n.converter);throw Xr()}))},t.prototype.set=function(t,e,n){var r=Np(t,this._firestore),i=kp(r.converter,e,n),o=qf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Np(t,this._firestore);return o="string"==typeof(e=(0,a.getModularInstance)(e))||e instanceof xf?$f(this._dataReader,"Transaction.update",s._key,e,n,r):Gf(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Np(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){if("undefined"==typeof Uint8Array)throw new Hr(Kr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Up(){if("undefined"==typeof atob)throw new Hr(Kr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var qp=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Up(),new t(Nf.fromBase64String(e))},t.fromUint8Array=function(e){return jp(),new t(Nf.fromUint8Array(e))},t.prototype.toBase64=function(){return Up(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return jp(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Vp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Af(t=cf(t,Tf));var n=Sf(t),r=t._freezeSettings(),i=new xh;return kf(n,i,new kh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Af(t=cf(t,Tf));var e=Sf(t),n=t._freezeSettings(),r=new xh;return kf(e,r,new Ah(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Hr(Kr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Fs;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,o.__awaiter)(e,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return qs.yt()?(e=t+"main",[4,qs.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Xu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Bp=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof $h||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Qr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=cf(t,ff))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Qr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,u;if("string"==typeof r.mockUserToken)s=r.mockUserToken,u=Ac.MOCK_USER;else{s=(0,a.createMockUserToken)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Hr(Kr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ac(c)}t._credentials=new Jh(new Yh(s,u))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,o.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,qh(t)];case 1:return e=r.sent(),[4,Bh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Zr(t);return e.Or.delete(0),tl(e)}(n))]}}))}))}))}(Sf(cf(this._delegate,Tf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,o.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,qh(t)];case 1:return e=r.sent(),[4,Bh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return(e=Zr(t)).Or.add(0),[4,el(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Sf(cf(this._delegate,Tf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&of("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Fs;return t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(e,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return e=rh,[4,Kh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Sf(cf(this._delegate,Tf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Rh(e);return t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Zr(t).Gr.add(e),e.next()},[4,Hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Zr(t).Gr.delete(e)},[4,Hh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Sf(t=cf(t,Tf)),wf(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Hr(Kr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new rd(this,gf(this._delegate,t))}catch(t){throw Qp(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new $p(this,yf(this._delegate,t))}catch(t){throw Qp(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new td(this,function(t,e){if(t=cf(t,ff),nf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new df(t,null,function(t){return new lo(hi.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Qp(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Fs;return t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Uh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Dh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Sf(t),(function(n){return e(new Fp(t,n))}))}(this._delegate,(function(n){return t(new Wp(e,n))}))},t.prototype.batch=function(){var t=this;return Sf(this._delegate),new zp(new xp(this._delegate,(function(e){return Lp(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Hr(Kr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Hr(Kr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Kp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,o.__extends)(e,t),e.prototype.convertBytes=function(t){return new qp(new Nf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return $p.eu(e,this.firestore,null)},e}(Cp);function Hp(t){var e;e=t,Wr.setLogLevel(e)}var Wp=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Kp(t)}return t.prototype.get=function(t){var e=this,n=id(t);return this._delegate.get(n).then((function(t){return new Jp(e._firestore,new cp(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=id(t);return n?(rf("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var s=id(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,o.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=id(t);return this._delegate.delete(e),this},t}(),zp=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=id(t);return n?(rf("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var s=id(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,o.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=id(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Gp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new lp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Zp(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Kp(e),n),i.set(n,o)),o},t}();Gp.su=new WeakMap;var $p=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Kp(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Hr(Kr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new pf(n._delegate,r,new Ci(e)))},t.eu=function(e,n,r){return new t(n,new pf(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new rd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new rd(this.firestore,gf(this._delegate,t))}catch(t){throw Qp(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,a.getModularInstance)(t))instanceof pf&&mf(this._delegate,t)},t.prototype.set=function(t,e){e=rf("DocumentReference.set",e);try{return e?Op(this._delegate,t,e):Op(this._delegate,t)}catch(t){throw Qp(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Pp(this._delegate,t):Pp.apply(void 0,(0,o.__spreadArray)([this._delegate,t,e],n))}catch(t){throw Qp(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Lp(cf((t=this._delegate).firestore,Tf),[new aa(t._key,Wo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Yp(e),i=Xp(e,(function(e){return new Jp(t.firestore,new cp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Dp(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cf(t,pf);var e=cf(t.firestore,Tf),n=Sf(e),r=new Rp(e);return function(t,e){var n=this,r=new Fs;return t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Zr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Hr(Kr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Cl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Vh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new cp(e,r,t._key,n,new up(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cf(t,pf);var e=cf(t.firestore,Tf);return Wh(Sf(e),t._key,{source:"server"}).then((function(n){return Mp(e,t,n)}))}(this._delegate):function(t){t=cf(t,pf);var e=cf(t.firestore,Tf);return Wh(Sf(e),t._key).then((function(n){return Mp(e,t,n)}))}(this._delegate)).then((function(t){return new Jp(e.firestore,new cp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Gp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Qp(t,e,n){return t.message=t.message.replace(e,n),t}function Yp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==(0,i.Z)(r)&&!wf(r))return r}return{}}function Xp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=wf(t[0])?t[0]:wf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Jp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new $p(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return pp(this._delegate,t._delegate)},t}(),Zp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,o.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Jp),td=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Kp(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,gp(this._delegate,function(t,e,n){var r=e,i=sp("where",t);return new yp(i,r,n)}(e,n,r)))}catch(e){throw Qp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,gp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=sp("orderBy",t);return new mp(r,n)}(e,n)))}catch(e){throw Qp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,gp(this._delegate,function(t){return lf("limit",t),new _p("limit",t,"F")}(e)))}catch(e){throw Qp(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,gp(this._delegate,function(t){return lf("limitToLast",t),new _p("limitToLast",t,"L")}(e)))}catch(e){throw Qp(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,gp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bp("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Qp(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,gp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bp("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Qp(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,gp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wp("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Qp(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,gp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wp("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Qp(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return _f(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cf(t,df);var e=cf(t.firestore,Tf),n=Sf(e),r=new Rp(e);return function(t,e){var n=this,r=new Fs;return t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fc(t,e,!0)];case 1:return u=o.sent(),r=new Hl(e,u.Bn),i=r._o(u.documents),a=r.applyChanges(i,!1),n.resolve(a.snapshot),[3,3];case 2:return s=o.sent(),u=Cl(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Vh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new hp(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cf(t,df);var e=cf(t.firestore,Tf),n=Sf(e),r=new Rp(e);return zh(n,t._query,{source:"server"}).then((function(n){return new hp(e,r,t,n)}))}(this._delegate):function(t){t=cf(t,df);var e=cf(t.firestore,Tf),n=Sf(e),r=new Rp(e);return dp(t._query),zh(n,t._query).then((function(n){return new hp(e,r,t,n)}))}(this._delegate)).then((function(t){return new nd(e.firestore,new hp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Yp(e),i=Xp(e,(function(e){return new nd(t.firestore,new hp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Dp(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Gp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),ed=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Zp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),nd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new td(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Zp(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new ed(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Zp(n._firestore,r))}))},t.prototype.isEqual=function(t){return pp(this._delegate,t._delegate)},t}(),rd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,o.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new $p(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new $p(this.firestore,void 0===t?yf(this._delegate):yf(this._delegate,t))}catch(t){throw Qp(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=cf(t.firestore,Tf),r=yf(t),i=kp(t.converter,e);return Lp(n,[qf(Uf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Wo.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new $p(e.firestore,t)}))},e.prototype.isEqual=function(t){return mf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Gp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(td);function id(t){return cf(t,pf)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var od=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(xf.bind.apply(xf,(0,o.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(pi.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,a.getModularInstance)(t))instanceof xf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),ad=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Kf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Vf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hf("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wf("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new zf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){return function(t,e){var n=Sf(t=cf(t,Tf)),r=new Ef;return function(t,e,n,r){var i=this,a=function(t,e){return function(t,e){return new Oh(t,e)}(function(t,e){if(t instanceof Uint8Array)return Nh(t,e);if(t instanceof ArrayBuffer)return Nh(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,zc(e));t.asyncQueue.enqueueAndForget((function(){return(0,o.__awaiter)(i,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e=Sh,[4,Kh(t)];case 1:return e.apply(void 0,[n.sent(),a,r]),[2]}}))}))}))}(n,t._databaseId,e,r),r}(this._delegate,t)}function ud(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return(0,o.__awaiter)(n,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=Zr(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Ke.getNamedQuery(t,e)}))},[4,Vh(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Sf(e=cf(e,Tf)),n).then((function(t){return t?new df(e,null,t.query):null}))).then((function(t){return t?new td(r,t):null}))}var cd=n(6037),ld={Firestore:Bp,GeoPoint:Of,Timestamp:oi,Blob:qp,Transaction:Wp,WriteBatch:zp,DocumentReference:$p,DocumentSnapshot:Jp,Query:td,QueryDocumentSnapshot:Zp,QuerySnapshot:nd,CollectionReference:rd,FieldPath:od,FieldValue:ad,setLogLevel:Hp,CACHE_SIZE_UNLIMITED:If};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hd(t){!function(t,e){t.INTERNAL.registerComponent(new cd.Component("firestore",(function(t){var n=t.getProvider("app").getImmediate();return e(n,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ld)))}(t,(function(t,e){return new Bp(t,new Tf(t,e),new Vp)})),t.registerVersion("@firebase/firestore","2.4.1")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fd(t){t.prototype.loadBundle=sd,t.prototype.namedQuery=ud}hd(r["default"]),fd(Bp);n(285),n(1637);var pd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dd=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return(0,o.__extends)(e,t),e}(Error);function vd(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function gd(t,e,n){var r=vd(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"===typeof s){if(!pd[s])return new dd("internal","internal");r=pd[s],i=s}var u=a.message;"string"===typeof u&&(i=u),o=a.details,void 0!==o&&(o=n.decode(o))}}catch(c){}return"ok"===r?null:new dd(r,i,o)}var yd=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t;return(0,o.__generator)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=e.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}(),md="type.googleapis.com/google.protobuf.Int64Value",_d="type.googleapis.com/google.protobuf.UInt64Value";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var wd=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===(0,i.Z)(t))return bd(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case md:case _d:var n=Number(t["value"]);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===(0,i.Z)(t)?bd(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new dd("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}var Id=function(){function t(t,e,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new wd,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new yd(e,n),this.cancelAllRequests=new Promise((function(t){a.deleteService=function(){return t()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(u){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return n+"/"+e+"/"+this.region+"/"+t}return null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:r=o.sent(),null!==r&&(n["X-Firebase-AppCheck"]=r),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=o.sent(),[3,5];case 4:return o.sent(),[2,{status:0,json:null}];case 5:a=null,o.label=6;case 6:return o.trys.push([6,8,,9]),[4,i.json()];case 7:return a=o.sent(),[3,9];case 8:return o.sent(),[3,9];case 9:return[2,{status:i.status,json:a}]}}))}))},t.prototype.getAppCheckToken=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return e=n.sent(),[2,e.token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,h,f,p,d,v;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},a={},[4,this.contextProvider.getContext()];case 1:return s=o.sent(),s.authToken&&(a["Authorization"]="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,c=Ed(u),l=c.timer,h=c.promise,[4,Promise.race([Td(l,this.postJSON(r,i,a)),h,Td(l,this.cancelAllRequests)])];case 2:if(f=o.sent(),!f)throw new dd("cancelled","Firebase Functions instance was deleted.");if(p=gd(f.status,f.json,this.serializer),p)throw p;if(!f.json)throw new dd("internal","Response is not valid JSON object.");if(d=f.json.data,"undefined"===typeof d&&(d=f.json.result),"undefined"===typeof d)throw new dd("internal","Response is missing data field.");return v=this.serializer.decode(d),[2,{data:v}]}}))}))},t}();function Td(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sd="functions";function Cd(t,e){var n={Functions:Id};function r(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new Id(i,o,s,a,r,e)}t.INTERNAL.registerComponent(new cd.Component(Sd,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var kd="@firebase/functions",Ad="0.6.16";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Cd(r["default"],fetch.bind(self)),r["default"].registerVersion(kd,Ad);n(2481),n(9254),n(6755),n(6373);var xd,Nd=n(6225),Rd="@firebase/installations",Od="0.4.32",Pd=1e4,Dd="w:"+Od,Ld="FIS_v2",Md="https://firebaseinstallations.googleapis.com/v1",Fd=36e5,jd="installations",Ud="Installations",qd=(xd={},xd["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',xd["not-registered"]="Firebase Installation is not registered.",xd["installation-not-found"]="Firebase Installation not found.",xd["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',xd["app-offline"]="Could not process request. Application offline.",xd["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",xd),Vd=new a.ErrorFactory(jd,Ud,qd);function Bd(t){return t instanceof a.FirebaseError&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){var e=t.projectId;return Md+"/projects/"+e+"/installations"}function Hd(t){return{token:t.token,requestStatus:2,expiresIn:Qd(t.expiresIn),creationTime:Date.now()}}function Wd(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Vd.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function zd(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Gd(t,e){var n=e.refreshToken,r=zd(t);return r.append("Authorization",Yd(n)),r}function $d(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Qd(t){return Number(t.replace("s","000"))}function Yd(t){return Ld+" "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e){var n=e.fid;return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,r,i,a,s,u,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e=Kd(t),r=zd(t),i={fid:n,authVersion:Ld,appId:t.appId,sdkVersion:Dd},a={method:"POST",headers:r,body:JSON.stringify(i)},[4,$d((function(){return fetch(e,a)}))];case 1:return s=o.sent(),s.ok?[4,s.json()]:[3,3];case 2:return u=o.sent(),c={fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Hd(u.authToken)},[2,c];case 3:return[4,Wd("Create Installation",s)];case 4:throw o.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){var e=btoa(String.fromCharCode.apply(String,(0,o.__spreadArray)([],(0,o.__read)(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tv=/^[cdef][\w-]{21}$/,ev="";function nv(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=rv(t);return tv.test(n)?n:ev}catch(qf){return ev}}function rv(t){var e=Zd(t);return e.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ov=new Map;function av(t,e){var n=iv(t);cv(n,e),lv(n,e)}function sv(t,e){fv();var n=iv(t),r=ov.get(n);r||(r=new Set,ov.set(n,r)),r.add(e)}function uv(t,e){var n=iv(t),r=ov.get(n);r&&(r.delete(e),0===r.size&&ov.delete(n),pv())}function cv(t,e){var n,r,i=ov.get(t);if(i)try{for(var a=(0,o.__values)(i),s=a.next();!s.done;s=a.next()){var u=s.value;u(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function lv(t,e){var n=fv();n&&n.postMessage({key:t,fid:e}),pv()}var hv=null;function fv(){return!hv&&"BroadcastChannel"in self&&(hv=new BroadcastChannel("[Firebase] FID Change"),hv.onmessage=function(t){cv(t.data.key,t.data.fid)}),hv}function pv(){0===ov.size&&hv&&(hv.close(),hv=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dv,vv="firebase-installations-database",gv=1,yv="firebase-installations-store",mv=null;function _v(){return mv||(mv=(0,Nd.openDb)(vv,gv,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(yv)}}))),mv}function bv(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=iv(t),[4,_v()];case 1:return r=o.sent(),i=r.transaction(yv,"readwrite"),a=i.objectStore(yv),[4,a.get(n)];case 2:return s=o.sent(),[4,a.put(e,n)];case 3:return o.sent(),[4,i.complete];case 4:return o.sent(),s&&s.fid===e.fid||av(t,e.fid),[2,e]}}))}))}function wv(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return e=iv(t),[4,_v()];case 1:return n=i.sent(),r=n.transaction(yv,"readwrite"),[4,r.objectStore(yv).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ev(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=iv(t),[4,_v()];case 1:return r=o.sent(),i=r.transaction(yv,"readwrite"),a=i.objectStore(yv),[4,a.get(n)];case 2:return s=o.sent(),u=e(s),void 0!==u?[3,4]:[4,a.delete(n)];case 3:return o.sent(),[3,6];case 4:return[4,a.put(u,n)];case 5:o.sent(),o.label=6;case 6:return[4,i.complete];case 7:return o.sent(),!u||s&&s.fid===u.fid||av(t,u.fid),[2,u]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,Ev(t,(function(n){var r=Tv(n),i=Sv(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return n=i.sent(),n.fid!==ev?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Tv(t){var e=t||{fid:nv(),registrationStatus:0};return xv(e)}function Sv(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(Vd.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Cv(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:kv(t)}:{installationEntry:e}}function Cv(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Xd(t,e)];case 1:return n=i.sent(),[2,bv(t,n)];case 2:return r=i.sent(),Bd(r)&&409===r.customData.serverCode?[4,wv(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,bv(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}function kv(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,Av(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Jd(100)];case 3:return o.sent(),[4,Av(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Iv(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Av(t){return Ev(t,(function(t){if(!t)throw Vd.create("installation-not-found");return xv(t)}))}function xv(t){return Nv(t)?{fid:t.fid,registrationStatus:0}:t}function Nv(t){return 1===t.registrationStatus&&t.registrationTime+Pd<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,i,a,s,u,c,l,h;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=Ov(n,e),i=Gd(n,e),a=r.getImmediate({optional:!0}),a&&i.append("x-firebase-client",a.getPlatformInfoString()),s={installation:{sdkVersion:Dd}},u={method:"POST",headers:i,body:JSON.stringify(s)},[4,$d((function(){return fetch(t,u)}))];case 1:return c=o.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=o.sent(),h=Hd(l),[2,h];case 3:return[4,Wd("Generate Auth Token",c)];case 4:throw o.sent()}}))}))}function Ov(t,e){var n=e.fid;return Kd(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e){return void 0===e&&(e=!1),(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,Ev(t.appConfig,(function(r){if(!Fv(r))throw Vd.create("not-registered");var i=r.authToken;if(!e&&jv(i))return r;if(1===i.requestStatus)return n=Dv(t,e),r;if(!navigator.onLine)throw Vd.create("app-offline");var o=qv(r);return n=Mv(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return a=o.sent(),[3,4];case 3:a=r.authToken,o.label=4;case 4:return i=a,[2,i]}}))}))}function Dv(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,Lv(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Jd(100)];case 3:return i.sent(),[4,Lv(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,0===r.requestStatus?[2,Pv(t,e)]:[2,r]}}))}))}function Lv(t){return Ev(t,(function(t){if(!Fv(t))throw Vd.create("not-registered");var e=t.authToken;return Vv(e)?(0,o.__assign)((0,o.__assign)({},t),{authToken:{requestStatus:0}}):t}))}function Mv(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,Rv(t,e)];case 1:return n=a.sent(),i=(0,o.__assign)((0,o.__assign)({},e),{authToken:n}),[4,bv(t.appConfig,i)];case 2:return a.sent(),[2,n];case 3:return r=a.sent(),!Bd(r)||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,wv(t.appConfig)];case 4:return a.sent(),[3,7];case 5:return i=(0,o.__assign)((0,o.__assign)({},e),{authToken:{requestStatus:0}}),[4,bv(t.appConfig,i)];case 6:a.sent(),a.label=7;case 7:throw r;case 8:return[2]}}))}))}function Fv(t){return void 0!==t&&2===t.registrationStatus}function jv(t){return 2===t.requestStatus&&!Uv(t)}function Uv(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Fd}function qv(t){var e={requestStatus:1,requestTime:Date.now()};return(0,o.__assign)((0,o.__assign)({},t),{authToken:e})}function Vv(t){return 1===t.requestStatus&&t.requestTime+Pd<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,Iv(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):Pv(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){return void 0===e&&(e=!1),(0,o.__awaiter)(this,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,Hv(t.appConfig)];case 1:return r.sent(),[4,Pv(t,e)];case 2:return n=r.sent(),[2,n.token]}}))}))}function Hv(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,Iv(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=zv(t,e),r=Gd(t,e),i={method:"DELETE",headers:r},[4,$d((function(){return fetch(n,i)}))];case 1:return a=o.sent(),a.ok?[3,3]:[4,Wd("Delete Installation",a)];case 2:throw o.sent();case 3:return[2]}}))}))}function zv(t,e){var n=e.fid;return Kd(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return e=t.appConfig,[4,Ev(e,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(n=r.sent(),!n)return[3,6];if(1!==n.registrationStatus)return[3,2];throw Vd.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Vd.create("app-offline");case 3:return[4,Wv(e,n)];case 4:return r.sent(),[4,wv(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t,e){var n=t.appConfig;return sv(n,e),function(){uv(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){var e,n;if(!t||!t.options)throw Yv("App Configuration");if(!t.name)throw Yv("App Name");var r=["projectId","apiKey","appId"];try{for(var i=(0,o.__values)(r),a=i.next();!a.done;a=i.next()){var s=a.value;if(!t.options[s])throw Yv(s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yv(t){return Vd.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){var e="installations";t.INTERNAL.registerComponent(new cd.Component(e,(function(t){var e=t.getProvider("app").getImmediate(),n=Qv(e),r=t.getProvider("platform-logger"),i={appConfig:n,platformLoggerProvider:r},o={app:e,getId:function(){return Bv(i)},getToken:function(t){return Kv(i,t)},delete:function(){return Gv(i)},onIdChange:function(t){return $v(i,t)}};return o}),"PUBLIC")),t.registerVersion(Rd,Od)}Xv(r["default"]);var Jv,Zv=(dv={},dv["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dv["only-available-in-window"]="This method is available in a Window context.",dv["only-available-in-sw"]="This method is available in a service worker context.",dv["permission-default"]="The notification permission was not granted and dismissed instead.",dv["permission-blocked"]="The notification permission was not granted and blocked instead.",dv["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",dv["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",dv["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",dv["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",dv["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",dv["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",dv["token-update-no-token"]="FCM returned no token when updating the user to push.",dv["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",dv["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",dv["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",dv["invalid-vapid-key"]="The public VAPID key must be a string.",dv["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",dv),tg=new a.ErrorFactory("messaging","Messaging",Zv),eg="/firebase-messaging-sw.js",ng="/firebase-cloud-messaging-push-scope",rg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ig="https://fcmregistrations.googleapis.com/v1",og="FCM_MSG",ag="FirebaseMessaging: ",sg="google.c.a.e",ug="google.c.a.c_id",cg="google.c.a.ts",lg="google.c.a.c_l",hg=1e3,fg=3e3;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pg(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,(0,o.__spreadArray)([],(0,o.__read)(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dg(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t["PUSH_RECEIVED"]="push-received",t["NOTIFICATION_CLICKED"]="notification-clicked"})(Jv||(Jv={}));var vg="fcm_token_details_db",gg=5,yg="fcm_token_object_Store";function mg(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,a=this;return(0,o.__generator)(this,(function(s){switch(s.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=s.sent(),n=e.map((function(t){return t.name})),!n.includes(vg))return[2,null];s.label=2;case 2:return r=null,[4,(0,Nd.openDb)(vg,gg,(function(e){return(0,o.__awaiter)(a,void 0,void 0,(function(){var n,i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(yg)?(n=e.transaction.objectStore(yg),[4,n.index("fcmSenderId").get(t)]):[2];case 1:return i=o.sent(),[4,n.clear()];case 2:if(o.sent(),!i)return[2];if(2===e.oldVersion){if(a=i,!a.auth||!a.p256dh||!a.endpoint)return[2];r={token:a.fcmToken,createTime:null!==(s=a.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"===typeof a.vapidKey?a.vapidKey:pg(a.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(a=i,r={token:a.fcmToken,createTime:a.createTime,subscriptionOptions:{auth:pg(a.auth),p256dh:pg(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:pg(a.vapidKey)}});return[2]}}))}))}))];case 3:return i=s.sent(),i.close(),[4,(0,Nd.deleteDb)(vg)];case 4:return s.sent(),[4,(0,Nd.deleteDb)("fcm_vapid_details_db")];case 5:return s.sent(),[4,(0,Nd.deleteDb)("undefined")];case 6:return s.sent(),[2,_g(r)?r:null]}}))}))}function _g(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bg="firebase-messaging-database",wg=1,Eg="firebase-messaging-store",Ig=null;function Tg(){return Ig||(Ig=(0,Nd.openDb)(bg,wg,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Eg)}}))),Ig}function Sg(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e=Ag(t),[4,Tg()];case 1:return n=o.sent(),[4,n.transaction(Eg).objectStore(Eg).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,mg(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,Cg(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}}))}))}function Cg(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=Ag(t),[4,Tg()];case 1:return r=o.sent(),i=r.transaction(Eg,"readwrite"),[4,i.objectStore(Eg).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function kg(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return e=Ag(t),[4,Tg()];case 1:return n=i.sent(),r=n.transaction(Eg,"readwrite"),[4,r.objectStore(Eg).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ag(t){var e=t.appConfig;return e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,Pg(t)];case 1:n=o.sent(),r=Dg(e),i={method:"POST",headers:n,body:JSON.stringify(r)},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(Og(t.appConfig),i)];case 3:return s=o.sent(),[4,s.json()];case 4:return a=o.sent(),[3,6];case 5:throw u=o.sent(),tg.create("token-subscribe-failed",{errorInfo:u});case 6:if(a.error)throw c=a.error.message,tg.create("token-subscribe-failed",{errorInfo:c});if(!a.token)throw tg.create("token-subscribe-no-token");return[2,a.token]}}))}))}function Ng(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,Pg(t)];case 1:n=o.sent(),r=Dg(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(Og(t.appConfig)+"/"+e.token,i)];case 3:return s=o.sent(),[4,s.json()];case 4:return a=o.sent(),[3,6];case 5:throw u=o.sent(),tg.create("token-update-failed",{errorInfo:u});case 6:if(a.error)throw c=a.error.message,tg.create("token-update-failed",{errorInfo:c});if(!a.token)throw tg.create("token-update-no-token");return[2,a.token]}}))}))}function Rg(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,Pg(t)];case 1:n=o.sent(),r={method:"DELETE",headers:n},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(Og(t.appConfig)+"/"+e,r)];case 3:return i=o.sent(),[4,i.json()];case 4:if(a=o.sent(),a.error)throw s=a.error.message,tg.create("token-unsubscribe-failed",{errorInfo:s});return[3,6];case 5:throw u=o.sent(),tg.create("token-unsubscribe-failed",{errorInfo:u});case 6:return[2]}}))}))}function Og(t){var e=t.projectId;return ig+"/projects/"+e+"/registrations"}function Pg(t){var e=t.appConfig,n=t.installations;return(0,o.__awaiter)(this,void 0,void 0,(function(){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function Dg(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==rg&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lg=6048e5;function Mg(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if("granted"!==Notification.permission)throw tg.create("permission-blocked");return[4,qg(e,n)];case 1:return r=o.sent(),[4,Sg(t)];case 2:return i=o.sent(),a={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:pg(r.getKey("auth")),p256dh:pg(r.getKey("p256dh"))},i?[3,3]:[2,Ug(t,a)];case 3:if(Vg(i.subscriptionOptions,a))return[3,8];o.label=4;case 4:return o.trys.push([4,6,,7]),[4,Rg(t,i.token)];case 5:return o.sent(),[3,7];case 6:return s=o.sent(),console.warn(s),[3,7];case 7:return[2,Ug(t,a)];case 8:return Date.now()>=i.createTime+Lg?[2,jg({token:i.token,createTime:Date.now(),subscriptionOptions:a},t,e)]:[2,i.token];case 9:return[2]}}))}))}function Fg(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,Sg(t)];case 1:return n=i.sent(),n?[4,Rg(t,n.token)]:[3,4];case 2:return i.sent(),[4,kg(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}}))}))}function jg(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a;return(0,o.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,Ng(e,t)];case 1:return r=s.sent(),i=(0,o.__assign)((0,o.__assign)({},t),{token:r,createTime:Date.now()}),[4,Cg(e,i)];case 2:return s.sent(),[2,r];case 3:return a=s.sent(),[4,Fg(e,n)];case 4:throw s.sent(),a;case 5:return[2]}}))}))}function Ug(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,xg(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Cg(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function qg(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dg(e)})]}}))}))}function Vg(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return Kg(e,t),Hg(e,t),Wg(e,t),e}function Kg(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function Hg(t,e){e.data&&(t.data=e.data)}function Wg(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){return"object"===(0,i.Z)(t)&&!!t&&ug in t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $g=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw tg.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return(0,o.__awaiter)(this,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Sg(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:rg,r.label=2;case 2:return[2,Mg(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Fg(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw tg.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw tg.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw tg.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw tg.create("only-available-in-window")},t.prototype.onMessage=function(){throw tg.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw tg.create("only-available-in-window")},t.prototype.onPush=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e=Yg(t),e?[4,ty()]:(console.debug(ag+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return n=o.sent(),Jg(n)?[2,Zg(n,e)]:(r=!1,e.notification?[4,ey(Qg(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=Bg(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Gg(hg)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r=t.newSubscription,r?[3,2]:[4,Fg(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,Sg(this.firebaseDependencies)];case 3:return i=o.sent(),[4,Fg(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,Mg(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===i||void 0===i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:rg)];case 5:return o.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[og],r?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),i=ny(r),i?(a=new URL(i,self.location.href),s=new URL(self.location.origin),a.host!==s.host?[2]:[4,Xg(a)]):[2]):[2];case 1:return u=o.sent(),u?[3,4]:[4,self.clients.openWindow(i)];case 2:return u=o.sent(),[4,Gg(fg)];case 3:return o.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=o.sent(),o.label=6;case 6:return u?(r.messageType=Jv.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,u.postMessage(r)]):[2]}}))}))},t}();function Qg(t){var e,n=(0,o.__assign)({},t.notification);return n.data=(e={},e[og]=t,e),n}function Yg(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}function Xg(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,a,s,u;return(0,o.__generator)(this,(function(c){switch(c.label){case 0:return[4,ty()];case 1:e=c.sent();try{for(n=(0,o.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,a=new URL(i.url,self.location.href),t.host===a.host)return[2,i]}catch(l){s={error:l}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function Jg(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}function Zg(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Jv.PUSH_RECEIVED;try{for(var i=(0,o.__values)(t),a=i.next();!a.done;a=i.next()){var s=a.value;s.postMessage(e)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ty(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ey(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}function ny(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;return i||(zg(t.data)?self.location.origin:null)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ry=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return e=t.data,e.isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Jv.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(oy(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),n=e.data,zg(n)&&"1"===n[sg]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw tg.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Mg(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=rg),[2]}))}))},t.prototype.updateSwReg=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw tg.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(eg,{scope:ng})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),tg.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Fg(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t;return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if(t=e.sent(),"granted"===t)return[2];throw"denied"===t?tg.create("permission-blocked"):tg.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw tg.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw tg.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw tg.create("invalid-sw-registration");if(this.swRegistration)throw tg.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw tg.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw tg.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return n=iy(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r=i.sent(),r.logEvent(n,{message_id:e[ug],message_name:e[lg],message_time:e[cg],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function iy(t){switch(t){case Jv.NOTIFICATION_CLICKED:return"notification_open";case Jv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function oy(t){return delete t.messageType,delete t.isFirebaseMessaging,t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){var e,n;if(!t||!t.options)throw sy("App Configuration Object");if(!t.name)throw sy("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var a=(0,o.__values)(r),s=a.next();!s.done;s=a.next()){var u=s.value;if(!i[u])throw sy(u)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function sy(t){return tg.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uy="messaging";function cy(t){var e=t.getProvider("app").getImmediate(),n=ay(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!hy())throw tg.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new $g(o):new ry(o)}var ly={isSupported:hy};function hy(){return self&&"ServiceWorkerGlobalScope"in self?py():fy()}function fy(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function py(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}r["default"].INTERNAL.registerComponent(new cd.Component(uy,cy,"PUBLIC").setServiceProps(ly));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dy="firebasestorage.googleapis.com",vy="storageBucket",gy=12e4,yy=6e5,my=function(t){function e(n,r){var i=t.call(this,_y(n),"Firebase Storage: "+r+" ("+_y(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,o.__extends)(e,t),e.prototype._codeEquals=function(t){return _y(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(a.FirebaseError);function _y(t){return"storage/"+t}function by(){var t="An unknown error occurred, please check the error payload for server response.";return new my("unknown",t)}function wy(t){return new my("object-not-found","Object '"+t+"' does not exist.")}function Ey(t){return new my("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Iy(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new my("unauthenticated",t)}function Ty(){return new my("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Sy(t){return new my("unauthorized","User does not have permission to access '"+t+"'.")}function Cy(){return new my("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function ky(){return new my("canceled","User canceled the upload/download.")}function Ay(t){return new my("invalid-url","Invalid URL '"+t+"'.")}function xy(t){return new my("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Ny(){return new my("no-default-bucket","No default bucket found. Did you set the '"+vy+"' property when initializing the app?")}function Ry(){return new my("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Oy(){return new my("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Py(){return new my("no-download-url","The given file does not have any download URLs.")}function Dy(t){return new my("invalid-argument",t)}function Ly(){return new my("app-deleted","The Firebase app was deleted.")}function My(t){return new my("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fy(t,e){return new my("invalid-format","String does not match format '"+t+"': "+e)}function jy(t){throw new my("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){return atob(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qy={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Vy=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}();function By(t,e){switch(t){case qy.RAW:return new Vy(Ky(e));case qy.BASE64:case qy.BASE64URL:return new Vy(Wy(t,e));case qy.DATA_URL:return new Vy(Gy(e),$y(e))}throw by()}function Ky(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<t.length-1&&56320===(64512&t.charCodeAt(n+1));if(i){var o=r,a=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Hy(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Fy(qy.DATA_URL,"Malformed data URL.")}return Ky(e)}function Wy(t,e){switch(t){case qy.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var i=n?"-":"_";throw Fy(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case qy.BASE64URL:var o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a){i=o?"+":"/";throw Fy(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}var s;try{s=Uy(e)}catch(l){throw Fy(t,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}var zy=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Fy(qy.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=Qy(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}();function Gy(t){var e=new zy(t);return e.base64?Wy(qy.BASE64,e.rest):Hy(e.rest)}function $y(t){var e=new zy(t);return e.contentType}function Qy(t,e){var n=t.length>=e.length;return!!n&&t.substring(t.length-e.length)===e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yy,Xy={STATE_CHANGED:"state_changed"},Jy={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Zy(t){switch(t){case"running":case"pausing":case"canceling":return Jy.RUNNING;case"paused":return Jy.PAUSED;case"success":return Jy.SUCCESS;case"canceled":return Jy.CANCELED;case"error":return Jy.ERROR;default:return Jy.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["NO_ERROR"]=0]="NO_ERROR",t[t["NETWORK_ERROR"]=1]="NETWORK_ERROR",t[t["ABORT"]=2]="ABORT"})(Yy||(Yy={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tm=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Yy.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Yy.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Yy.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw jy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw jy("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw jy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw jy("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();function em(){return new tm}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nm=function(){function t(){}return t.prototype.createConnection=function(){return em()},t}(),rm=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw xy(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}var a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function c(t){t.path_=decodeURIComponent(t.path)}for(var l="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp("^https?://"+h+"/"+l+"/b/"+i+"/o"+f,"i"),d={bucket:1,path:3},v=n===dy?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp("^https?://"+v+"/"+i+"/"+g,"i"),m={bucket:1,path:2},_=[{regex:s,indices:u,postModify:o},{regex:p,indices:d,postModify:c},{regex:y,indices:m,postModify:c}],b=0;b<_.length;b++){var w=_[b],E=w.regex.exec(e);if(E){var I=E[w.indices.bucket],T=E[w.indices.path];T||(T=""),r=new t(I,T),w.postModify(r);break}}if(null==r)throw Ay(e);return r},t}(),im=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function om(t,e,n){var r=1,i=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function h(e){i=setTimeout((function(){i=null,t(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,o.__spreadArray)([null,t],e));else{var i,f=u()||a;if(f)l.call.apply(l,(0,o.__spreadArray)([null,t],e));else r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),h(i)}}var p=!1;function d(t){p||(p=!0,c||(null!==i?(t||(s=2),clearTimeout(i),h(0)):t||(s=1)))}return h(0),setTimeout((function(){a=!0,d(!0)}),n),d}function am(t){t(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){return void 0!==t}function um(t){return"function"===typeof t}function cm(t){return"object"===(0,i.Z)(t)&&!Array.isArray(t)}function lm(t){return"string"===typeof t||t instanceof String}function hm(t){return fm()&&t instanceof Blob}function fm(){return"undefined"!==typeof Blob}function pm(t,e,n,r){if(r<e)throw Dy("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Dy("Invalid value for '"+t+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){var n=e.match(/^(\w+):\/\/.+/),r=null===n||void 0===n?void 0:n[1],i=e;return null==r&&(i="https://"+e),i+"/v0"+t}function vm(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gm=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){if(n)e(!1,new ym(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===Yy.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new ym(a,r))}else{var s=r.getErrorCode()===Yy.ABORT;e(!1,new ym(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}function n(e,n){var r=t.resolve_,i=t.reject_,o=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());sm(a)?r(a):r()}catch(u){i(u)}else if(null!==o){var s=by();s.serverResponse=o.getResponseText(),t.errorCallback_?i(t.errorCallback_(o,s)):i(s)}else if(n.canceled){s=t.appDelete_?Ly():ky();i(s)}else{s=Cy();i(s)}}this.canceled_?n(!1,new ym(!1,null,!0)):this.backoffId_=om(e,n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&am(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=-1!==n.indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||i},t}(),ym=function(){function t(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}return t}();function mm(t,e){null!==e&&e.length>0&&(t["Authorization"]="Firebase "+e)}function _m(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}function bm(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wm(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}function Em(t,e,n,r,i,o){var a=vm(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return bm(u,e),mm(u,n),_m(u,o),wm(u,r),new gm(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Tm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Im();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(fm())return new Blob(t);throw new my("unsupported-environment","This browser doesn't seem to support creating Blobs")}function Sm(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cm=function(){function t(t,e){var n=0,r="";hm(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(hm(this.data_)){var r=this.data_,i=Sm(r,e,n);return null===i?null:new t(i)}var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(fm()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Tm.apply(null,r))}var i=e.map((function(t){return lm(t)?By(qy.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){var e;try{e=JSON.parse(t)}catch(n){return null}return cm(e)?e:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t){if(0===t.length)return null;var e=t.lastIndexOf("/");if(-1===e)return"";var n=t.slice(0,e);return n}function xm(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function Nm(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t,e){return e}var Om=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Rm}return t}(),Pm=null;function Dm(t){return!lm(t)||t.length<2?t:Nm(t)}function Lm(){if(Pm)return Pm;var t=[];function e(t,e){return Dm(e)}t.push(new Om("bucket")),t.push(new Om("generation")),t.push(new Om("metageneration")),t.push(new Om("name","fullPath",!0));var n=new Om("name");function r(t,e){return void 0!==e?Number(e):e}n.xform=e,t.push(n);var i=new Om("size");return i.xform=r,t.push(i),t.push(new Om("timeCreated")),t.push(new Om("updated")),t.push(new Om("md5Hash",null,!0)),t.push(new Om("cacheControl",null,!0)),t.push(new Om("contentDisposition",null,!0)),t.push(new Om("contentEncoding",null,!0)),t.push(new Om("contentLanguage",null,!0)),t.push(new Om("contentType",null,!0)),t.push(new Om("metadata","customMetadata",!0)),Pm=t,Pm}function Mm(t,e){function n(){var n=t["bucket"],r=t["fullPath"],i=new rm(n,r);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Fm(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return Mm(r,t),r}function jm(t,e,n){var r=km(e);if(null===r)return null;var i=r;return Fm(t,i,n)}function Um(t,e,n){var r=km(e);if(null===r)return null;if(!lm(r["downloadTokens"]))return null;var i=r["downloadTokens"];if(0===i.length)return null;var o=encodeURIComponent,a=i.split(","),s=a.map((function(e){var r=t["bucket"],i=t["fullPath"],a="/b/"+o(r)+"/o/"+o(i),s=dm(a,n),u=vm({alt:"media",token:e});return s+u}));return s[0]}function qm(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vm="prefixes",Bm="items";function Km(t,e,n){var r={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[Vm])for(var i=0,o=n[Vm];i<o.length;i++){var a=o[i],s=a.replace(/\/$/,""),u=t._makeStorageReference(new rm(e,s));r.prefixes.push(u)}if(n[Bm])for(var c=0,l=n[Bm];c<l.length;c++){var h=l[c];u=t._makeStorageReference(new rm(e,h["name"]));r.items.push(u)}return r}function Hm(t,e,n){var r=km(n);if(null===r)return null;var i=r;return Km(t,e,i)}var Wm=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){if(!t)throw by()}function Gm(t,e){function n(n,r){var i=jm(t,r,e);return zm(null!==i),i}return n}function $m(t,e){function n(n,r){var i=Hm(t,e,r);return zm(null!==i),i}return n}function Qm(t,e){function n(n,r){var i=jm(t,r,e);return zm(null!==i),Um(i,r,t.host)}return n}function Ym(t){function e(e,n){var r;return r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?Ty():Iy():402===e.getStatus()?Ey(t.bucket):403===e.getStatus()?Sy(t.path):n,r.serverResponse=n.serverResponse,r}return e}function Xm(t){var e=Ym(t);function n(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=wy(t.path)),i.serverResponse=r.serverResponse,i}return n}function Jm(t,e,n){var r=e.fullServerUrl(),i=dm(r,t.host),o="GET",a=t.maxOperationRetryTime,s=new Wm(i,o,Gm(t,n),a);return s.errorHandler=Xm(e),s}function Zm(t,e,n,r,i){var o={};e.isRoot?o["prefix"]="":o["prefix"]=e.path+"/",n&&n.length>0&&(o["delimiter"]=n),r&&(o["pageToken"]=r),i&&(o["maxResults"]=i);var a=e.bucketOnlyServerUrl(),s=dm(a,t.host),u="GET",c=t.maxOperationRetryTime,l=new Wm(s,u,$m(t,e.bucket),c);return l.urlParams=o,l.errorHandler=Ym(e),l}function t_(t,e,n){var r=e.fullServerUrl(),i=dm(r,t.host),o="GET",a=t.maxOperationRetryTime,s=new Wm(i,o,Qm(t,n),a);return s.errorHandler=Xm(e),s}function e_(t,e,n,r){var i=e.fullServerUrl(),o=dm(i,t.host),a="PATCH",s=qm(n,r),u={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,l=new Wm(o,a,Gm(t,r),c);return l.headers=u,l.body=s,l.errorHandler=Xm(e),l}function n_(t,e){var n=e.fullServerUrl(),r=dm(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(t,e){}var s=new Wm(r,i,a,o);return s.successCodes=[200,204],s.errorHandler=Xm(e),s}function r_(t,e){return t&&t["contentType"]||e&&e.type()||"application/octet-stream"}function i_(t,e,n){var r=Object.assign({},n);return r["fullPath"]=t.path,r["size"]=e.size(),r["contentType"]||(r["contentType"]=r_(null,e)),r}function o_(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}var u=s();a["Content-Type"]="multipart/related; boundary="+u;var c=i_(e,r,i),l=qm(c,n),h="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c["contentType"]+"\r\n\r\n",f="\r\n--"+u+"--",p=Cm.getBlob(h,r,f);if(null===p)throw Ry();var d={name:c["fullPath"]},v=dm(o,t.host),g="POST",y=t.maxUploadRetryTime,m=new Wm(v,g,Gm(t,n),y);return m.urlParams=d,m.headers=a,m.body=p.uploadData(),m.errorHandler=Ym(e),m}var a_=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}();function s_(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){zm(!1)}var r=e||["active"];return zm(!!n&&-1!==r.indexOf(n)),n}function u_(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=i_(e,r,i),s={name:a["fullPath"]},u=dm(o,t.host),c="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a["contentType"],"Content-Type":"application/json; charset=utf-8"},h=qm(a,n),f=t.maxUploadRetryTime;function p(t){var e;s_(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){zm(!1)}return zm(lm(e)),e}var d=new Wm(u,c,p,f);return d.urlParams=s,d.headers=l,d.body=h,d.errorHandler=Ym(e),d}function c_(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(t){var e=s_(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){zm(!1)}n||zm(!1);var i=Number(n);return zm(!isNaN(i)),new a_(i,r.size(),"final"===e)}var a="POST",s=t.maxUploadRetryTime,u=new Wm(n,a,o,s);return u.headers=i,u.errorHandler=Ym(e),u}var l_=262144;function h_(t,e,n,r,i,o,a,s){var u=new a_(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw Oy();var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p=l===c?"upload, finalize":"upload",d={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":""+u.current},v=r.slice(h,f);if(null===v)throw Ry();function g(t,n){var i,a=s_(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Gm(e,o)(t,n):null,new a_(s,c,"final"===a,i)}var y="POST",m=e.maxUploadRetryTime,_=new Wm(n,y,g,m);return _.headers=d,_.body=v.uploadData(),_.progressCallback=s||null,_.errorHandler=Ym(t),_}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f_=function(){function t(t,e,n){var r=um(t)||null!=e||null!=n;if(r)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d_=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Lm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused");break}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=u_(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=c_(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=l_*this._chunkMultiplier,n=new a_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=h_(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){var t=l_*this._chunkMultiplier;t<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=Jm(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=o_(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=ky(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Zy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new f_(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise();var e=this._observers.slice();e.forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Zy(this._state)){case Jy.SUCCESS:p_(this._resolve.bind(null,this.snapshot))();break;case Jy.CANCELED:case Jy.ERROR:var e=this._reject;p_(e.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){var e=Zy(this._state);switch(e){case Jy.RUNNING:case Jy.PAUSED:t.next&&p_(t.next.bind(t,this.snapshot))();break;case Jy.SUCCESS:t.complete&&p_(t.complete.bind(t))();break;case Jy.CANCELED:case Jy.ERROR:t.error&&p_(t.error.bind(t,this._error))();break;default:t.error&&p_(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),v_=function(){function t(t,e){this._service=t,this._location=e instanceof rm?e:rm.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new rm(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Nm(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Am(this._location.path);if(null===e)return null;var n=new rm(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw My(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new d_(t,new Cm(e),n)}function y_(t){var e={prefixes:[],items:[]};return m_(t,e).then((function(){return e}))}function m_(t,e,n){return(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r={pageToken:n},[4,__(t,r)];case 1:return i=o.sent(),(a=e.prefixes).push.apply(a,i.prefixes),(s=e.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,m_(t,e,i.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function __(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&pm("options.maxResults",1,1e3,e.maxResults),n=e||{},r=Zm(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function b_(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Jm(t.storage,t._location,Lm()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function w_(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=e_(t.storage,t._location,e,Lm()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function E_(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=t_(t.storage,t._location,Lm()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw Py();return t}))]}}))}))}function I_(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=n_(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function T_(t,e){var n=xm(t._location.path,e),r=new rm(t._location.bucket,n);return new v_(t.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){return/^[A-Za-z]+:\/\//.test(t)}function C_(t,e){return new v_(t,e)}function k_(t,e){if(t instanceof R_){var n=t;if(null==n._bucket)throw Ny();var r=new v_(n,n._bucket);return null!=e?k_(r,e):r}return void 0!==e?T_(t,e):t}function A_(t,e){if(e&&S_(e)){if(t instanceof R_)return C_(t,e);throw Dy("To use ref(service, url), the first argument must be a Storage instance.")}return k_(t,e)}function x_(t,e){var n=null===e||void 0===e?void 0:e[vy];return null==n?null:rm.makeFromBucketSpec(n,t)}function N_(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"===typeof i?i:(0,a.createMockUserToken)(i,t.app.options.projectId))}var R_=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=dy,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gy,this._maxUploadRetryTime=yy,this._requests=new Set,this._bucket=null!=i?rm.makeFromBucketSpec(i,this._host):x_(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=rm.makeFromBucketSpec(this._url,t):this._bucket=x_(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){pm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){pm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(e=n.sent(),null!==e)return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return e=n.sent(),[2,e.token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new v_(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new im(Ly());var i=Em(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e,n){return t=(0,a.getModularInstance)(t),g_(t,e,n)}function P_(t){return t=(0,a.getModularInstance)(t),b_(t)}function D_(t,e){return t=(0,a.getModularInstance)(t),w_(t,e)}function L_(t,e){return t=(0,a.getModularInstance)(t),__(t,e)}function M_(t){return t=(0,a.getModularInstance)(t),y_(t)}function F_(t){return t=(0,a.getModularInstance)(t),E_(t)}function j_(t){return t=(0,a.getModularInstance)(t),I_(t)}function U_(t,e){return t=(0,a.getModularInstance)(t),A_(t,e)}function q_(t,e){return T_(t,e)}function V_(t,e,n,r){void 0===r&&(r={}),N_(t,e,n,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B_=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),K_=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new B_(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new B_(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new B_(t,i,i._ref))}:{next:e.next?function(t){return e.next(new B_(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),H_=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new W_(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new W_(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),W_=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=q_(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new K_(O_(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=qy.RAW),this._throwIfRoot("putString");var r=By(e,t),i=(0,o.__assign)({},n);return null==i["contentType"]&&null!=r.contentType&&(i["contentType"]=r.contentType),new K_(new d_(this._delegate,new Cm(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return M_(this._delegate).then((function(e){return new H_(e,t.storage)}))},t.prototype.list=function(t){var e=this;return L_(this._delegate,t||void 0).then((function(t){return new H_(t,e.storage)}))},t.prototype.getMetadata=function(){return P_(this._delegate)},t.prototype.updateMetadata=function(t){return D_(this._delegate,t)},t.prototype.getDownloadURL=function(){return F_(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),j_(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw My(t)},t}(),z_=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(S_(t))throw Dy("ref() expected a child path but got a URL, use refFromURL instead.");return new W_(U_(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!S_(t))throw Dy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rm.makeFromUrl(t,this._delegate.host)}catch(e){throw Dy("refFromUrl() expected a valid full URL but got an invalid one.")}return new W_(U_(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),V_(this._delegate,t,e,n)},t}(),G_="@firebase/storage",$_="0.7.1",Q_="storage";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal"),s=new z_(i,new R_(i,o,a,new nm,n,r["default"].SDK_VERSION));return s}function X_(t){var e={TaskState:Jy,TaskEvent:Xy,StringFormat:qy,Storage:R_,Reference:W_};t.INTERNAL.registerComponent(new cd.Component(Q_,Y_,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(G_,$_)}X_(r["default"]);var J_,Z_,tb,eb="@firebase/performance",nb="0.4.18",rb=nb,ib="FB-PERF-TRACE-START",ob="FB-PERF-TRACE-STOP",ab="FB-PERF-TRACE-MEASURE",sb="_wt_",ub="_fp",cb="_fcp",lb="_fid",hb="@firebase/performance/config",fb="@firebase/performance/configexpire",pb="performance",db="Performance",vb=(J_={},J_["trace started"]="Trace {$traceName} was started before.",J_["trace stopped"]="Trace {$traceName} is not running.",J_["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",J_["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",J_["no window"]="Window is not available.",J_["no app id"]="App id is not available.",J_["no project id"]="Project id is not available.",J_["no api key"]="Api key is not available.",J_["invalid cc log"]="Attempted to queue invalid cc event",J_["FB not default"]="Performance can only start when Firebase app instance is the default one.",J_["RC response not ok"]="RC response is not ok",J_["invalid attribute name"]="Attribute name {$attributeName} is invalid.",J_["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",J_["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",J_["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",J_),gb=new a.ErrorFactory(pb,db,vb),yb=new s.Logger(db);yb.logLevel=s.LogLevel.INFO;var mb,_b=function(){function t(t){if(this.window=t,!t)throw gb.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,a.isIndexedDBAvailable)()||(yb.info("IndexedDB is not supported by current browswer"),!1):(yb.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}));n.observe({entryTypes:[t]})}},t.getInstance=function(){return void 0===Z_&&(Z_=new t(tb)),Z_},t}();function bb(t){tb=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e){var n=t.length-e.length;if(n<0||n>1)throw gb.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eb,Ib,Tb=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=wb("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=wb("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw gb.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw gb.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw gb.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===mb&&(mb=new t),mb},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){var t=Tb.getInstance().installationsService.getId();return t.then((function(t){Eb=t})),t}function Cb(){return Eb}function kb(){var t=Tb.getInstance().installationsService.getToken();return t.then((function(t){})),t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["UNKNOWN"]=0]="UNKNOWN",t[t["VISIBLE"]=1]="VISIBLE",t[t["HIDDEN"]=2]="HIDDEN"})(Ib||(Ib={}));var Ab=["firebase_","google_","ga_"],xb=new RegExp("^[a-zA-Z]\\w*$"),Nb=40,Rb=100;function Ob(){var t=_b.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Pb(){var t=_b.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Ib.VISIBLE;case"hidden":return Ib.HIDDEN;default:return Ib.UNKNOWN}}function Db(){var t=_b.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Lb(t){if(0===t.length||t.length>Nb)return!1;var e=Ab.some((function(e){return t.startsWith(e)}));return!e&&!!t.match(xb)}function Mb(t){return 0!==t.length&&t.length<=Rb}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fb="0.0.1",jb={loggingEnabled:!0},Ub="FIREBASE_INSTALLATIONS_AUTH";function qb(t){var e=Vb();return e?(Wb(e),Promise.resolve()):Hb(t).then(Wb).then((function(t){return Bb(t)}),(function(){}))}function Vb(){var t=_b.getInstance().localStorage;if(t){var e=t.getItem(fb);if(e&&zb(e)){var n=t.getItem(hb);if(n)try{var r=JSON.parse(n);return r}catch(qf){return}}}}function Bb(t){var e=_b.getInstance().localStorage;t&&e&&(e.setItem(hb,JSON.stringify(t)),e.setItem(fb,String(Date.now()+60*Tb.getInstance().configTimeToLive*60*1e3)))}var Kb="Could not fetch config, will use default configs";function Hb(t){return kb().then((function(e){var n=Tb.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Tb.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Ub+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Tb.getInstance().getAppId(),app_version:rb,sdk_version:Fb})});return fetch(i).then((function(t){if(t.ok)return t.json();throw gb.create("RC response not ok")}))})).catch((function(){yb.info(Kb)}))}function Wb(t){if(!t)return t;var e=Tb.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=jb.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Gb(e.tracesSamplingRate),e.logNetworkAfterSampling=Gb(e.networkRequestsSamplingRate),t}function zb(t){return Number(t)>Date.now()}function Gb(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $b,Qb=1;function Yb(){return Qb=2,$b=$b||Jb(),$b}function Xb(){return 3===Qb}function Jb(){return Zb().then((function(){return Sb()})).then((function(t){return qb(t)})).then((function(){return tw()}),(function(){return tw()}))}function Zb(){var t=_b.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}function tw(){Qb=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ew,nw=1e4,rw=5500,iw=3,ow=1e3,aw=iw,sw=[],uw=!1;function cw(){uw||(lw(rw),uw=!0)}function lw(t){setTimeout((function(){if(0!==aw)return sw.length?void hw():lw(nw)}),t)}function hw(){var t=sw.splice(0,ow),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Tb.getInstance().logSource,log_event:e};fw(n,t).catch((function(){sw=(0,o.__spreadArray)((0,o.__spreadArray)([],t),sw),aw--,yb.info("Tries left: "+aw+"."),lw(nw)}))}function fw(t,e){return pw(t).then((function(t){return t.ok||yb.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=nw;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(sw=(0,o.__spreadArray)((0,o.__spreadArray)([],e),sw),yb.info("Retry transport request later.")),aw=iw,lw(r)}))}function pw(t){var e=Tb.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function dw(t){if(!t.eventTime||!t.message)throw gb.create("invalid cc log");sw=(0,o.__spreadArray)((0,o.__spreadArray)([],sw),[t])}function vw(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);dw({message:r,eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e){ew||(ew=vw(bw)),ew(t,e)}function yw(t){var e=Tb.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&_b.getInstance().requiredApisAvailable()&&(t.isAuto&&Pb()!==Ib.VISIBLE||(Xb()?mw(t):Yb().then((function(){return mw(t)}),(function(){return mw(t)}))))}function mw(t){if(Cb()){var e=Tb.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return gw(t,1)}),0)}}function _w(t){var e=Tb.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return gw(t,0)}),0)}}function bw(t,e){return 0===e?ww(t):Ew(t)}function ww(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:Iw(),network_request_metric:e};return JSON.stringify(n)}function Ew(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Iw(),trace_metric:e};return JSON.stringify(r)}function Iw(){return{google_app_id:Tb.getInstance().getAppId(),app_instance_id:Cb(),web_app_info:{sdk_version:rb,page_url:_b.getInstance().getUrl(),service_worker_status:Ob(),visibility_state:Pb(),effective_connection_type:Db()},application_process_state:0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tw=100,Sw="_",Cw=[ub,cb,lb];function kw(t,e){return!(0===t.length||t.length>Tw)&&(e&&e.startsWith(sb)&&Cw.indexOf(t)>-1||!t.startsWith(Sw))}function Aw(t){var e=Math.floor(t);return e<t&&yb.info("Metric value should be an Integer, setting the value as : "+e+"."),e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xw=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=_b.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=ib+"-"+this.randomId+"-"+this.name,this.traceStopMark=ob+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||ab+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw gb.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw gb.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),yw(this)},t.prototype.record=function(t,e,n){if(t<=0)throw gb.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw gb.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=(0,o.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var a=i[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Number(Math.floor(n.metrics[a])))}yw(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!kw(t,this.name))throw gb.create("invalid custom metric name",{customMetricName:t});this.counters[t]=Aw(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=Lb(t),r=Mb(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw gb.create("invalid attribute name",{attributeName:t});if(!r)throw gb.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return(0,o.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=_b.getInstance().getUrl();if(i){var o=new t(sb+i,!0),a=Math.floor(1e3*_b.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));var s="first-paint",u="first-contentful-paint";if(n){var c=n.find((function(t){return t.name===s}));c&&c.startTime&&o.putMetric(ub,Math.floor(1e3*c.startTime));var l=n.find((function(t){return t.name===u}));l&&l.startTime&&o.putMetric(cb,Math.floor(1e3*l.startTime)),r&&o.putMetric(lb,Math.floor(1e3*r))}yw(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);yw(n)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){var e=t;if(e&&void 0!==e.responseStart){var n=_b.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime)),a=e.name&&e.name.split("?")[0],s={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};_w(s)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rw=5e3;function Ow(){Cb()&&(setTimeout((function(){return Dw()}),0),setTimeout((function(){return Pw()}),0),setTimeout((function(){return Lw()}),0))}function Pw(){for(var t=_b.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];Nw(i)}t.setupObserver("resource",Nw)}function Dw(){var t=_b.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){xw.createOobTrace(e,n),r=void 0}),Rw);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),xw.createOobTrace(e,n,t))}))}else xw.createOobTrace(e,n)}function Lw(){for(var t=_b.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];Mw(i)}t.setupObserver("measure",Mw)}function Mw(t){var e=t.name;e.substring(0,ab.length)!==ab&&xw.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fw=function(){function t(t){this.app=t,_b.getInstance().requiredApisAvailable()&&(0,a.validateIndexedDBOpenable)().then((function(t){t&&(cw(),Yb().then(Ow,Ow))})).catch((function(t){yb.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new xw(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Tb.getInstance().instrumentationEnabled},set:function(t){Tb.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Tb.getInstance().dataCollectionEnabled},set:function(t){Tb.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}(),jw="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t){var e=function(t,e){if(t.name!==jw)throw gb.create("FB not default");if("undefined"===typeof window)throw gb.create("no window");return bb(window),Tb.getInstance().firebaseAppInstance=t,Tb.getInstance().installationsService=e,new Fw(t)};t.INTERNAL.registerComponent(new cd.Component("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion(eb,nb)}Uw(r["default"]);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qw,Vw,Bw="firebase_id",Kw="origin",Hw=6e4,Ww="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zw="https://www.googletagmanager.com/gtag/js";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Gw(t,e,n,r,i){return(0,o.__awaiter)(this,void 0,void 0,(function(){var a,s;return(0,o.__generator)(this,(function(u){switch(u.label){case 0:return i&&i.global?(t(qw.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:a=u.sent(),s=(0,o.__assign)((0,o.__assign)({},r),{send_to:a}),t(qw.EVENT,n,s),u.label=3;case 3:return[2]}}))}))}function $w(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(qw.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(qw.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))}function Qw(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(qw.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(qw.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))}function Yw(t,e,n,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var i,a,s,u,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(!r||!r.global)return[3,1];for(i={},a=0,s=Object.keys(n);a<s.length;a++)u=s[a],i["user_properties."+u]=n[u];return t(qw.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=o.sent(),t(qw.CONFIG,c,{update:!0,user_properties:n}),o.label=3;case 3:return[2]}}))}))}function Xw(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t["EVENT"]="event",t["SET"]="set",t["CONFIG"]="config"})(qw||(qw={})),function(t){t["ADD_SHIPPING_INFO"]="add_shipping_info",t["ADD_PAYMENT_INFO"]="add_payment_info",t["ADD_TO_CART"]="add_to_cart",t["ADD_TO_WISHLIST"]="add_to_wishlist",t["BEGIN_CHECKOUT"]="begin_checkout",t["CHECKOUT_PROGRESS"]="checkout_progress",t["EXCEPTION"]="exception",t["GENERATE_LEAD"]="generate_lead",t["LOGIN"]="login",t["PAGE_VIEW"]="page_view",t["PURCHASE"]="purchase",t["REFUND"]="refund",t["REMOVE_FROM_CART"]="remove_from_cart",t["SCREEN_VIEW"]="screen_view",t["SEARCH"]="search",t["SELECT_CONTENT"]="select_content",t["SELECT_ITEM"]="select_item",t["SELECT_PROMOTION"]="select_promotion",t["SET_CHECKOUT_OPTION"]="set_checkout_option",t["SHARE"]="share",t["SIGN_UP"]="sign_up",t["TIMING_COMPLETE"]="timing_complete",t["VIEW_CART"]="view_cart",t["VIEW_ITEM"]="view_item",t["VIEW_ITEM_LIST"]="view_item_list",t["VIEW_PROMOTION"]="view_promotion",t["VIEW_SEARCH_RESULTS"]="view_search_results"}(Vw||(Vw={}));var Jw,Zw=new s.Logger("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e){var n=document.createElement("script");n.src=zw+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function eE(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function nE(t,e,n,r,i,a){return(0,o.__awaiter)(this,void 0,void 0,(function(){var s,u,c,l;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:s=r[i],o.label=1;case 1:return o.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return o.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=o.sent(),c=u.find((function(t){return t.measurementId===i})),c?[4,e[c.appId]]:[3,6];case 5:o.sent(),o.label=6;case 6:return[3,8];case 7:return l=o.sent(),Zw.error(l),[3,8];case 8:return t(qw.CONFIG,i,a),[2]}}))}))}function rE(t,e,n,r,i){return(0,o.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f,p,d;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),a=[],i&&i["send_to"]?(s=i["send_to"],Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(u=o.sent(),c=function(t){var n=u.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return a=[],"break";a.push(r)},l=0,h=s;l<h.length;l++)if(f=h[l],p=c(f),"break"===p)break;o.label=2;case 2:return 0===a.length&&(a=Object.values(e)),[4,Promise.all(a)];case 3:return o.sent(),t(qw.EVENT,r,i||{}),[3,5];case 4:return d=o.sent(),Zw.error(d),[3,5];case 5:return[2]}}))}))}function iE(t,e,n,r){function i(i,a,s){return(0,o.__awaiter)(this,void 0,void 0,(function(){var u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),i!==qw.EVENT?[3,2]:[4,rE(t,e,n,a,s)];case 1:return o.sent(),[3,5];case 2:return i!==qw.CONFIG?[3,4]:[4,nE(t,e,n,r,a,s)];case 3:return o.sent(),[3,5];case 4:t(qw.SET,a),o.label=5;case 5:return[3,7];case 6:return u=o.sent(),Zw.error(u),[3,7];case 7:return[2]}}))}))}return i}function oE(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=iE(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function aE(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(zw))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sE=(Jw={},Jw["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Jw["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Jw["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Jw["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Jw["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Jw["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Jw["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Jw["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Jw["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Jw),uE=new a.ErrorFactory("analytics","Analytics",sE),cE=30,lE=1e3,hE=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=lE),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}(),fE=new hE;function pE(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function dE(t){var e;return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,s,u,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:pE(r)},a=Ww.replace("{app-id}",n),[4,fetch(a,i)];case 1:if(s=o.sent(),200===s.status||304===s.status)return[3,6];u="",o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.json()];case 3:return c=o.sent(),(null===(e=c.error)||void 0===e?void 0:e.message)&&(u=c.error.message),[3,5];case 4:return o.sent(),[3,5];case 5:throw uE.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 6:return[2,s.json()]}}))}))}function vE(t,e,n){return void 0===e&&(e=fE),(0,o.__awaiter)(this,void 0,void 0,(function(){var r,i,a,s,u,c,l=this;return(0,o.__generator)(this,(function(h){if(r=t.options,i=r.appId,a=r.apiKey,s=r.measurementId,!i)throw uE.create("no-app-id");if(!a){if(s)return[2,{measurementId:s,appId:i}];throw uE.create("no-api-key")}return u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new _E,setTimeout((function(){return(0,o.__awaiter)(l,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){return c.abort(),[2]}))}))}),void 0!==n?n:Hw),[2,gE({appId:i,apiKey:a,measurementId:s},u,c,e)]}))}))}function gE(t,e,n,r){var i=e.throttleEndTimeMillis,s=e.backoffCount;return void 0===r&&(r=fE),(0,o.__awaiter)(this,void 0,void 0,(function(){var e,u,c,l,h,f,p;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:e=t.appId,u=t.measurementId,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,yE(n,i)];case 2:return o.sent(),[3,4];case 3:if(c=o.sent(),u)return Zw.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:u}];throw c;case 4:return o.trys.push([4,6,,7]),[4,dE(t)];case 5:return l=o.sent(),r.deleteThrottleMetadata(e),[2,l];case 6:if(h=o.sent(),!mE(h)){if(r.deleteThrottleMetadata(e),u)return Zw.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:e,measurementId:u}];throw h}return f=503===Number(h.customData.httpStatus)?(0,a.calculateBackoffMillis)(s,r.intervalMillis,cE):(0,a.calculateBackoffMillis)(s,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1},r.setThrottleMetadata(e,p),Zw.debug("Calling attemptFetch again in "+f+" millis"),[2,gE(t,p,n,r)];case 7:return[2]}}))}))}function yE(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(uE.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}function mE(t){if(!(t instanceof a.FirebaseError)||!t.customData)return!1;var e=Number(t.customData["httpStatus"]);return 429===e||500===e||503===e||504===e}var _E=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t;return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return(0,a.isIndexedDBAvailable)()?[3,1]:(Zw.warn(uE.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,a.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Zw.warn(uE.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}function wE(t,e,n,r,i,a){return(0,o.__awaiter)(this,void 0,void 0,(function(){var s,u,c,l,h,f,p;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return s=vE(t),s.then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Zw.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Zw.error(t)})),e.push(s),u=bE().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,u])];case 1:return c=o.sent(),l=c[0],h=c[1],aE()||tE(a,l.measurementId),i("js",new Date),p={},p[Kw]="firebase",p.update=!0,f=p,null!=h&&(f[Bw]=h),i(qw.CONFIG,l.measurementId,f),[2,l.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EE,IE,TE={},SE=[],CE={},kE="dataLayer",AE="gtag",xE=!1;function NE(t){if(xE)throw uE.create("already-initialized");t.dataLayerName&&(kE=t.dataLayerName),t.gtagName&&(AE=t.gtagName)}function RE(){var t=[];if((0,a.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,a.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=uE.create("invalid-analytics-context",{errorInfo:e});Zw.warn(n.message)}}function OE(t,e){RE();var n=t.options.appId;if(!n)throw uE.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw uE.create("no-api-key");Zw.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=TE[n])throw uE.create("already-exists",{id:n});if(!xE){eE(kE);var r=oE(TE,SE,CE,kE,AE),i=r.wrappedGtag,o=r.gtagCore;IE=i,EE=o,xE=!0}TE[n]=wE(t,SE,CE,e,EE,kE);var a={app:t,logEvent:function(t,e,r){Gw(IE,TE[n],t,e,r).catch((function(t){return Zw.error(t)}))},setCurrentScreen:function(t,e){$w(IE,TE[n],t,e).catch((function(t){return Zw.error(t)}))},setUserId:function(t,e){Qw(IE,TE[n],t,e).catch((function(t){return Zw.error(t)}))},setUserProperties:function(t,e){Yw(IE,TE[n],t,e).catch((function(t){return Zw.error(t)}))},setAnalyticsCollectionEnabled:function(t){Xw(TE[n],t).catch((function(t){return Zw.error(t)}))},INTERNAL:{delete:function(){return delete TE[n],Promise.resolve()}}};return a}var PE="@firebase/analytics",DE="0.6.18",LE="analytics";function ME(t){function e(t){try{var e=t.getProvider(LE).getImmediate();return{logEvent:e.logEvent}}catch(n){throw uE.create("interop-component-reg-failed",{reason:n})}}t.INTERNAL.registerComponent(new cd.Component(LE,(function(t){var e=t.getProvider("app").getImmediate(),n=t.getProvider("installations").getImmediate();return OE(e,n)}),"PUBLIC").setServiceProps({settings:NE,EventName:Vw,isSupported:FE})),t.INTERNAL.registerComponent(new cd.Component("analytics-internal",e,"PRIVATE")),t.registerVersion(PE,DE)}function FE(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t;return(0,o.__generator)(this,(function(e){switch(e.label){case 0:if((0,a.isBrowserExtension)())return[2,!1];if(!(0,a.areCookiesEnabled)())return[2,!1];if(!(0,a.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,a.validateIndexedDBOpenable)()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}ME(r["default"]);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jE,UE=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=o.sent(),n=e[0],r=e[1],r&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=o.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&a.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(a)];case 3:return o.sent(),[2,i]}}))}))},t}(),qE=(jE={},jE["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",jE["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",jE["registration-api-key"]="Undefined API key. Check Firebase app initialization.",jE["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",jE["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",jE["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",jE["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",jE["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",jE["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",jE["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',jE["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',jE["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",jE["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",jE),VE=new a.ErrorFactory("remoteconfig","Remote Config",qE);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e){return t instanceof a.FirebaseError&&-1!==t.code.indexOf(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HE=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,a,s,u,c,l,h,f,p,d,v,g,y,m,_,b;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=o.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:KE()},c={method:"POST",headers:s,body:JSON.stringify(u)},l=fetch(a,c),h=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,Promise.race([l,h])];case 3:return o.sent(),[4,l];case 4:return f=o.sent(),[3,6];case 5:throw p=o.sent(),d="fetch-client-network","AbortError"===p.name&&(d="fetch-timeout"),VE.create(d,{originalErrorMessage:p.message});case 6:if(v=f.status,g=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];_=void 0,o.label=7;case 7:return o.trys.push([7,9,,10]),[4,f.json()];case 8:return _=o.sent(),[3,10];case 9:throw b=o.sent(),VE.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:y=_["entries"],m=_["state"],o.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?v=500:"NO_CHANGE"===m?v=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(y={}),304!==v&&200!==v)throw VE.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:g,config:y}]}}))}))},t}(),WE=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),zE=!1,GE="",$E=0,QE=["1","true","t","yes","y","on"],YE=function(){function t(t,e){void 0===e&&(e=GE),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"===this._source?zE:QE.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return $E;var t=Number(this._value);return isNaN(t)&&(t=$E),t},t.prototype.getSource=function(){return this._source},t}(),XE=6e4,JE=432e5,ZE=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:XE,minimumFetchIntervalMillis:JE},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=s.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=s.LogLevel.SILENT;break;default:this._logger.logLevel=s.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r=this;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:t=new WE,setTimeout((function(){return(0,o.__awaiter)(r,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=BE(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return tI(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new YE("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new YE("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new YE("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,o.__assign)((0,o.__assign)({},t),e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e){var n=t.target.error||void 0;return VE.create(e,{originalErrorMessage:n&&n.message})}var nI="app_namespace_store",rI="firebase_remote_config",iI=1;function oI(){return new Promise((function(t,e){var n=indexedDB.open(rI,iI);n.onerror=function(t){e(eI(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(nI,{keyPath:"compositeKey"})}}}))}var aI=function(){function t(t,e,n,r){void 0===r&&(r=oI()),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([nI],"readonly"),a=o.objectStore(nI),s=n.createCompositeKey(t);try{var u=a.get(s);u.onerror=function(t){i(eI(t,"storage-get"))},u.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(c){i(VE.create("storage-get",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.set=function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([nI],"readwrite"),s=a.objectStore(nI),u=r.createCompositeKey(t);try{var c=s.put({compositeKey:u,value:e});c.onerror=function(t){o(eI(t,"storage-set"))},c.onsuccess=function(){i()}}catch(l){o(VE.create("storage-set",{originalErrorMessage:l&&l.message}))}}))]}}))}))},t.prototype.delete=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([nI],"readwrite"),a=o.objectStore(nI),s=n.createCompositeKey(t);try{var u=a.delete(s);u.onerror=function(t){i(eI(t,"storage-delete"))},u.onsuccess=function(){r()}}catch(c){i(VE.create("storage-delete",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),sI=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return r=o.sent(),r&&(this.lastFetchStatus=r),[4,e];case 2:return i=o.sent(),i&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return a=o.sent(),a&&(this.activeConfig=a),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function uI(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(VE.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}function cI(t){if(!(t instanceof a.FirebaseError)||!t.customData)return!1;var e=Number(t.customData["httpStatus"]);return 429===e||500===e||503===e||504===e}var lI=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,i,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,uI(t.signal,n)];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,e];case 5:if(i=o.sent(),!cI(i))throw i;return s={throttleEndTimeMillis:Date.now()+(0,a.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(s)];case 6:return o.sent(),[2,this.attemptFetch(t,s)];case 7:return[2]}}))}))},t}(),hI="@firebase/remote-config",fI="0.1.43";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pI(t){function e(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw VE.create("registration-window");var a=i.options,u=a.projectId,c=a.apiKey,l=a.appId;if(!u)throw VE.create("registration-project-id");if(!c)throw VE.create("registration-api-key");if(!l)throw VE.create("registration-app-id");r=r||"firebase";var h=new aI(l,i.name,r),f=new sI(h),p=new s.Logger(hI);p.logLevel=s.LogLevel.ERROR;var d=new HE(o,t.SDK_VERSION,r,u,c,l),v=new lI(d,h),g=new UE(v,h,f,p),y=new ZE(i,g,f,h,p);return y.ensureInitialized(),y}t.INTERNAL.registerComponent(new cd.Component("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(hI,fI)}pI(r["default"]);n(389);var dI="firebase",vI="8.10.1";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r["default"].registerVersion(dI,vI,"app"),r["default"].SDK_VERSION=vI;var gI="firebase",yI="8.10.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r["default"].registerVersion(gI,yI)},6225:function(t,e,n){var r,i,o,a=n(7964)["default"];n(7042),n(1539),n(4747),n(4916),n(5306),function(n,s){"object"===a(e)?s(e):(i=[e],r=s,o="function"===typeof r?r.apply(e,i):r,void 0===o||(t.exports=o))}(0,(function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){i=t[e].apply(t,r),n(i).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))}function g(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=v,t.deleteDb=g,Object.defineProperty(t,"__esModule",{value:!0})}))},4270:function(t,e,n){"use strict";n.r(e),n.d(e,{__assign:function(){return a},__asyncDelegator:function(){return E},__asyncGenerator:function(){return w},__asyncValues:function(){return I},__await:function(){return b},__awaiter:function(){return h},__classPrivateFieldGet:function(){return A},__classPrivateFieldSet:function(){return x},__createBinding:function(){return p},__decorate:function(){return u},__exportStar:function(){return d},__extends:function(){return o},__generator:function(){return f},__importDefault:function(){return k},__importStar:function(){return C},__makeTemplateObject:function(){return T},__metadata:function(){return l},__param:function(){return c},__read:function(){return g},__rest:function(){return s},__spread:function(){return y},__spreadArray:function(){return _},__spreadArrays:function(){return m},__values:function(){return v}});var r=n(9726),i=(n(1703),n(2526),n(5003),n(1539),n(1299),n(1817),n(2165),n(8783),n(3948),n(2222),n(7042),n(2443),function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)});function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function u(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"===typeof Reflect?"undefined":(0,r.Z)(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"===("undefined"===typeof Reflect?"undefined":(0,r.Z)(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var p=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function d(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||p(e,t,n)}function v(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function _(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{u(i[t](e))}catch(n){h(o[0][3],n)}}function u(t){t.value instanceof b?Promise.resolve(t.value.v).then(c,l):h(o[0][2],t)}function c(t){s("next",t)}function l(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function E(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function I(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof v?v(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function T(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var S=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e};function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&p(e,t,n);return S(e,t),e}function k(t){return t&&t.__esModule?t:{default:t}}function A(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function x(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}},6762:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(9726);n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(4747),n(7941),n(9653),n(4916),n(3123);function i(t){return(i="function"==typeof Symbol&&"symbol"==(0,r.Z)(Symbol.iterator)?function(t){return(0,r.Z)(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":(0,r.Z)(t)})(t)}function o(t,e){if(!t.vueAxiosInstalled){var n=u(e)?c(e):e;if(l(n)){var r=h(t);if(r){var i=r<3?a:s;Object.keys(n).forEach((function(e){i(t,e,n[e])})),t.vueAxiosInstalled=!0}else console.error("[vue-axios] unknown Vue version")}else console.error("[vue-axios] configuration is invalid, expected options are either <axios_instance> or { <registration_key>: <axios_instance> }")}}function a(t,e,n){Object.defineProperty(t.prototype,e,{get:function(){return n}}),t[e]=n}function s(t,e,n){t.config.globalProperties[e]=n,t[e]=n}function u(t){return t&&"function"==typeof t.get&&"function"==typeof t.post}function c(t){return{axios:t,$http:t}}function l(t){return"object"===i(t)&&Object.keys(t).every((function(e){return u(t[e])}))}function h(t){return t&&t.version&&Number(t.version.split(".")[0])}t=n.hmd(t),"object"==("undefined"==typeof exports?"undefined":i(exports))?t.exports=o:"function"==typeof define&&n.amdO?define([],(function(){return o})):window.Vue&&window.axios&&window.Vue.use&&Vue.use(o,window.axios)},2809:function(t,e,n){"use strict";var r=n(9726);n(1703),n(1539),n(9714),n(4916),n(5306),n(1249),n(3210),n(4747),n(3123),n(9600),n(7327),n(7941),n(8309),n(3371),n(2707),n(7042),n(4603),n(8450),n(8386),n(2481),n(8862),n(7601),n(3948),n(4723),n(561),n(6977),n(2222),n(2526),n(1817),n(3680),n(3706),n(2703),n(4765);function i(t,e){for(var n in e)t[n]=e[n];return t}var o=/[!'()*]/g,a=function(t){return"%"+t.charCodeAt(0).toString(16)},s=/%2C/g,u=function(t){return encodeURIComponent(t).replace(o,a).replace(s,",")};function c(t){try{return decodeURIComponent(t)}catch(e){0}return t}function l(t,e,n){void 0===e&&(e={});var r,i=n||f;try{r=i(t||"")}catch(s){r={}}for(var o in e){var a=e[o];r[o]=Array.isArray(a)?a.map(h):h(a)}return r}var h=function(t){return null==t||"object"===(0,r.Z)(t)?t:String(t)};function f(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=c(n.shift()),i=n.length>0?c(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function p(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return u(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(u(e)):r.push(u(e)+"="+u(t)))})),r.join("&")}return u(e)+"="+u(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var d=/\/?$/;function v(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=g(o)}catch(s){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:_(e,i),matched:t?m(t):[]};return n&&(a.redirectedFrom=_(n,i)),Object.freeze(a)}function g(t){if(Array.isArray(t))return t.map(g);if(t&&"object"===(0,r.Z)(t)){var e={};for(var n in t)e[n]=g(t[n]);return e}return t}var y=v(null,{path:"/"});function m(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function _(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||p;return(n||"/")+o(r)+i}function b(t,e,n){return e===y?t===e:!!e&&(t.path&&e.path?t.path.replace(d,"")===e.path.replace(d,"")&&(n||t.hash===e.hash&&w(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&w(t.query,e.query)&&w(t.params,e.params))))}function w(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),i=Object.keys(e).sort();return n.length===i.length&&n.every((function(n,o){var a=t[n],s=i[o];if(s!==n)return!1;var u=e[n];return null==a||null==u?a===u:"object"===(0,r.Z)(a)&&"object"===(0,r.Z)(u)?w(a,u):String(a)===String(u)}))}function E(t,e){return 0===t.path.replace(d,"/").indexOf(e.path.replace(d,"/"))&&(!e.hash||t.hash===e.hash)&&I(t.query,e.query)}function I(t,e){for(var n in e)if(!(n in t))return!1;return!0}function T(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var S={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,o=e.parent,a=e.data;a.routerView=!0;var s=o.$createElement,u=n.name,c=o.$route,l=o._routerViewCache||(o._routerViewCache={}),h=0,f=!1;while(o&&o._routerRoot!==o){var p=o.$vnode?o.$vnode.data:{};p.routerView&&h++,p.keepAlive&&o._directInactive&&o._inactive&&(f=!0),o=o.$parent}if(a.routerViewDepth=h,f){var d=l[u],v=d&&d.component;return v?(d.configProps&&C(v,a,d.route,d.configProps),s(v,a,r)):s()}var g=c.matched[h],y=g&&g.components[u];if(!g||!y)return l[u]=null,s();l[u]={component:y},a.registerRouteInstance=function(t,e){var n=g.instances[u];(e&&n!==t||!e&&n===t)&&(g.instances[u]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){g.instances[u]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[u]&&(g.instances[u]=t.componentInstance),T(c)};var m=g.props&&g.props[u];return m&&(i(l[u],{route:c,configProps:m}),C(y,a,c,m)),s(y,a,r)}};function C(t,e,n,r){var o=e.props=k(n,r);if(o){o=e.props=i({},o);var a=e.attrs=e.attrs||{};for(var s in o)t.props&&s in t.props||(a[s]=o[s],delete o[s])}}function k(t,e){switch((0,r.Z)(e)){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function A(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function x(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function N(t){return t.replace(/\/+/g,"/")}var R=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},O=X,P=j,D=U,L=B,M=Y,F=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function j(t,e){var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";while(null!=(n=F.exec(t))){var u=n[0],c=n[1],l=n.index;if(a+=t.slice(o,l),o=l+u.length,c)a+=c[1];else{var h=t[o],f=n[2],p=n[3],d=n[4],v=n[5],g=n[6],y=n[7];a&&(r.push(a),a="");var m=null!=f&&null!=h&&h!==f,_="+"===g||"*"===g,b="?"===g||"*"===g,w=n[2]||s,E=d||v;r.push({name:p||i++,prefix:f||"",delimiter:w,optional:b,repeat:_,partial:m,asterisk:!!y,pattern:E?H(E):y?".*":"[^"+K(w)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function U(t,e){return B(j(t,e),e)}function q(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function V(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function B(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===(0,r.Z)(t[i])&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",z(e)));return function(e,r){for(var i="",o=e||{},a=r||{},s=a.pretty?q:encodeURIComponent,u=0;u<t.length;u++){var c=t[u];if("string"!==typeof c){var l,h=o[c.name];if(null==h){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(R(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(l=s(h[f]),!n[u].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===f?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?V(h):s(h),!n[u].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function K(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function H(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function W(t,e){return t.keys=e,t}function z(t){return t&&t.sensitive?"":"i"}function G(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return W(t,e)}function $(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(X(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",z(n));return W(o,e)}function Q(t,e,n){return Y(j(t,n),e,n)}function Y(t,e,n){R(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=K(s);else{var u=K(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")",o+=c}}var l=K(n.delimiter||"/"),h=o.slice(-l.length)===l;return r||(o=(h?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+l+"|$)",W(new RegExp("^"+o,z(n)),e)}function X(t,e,n){return R(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?G(t,e):R(t)?$(t,e,n):Q(t,e,n)}O.parse=P,O.compile=D,O.tokensToFunction=L,O.tokensToRegExp=M;var J=Object.create(null);function Z(t,e,n){e=e||{};try{var r=J[t]||(J[t]=O.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(i){return""}finally{delete e[0]}}function tt(t,e,n,o){var a="string"===typeof t?{path:t}:t;if(a._normalized)return a;if(a.name){a=i({},t);var s=a.params;return s&&"object"===(0,r.Z)(s)&&(a.params=i({},s)),a}if(!a.path&&a.params&&e){a=i({},a),a._normalized=!0;var u=i(i({},e.params),a.params);if(e.name)a.name=e.name,a.params=u;else if(e.matched.length){var c=e.matched[e.matched.length-1].path;a.path=Z(c,u,"path "+e.path)}else 0;return a}var h=x(a.path||""),f=e&&e.path||"/",p=h.path?A(h.path,f,n||a.append):f,d=l(h.query,a.query,o&&o.options.parseQuery),v=a.hash||h.hash;return v&&"#"!==v.charAt(0)&&(v="#"+v),{_normalized:!0,path:p,query:d,hash:v}}var et,nt=[String,Object],rt=[String,Array],it=function(){},ot={name:"RouterLink",props:{to:{type:nt,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:rt,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,o=n.resolve(this.to,r,this.append),a=o.location,s=o.route,u=o.href,c={},l=n.options.linkActiveClass,h=n.options.linkExactActiveClass,f=null==l?"router-link-active":l,p=null==h?"router-link-exact-active":h,d=null==this.activeClass?f:this.activeClass,g=null==this.exactActiveClass?p:this.exactActiveClass,y=s.redirectedFrom?v(null,tt(s.redirectedFrom),null,n):s;c[g]=b(r,y,this.exactPath),c[d]=this.exact||this.exactPath?c[g]:E(r,y);var m=c[g]?this.ariaCurrentValue:null,_=function(t){at(t)&&(e.replace?n.replace(a,it):n.push(a,it))},w={click:at};Array.isArray(this.event)?this.event.forEach((function(t){w[t]=_})):w[this.event]=_;var I={class:c},T=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:u,route:s,navigate:_,isActive:c[d],isExactActive:c[g]});if(T){if(1===T.length)return T[0];if(T.length>1||!T.length)return 0===T.length?t():t("span",{},T)}if("a"===this.tag)I.on=w,I.attrs={href:u,"aria-current":m};else{var S=st(this.$slots.default);if(S){S.isStatic=!1;var C=S.data=i({},S.data);for(var k in C.on=C.on||{},C.on){var A=C.on[k];k in w&&(C.on[k]=Array.isArray(A)?A:[A])}for(var x in w)x in C.on?C.on[x].push(w[x]):C.on[x]=_;var N=S.data.attrs=i({},S.data.attrs);N.href=u,N["aria-current"]=m}else I.on=w}return t(this.tag,I,this.$slots.default)}};function at(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function st(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=st(e.children)))return e}}function ut(t){if(!ut.installed||et!==t){ut.installed=!0,et=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",S),t.component("RouterLink",ot);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ct="undefined"!==typeof window;function lt(t,e,n,r,i){var o=e||[],a=n||Object.create(null),s=r||Object.create(null);t.forEach((function(t){ht(o,a,s,t,i)}));for(var u=0,c=o.length;u<c;u++)"*"===o[u]&&(o.push(o.splice(u,1)[0]),c--,u--);return{pathList:o,pathMap:a,nameMap:s}}function ht(t,e,n,r,i,o){var a=r.path,s=r.name;var u=r.pathToRegexpOptions||{},c=pt(a,i,u.strict);"boolean"===typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var l={path:c,regex:ft(c,u),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:s,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?N(o+"/"+r.path):void 0;ht(t,e,n,r,l,i)})),e[l.path]||(t.push(l.path),e[l.path]=l),void 0!==r.alias)for(var h=Array.isArray(r.alias)?r.alias:[r.alias],f=0;f<h.length;++f){var p=h[f];0;var d={path:p,children:r.children};ht(t,e,n,d,i,l.path||"/")}s&&(n[s]||(n[s]=l))}function ft(t,e){var n=O(t,[],e);return n}function pt(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:N(e.path+"/"+t)}function dt(t,e){var n=lt(t),i=n.pathList,o=n.pathMap,a=n.nameMap;function s(t){lt(t,i,o,a)}function u(t,e){var n="object"!==(0,r.Z)(t)?a[t]:void 0;lt([e||t],i,o,a,n),n&&n.alias.length&&lt(n.alias.map((function(t){return{path:t,children:[e]}})),i,o,a,n)}function c(){return i.map((function(t){return o[t]}))}function l(t,n,s){var u=tt(t,n,!1,e),c=u.name;if(c){var l=a[c];if(!l)return p(null,u);var h=l.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==(0,r.Z)(u.params)&&(u.params={}),n&&"object"===(0,r.Z)(n.params))for(var f in n.params)!(f in u.params)&&h.indexOf(f)>-1&&(u.params[f]=n.params[f]);return u.path=Z(l.path,u.params,'named route "'+c+'"'),p(l,u,s)}if(u.path){u.params={};for(var d=0;d<i.length;d++){var v=i[d],g=o[v];if(vt(g.regex,u.path,u.params))return p(g,u,s)}}return p(null,u)}function h(t,n){var i=t.redirect,o="function"===typeof i?i(v(t,n,null,e)):i;if("string"===typeof o&&(o={path:o}),!o||"object"!==(0,r.Z)(o))return p(null,n);var s=o,u=s.name,c=s.path,h=n.query,f=n.hash,d=n.params;if(h=s.hasOwnProperty("query")?s.query:h,f=s.hasOwnProperty("hash")?s.hash:f,d=s.hasOwnProperty("params")?s.params:d,u){a[u];return l({_normalized:!0,name:u,query:h,hash:f,params:d},void 0,n)}if(c){var g=gt(c,t),y=Z(g,d,'redirect route with path "'+g+'"');return l({_normalized:!0,path:y,query:h,hash:f},void 0,n)}return p(null,n)}function f(t,e,n){var r=Z(n,e.params,'aliased route with path "'+n+'"'),i=l({_normalized:!0,path:r});if(i){var o=i.matched,a=o[o.length-1];return e.params=i.params,p(a,e)}return p(null,e)}function p(t,n,r){return t&&t.redirect?h(t,r||n):t&&t.matchAs?f(t,n,t.matchAs):v(t,n,r,e)}return{match:l,addRoute:u,getRoutes:c,addRoutes:s}}function vt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1];a&&(n[a.name||"pathMatch"]="string"===typeof r[i]?c(r[i]):r[i])}return!0}function gt(t,e){return A(t,e.parent?e.parent.path:"/",!0)}var yt=ct&&window.performance&&window.performance.now?window.performance:Date;function mt(){return yt.now().toFixed(3)}var _t=mt();function bt(){return _t}function wt(t){return _t=t}var Et=Object.create(null);function It(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=i({},window.history.state);return n.key=bt(),window.history.replaceState(n,"",e),window.addEventListener("popstate",Ct),function(){window.removeEventListener("popstate",Ct)}}function Tt(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=kt(),a=i.call(t,e,n,r?o:null);a&&("function"===typeof a.then?a.then((function(t){Dt(t,o)})).catch((function(t){0})):Dt(a,o))}))}}function St(){var t=bt();t&&(Et[t]={x:window.pageXOffset,y:window.pageYOffset})}function Ct(t){St(),t.state&&t.state.key&&wt(t.state.key)}function kt(){var t=bt();if(t)return Et[t]}function At(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function xt(t){return Ot(t.x)||Ot(t.y)}function Nt(t){return{x:Ot(t.x)?t.x:window.pageXOffset,y:Ot(t.y)?t.y:window.pageYOffset}}function Rt(t){return{x:Ot(t.x)?t.x:0,y:Ot(t.y)?t.y:0}}function Ot(t){return"number"===typeof t}var Pt=/^#\d/;function Dt(t,e){var n="object"===(0,r.Z)(t);if(n&&"string"===typeof t.selector){var i=Pt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(i){var o=t.offset&&"object"===(0,r.Z)(t.offset)?t.offset:{};o=Rt(o),e=At(i,o)}else xt(t)&&(e=Nt(t))}else n&&xt(t)&&(e=Nt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var Lt=ct&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Mt(t,e){St();var n=window.history;try{if(e){var r=i({},n.state);r.key=bt(),n.replaceState(r,"",t)}else n.pushState({key:wt(mt())},"",t)}catch(o){window.location[e?"replace":"assign"](t)}}function Ft(t){Mt(t,!0)}function jt(t,e,n){var r=function r(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}var Ut={redirected:2,aborted:4,cancelled:8,duplicated:16};function qt(t,e){return Ht(t,e,Ut.redirected,'Redirected when going from "'+t.fullPath+'" to "'+zt(e)+'" via a navigation guard.')}function Vt(t,e){var n=Ht(t,e,Ut.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return n.name="NavigationDuplicated",n}function Bt(t,e){return Ht(t,e,Ut.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Kt(t,e){return Ht(t,e,Ut.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Ht(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var Wt=["params","query","hash"];function zt(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return Wt.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}function Gt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function $t(t,e){return Gt(t)&&t._isRouter&&(null==e||t.type===e)}function Qt(t){return function(e,n,r){var i=!1,o=0,a=null;Yt(t,(function(t,e,n,s){if("function"===typeof t&&void 0===t.cid){i=!0,o++;var u,c=te((function(e){Zt(e)&&(e=e.default),t.resolved="function"===typeof e?e:et.extend(e),n.components[s]=e,o--,o<=0&&r()})),l=te((function(t){var e="Failed to resolve async component "+s+": "+t;a||(a=Gt(t)?t:new Error(e),r(a))}));try{u=t(c,l)}catch(f){l(f)}if(u)if("function"===typeof u.then)u.then(c,l);else{var h=u.component;h&&"function"===typeof h.then&&h.then(c,l)}}})),i||r()}}function Yt(t,e){return Xt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Xt(t){return Array.prototype.concat.apply([],t)}var Jt="function"===typeof Symbol&&"symbol"===(0,r.Z)(Symbol.toStringTag);function Zt(t){return t.__esModule||Jt&&"Module"===t[Symbol.toStringTag]}function te(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var ee=function(t,e){this.router=t,this.base=ne(e),this.current=y,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ne(t){if(!t)if(ct){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function re(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function ie(t,e,n,r){var i=Yt(t,(function(t,r,i,o){var a=oe(t,e);if(a)return Array.isArray(a)?a.map((function(t){return n(t,r,i,o)})):n(a,r,i,o)}));return Xt(r?i.reverse():i)}function oe(t,e){return"function"!==typeof t&&(t=et.extend(t)),t.options[e]}function ae(t){return ie(t,"beforeRouteLeave",ue,!0)}function se(t){return ie(t,"beforeRouteUpdate",ue)}function ue(t,e){if(e)return function(){return t.apply(e,arguments)}}function ce(t){return ie(t,"beforeRouteEnter",(function(t,e,n,r){return le(t,n,r)}))}function le(t,e,n){return function(r,i,o){return t(r,i,(function(t){"function"===typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)}))}}ee.prototype.listen=function(t){this.cb=t},ee.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},ee.prototype.onError=function(t){this.errorCbs.push(t)},ee.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(a){throw this.errorCbs.forEach((function(t){t(a)})),a}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&($t(t,Ut.redirected)&&o===y||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},ee.prototype.confirmTransition=function(t,e,n){var i=this,o=this.current;this.pending=t;var a=function(t){!$t(t)&&Gt(t)&&(i.errorCbs.length?i.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},s=t.matched.length-1,u=o.matched.length-1;if(b(t,o)&&s===u&&t.matched[s]===o.matched[u])return this.ensureURL(),t.hash&&Tt(this.router,o,t,!1),a(Vt(o,t));var c=re(this.current.matched,t.matched),l=c.updated,h=c.deactivated,f=c.activated,p=[].concat(ae(h),this.router.beforeHooks,se(l),f.map((function(t){return t.beforeEnter})),Qt(f)),d=function(e,n){if(i.pending!==t)return a(Bt(o,t));try{e(t,o,(function(e){!1===e?(i.ensureURL(!0),a(Kt(o,t))):Gt(e)?(i.ensureURL(!0),a(e)):"string"===typeof e||"object"===(0,r.Z)(e)&&("string"===typeof e.path||"string"===typeof e.name)?(a(qt(o,t)),"object"===(0,r.Z)(e)&&e.replace?i.replace(e):i.push(e)):n(e)}))}catch(s){a(s)}};jt(p,d,(function(){var n=ce(f),r=n.concat(i.router.resolveHooks);jt(r,d,(function(){if(i.pending!==t)return a(Bt(o,t));i.pending=null,e(t),i.router.app&&i.router.app.$nextTick((function(){T(t)}))}))}))},ee.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},ee.prototype.setupListeners=function(){},ee.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=y,this.pending=null};var he=function(t){function e(e,n){t.call(this,e,n),this._startLocation=fe(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Lt&&n;r&&this.listeners.push(It());var i=function(){var n=t.current,i=fe(t.base);t.current===y&&i===t._startLocation||t.transitionTo(i,(function(t){r&&Tt(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Mt(N(r.base+t.fullPath)),Tt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Ft(N(r.base+t.fullPath)),Tt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(fe(this.base)!==this.current.fullPath){var e=N(this.base+this.current.fullPath);t?Mt(e):Ft(e)}},e.prototype.getCurrentLocation=function(){return fe(this.base)},e}(ee);function fe(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(N(r+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var pe=function(t){function e(e,n,r){t.call(this,e,n),r&&de(this.base)||ve()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Lt&&n;r&&this.listeners.push(It());var i=function(){var e=t.current;ve()&&t.transitionTo(ge(),(function(n){r&&Tt(t.router,n,e,!0),Lt||_e(n.fullPath)}))},o=Lt?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){me(t.fullPath),Tt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){_e(t.fullPath),Tt(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ge()!==e&&(t?me(e):_e(e))},e.prototype.getCurrentLocation=function(){return ge()},e}(ee);function de(t){var e=fe(t);if(!/^\/#/.test(e))return window.location.replace(N(t+"/#"+e)),!0}function ve(){var t=ge();return"/"===t.charAt(0)||(_e("/"+t),!1)}function ge(){var t=window.location.href,e=t.indexOf("#");return e<0?"":(t=t.slice(e+1),t)}function ye(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function me(t){Lt?Mt(ye(t)):window.location.hash=t}function _e(t){Lt?Ft(ye(t)):window.location.replace(ye(t))}var be=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){$t(t,Ut.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(ee),we=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=dt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Lt&&!1!==t.fallback,this.fallback&&(e="hash"),ct||(e="abstract"),this.mode=e,e){case"history":this.history=new he(this,t.base);break;case"hash":this.history=new pe(this,t.base,this.fallback);break;case"abstract":this.history=new be(this,t.base);break;default:0}},Ee={currentRoute:{configurable:!0}};function Ie(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Te(t,e,n){var r="hash"===n?"#"+e:e;return t?N(t+"/"+r):r}we.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Ee.currentRoute.get=function(){return this.history&&this.history.current},we.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof he||n instanceof pe){var r=function(t){var r=n.current,i=e.options.scrollBehavior,o=Lt&&i;o&&"fullPath"in t&&Tt(e,t,r,!1)},i=function(t){n.setupListeners(),r(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},we.prototype.beforeEach=function(t){return Ie(this.beforeHooks,t)},we.prototype.beforeResolve=function(t){return Ie(this.resolveHooks,t)},we.prototype.afterEach=function(t){return Ie(this.afterHooks,t)},we.prototype.onReady=function(t,e){this.history.onReady(t,e)},we.prototype.onError=function(t){this.history.onError(t)},we.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},we.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},we.prototype.go=function(t){this.history.go(t)},we.prototype.back=function(){this.go(-1)},we.prototype.forward=function(){this.go(1)},we.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},we.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=tt(t,e,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=Te(a,o,this.mode);return{location:r,route:i,href:s,normalizedTo:r,resolved:i}},we.prototype.getRoutes=function(){return this.matcher.getRoutes()},we.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},we.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(we.prototype,Ee),we.install=ut,we.version="3.5.3",we.isNavigationFailure=$t,we.NavigationFailureType=Ut,we.START_LOCATION=y,ct&&window.Vue&&window.Vue.use(we),e["Z"]=we},8935:function(t,e,n){"use strict";var r=n(9726),i=(n(3371),n(1539),n(7042),n(9714),n(8862),n(4916),n(3123),n(561),n(5306),n(7941),n(4603),n(8450),n(8386),n(7601),n(4723),n(2526),n(1817),n(1299),n(7318),n(189),n(8783),n(3948),n(8309),n(9600),n(1249),n(2707),n(6210),n(1825),n(5003),n(2222),n(9653),n(4633),n(8410),n(4747),n(2165),n(3680),n(3706),n(2703),n(3210),n(7327),Object.freeze({}));function o(t){return void 0===t||null===t}function a(t){return void 0!==t&&null!==t}function s(t){return!0===t}function u(t){return!1===t}function c(t){return"string"===typeof t||"number"===typeof t||"symbol"===(0,r.Z)(t)||"boolean"===typeof t}function l(t){return null!==t&&"object"===(0,r.Z)(t)}var h=Object.prototype.toString;function f(t){return"[object Object]"===h.call(t)}function p(t){return"[object RegExp]"===h.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function v(t){return a(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function g(t){return null==t?"":Array.isArray(t)||f(t)&&t.toString===h?JSON.stringify(t,null,2):String(t)}function y(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}m("slot,component",!0);var _=m("key,ref,slot,slot-scope,is");function b(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function E(t,e){return w.call(t,e)}function I(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var T=/-(\w)/g,S=I((function(t){return t.replace(T,(function(t,e){return e?e.toUpperCase():""}))})),C=I((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),k=/\B([A-Z])/g,A=I((function(t){return t.replace(k,"-$1").toLowerCase()}));function x(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function N(t,e){return t.bind(e)}var R=Function.prototype.bind?N:x;function O(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function P(t,e){for(var n in e)t[n]=e[n];return t}function D(t){for(var e={},n=0;n<t.length;n++)t[n]&&P(e,t[n]);return e}function L(t,e,n){}var M=function(t,e,n){return!1},F=function(t){return t};function j(t,e){if(t===e)return!0;var n=l(t),r=l(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return j(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return j(t[n],e[n])}))}catch(u){return!1}}function U(t,e){for(var n=0;n<t.length;n++)if(j(t[n],e))return n;return-1}function q(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var V="data-server-rendered",B=["component","directive","filter"],K=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:L,parsePlatformTagName:F,mustUseProp:M,async:!0,_lifecycleHooks:K},W=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function G(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var $=new RegExp("[^"+W.source+".$_\\d]");function Q(t){if(!$.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Y,X="__proto__"in{},J="undefined"!==typeof window,Z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,tt=Z&&WXEnvironment.platform.toLowerCase(),et=J&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),rt=et&&et.indexOf("msie 9.0")>0,it=et&&et.indexOf("edge/")>0,ot=(et&&et.indexOf("android"),et&&/iphone|ipad|ipod|ios/.test(et)||"ios"===tt),at=(et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et),et&&et.match(/firefox\/(\d+)/)),st={}.watch,ut=!1;if(J)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){ut=!0}}),window.addEventListener("test-passive",null,ct)}catch(Ca){}var lt=function(){return void 0===Y&&(Y=!J&&!Z&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),Y},ht=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ft(t){return"function"===typeof t&&/native code/.test(t.toString())}var pt,dt="undefined"!==typeof Symbol&&ft(Symbol)&&"undefined"!==typeof Reflect&&ft(Reflect.ownKeys);pt="undefined"!==typeof Set&&ft(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var vt=L,gt=0,yt=function(){this.id=gt++,this.subs=[]};yt.prototype.addSub=function(t){this.subs.push(t)},yt.prototype.removeSub=function(t){b(this.subs,t)},yt.prototype.depend=function(){yt.target&&yt.target.addDep(this)},yt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},yt.target=null;var mt=[];function _t(t){mt.push(t),yt.target=t}function bt(){mt.pop(),yt.target=mt[mt.length-1]}var wt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Et={child:{configurable:!0}};Et.child.get=function(){return this.componentInstance},Object.defineProperties(wt.prototype,Et);var It=function(t){void 0===t&&(t="");var e=new wt;return e.text=t,e.isComment=!0,e};function Tt(t){return new wt(void 0,void 0,void 0,String(t))}function St(t){var e=new wt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Ct=Array.prototype,kt=Object.create(Ct),At=["push","pop","shift","unshift","splice","sort","reverse"];At.forEach((function(t){var e=Ct[t];G(kt,t,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var xt=Object.getOwnPropertyNames(kt),Nt=!0;function Rt(t){Nt=t}var Ot=function(t){this.value=t,this.dep=new yt,this.vmCount=0,G(t,"__ob__",this),Array.isArray(t)?(X?Pt(t,kt):Dt(t,kt,xt),this.observeArray(t)):this.walk(t)};function Pt(t,e){t.__proto__=e}function Dt(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];G(t,o,e[o])}}function Lt(t,e){var n;if(l(t)&&!(t instanceof wt))return E(t,"__ob__")&&t.__ob__ instanceof Ot?n=t.__ob__:Nt&&!lt()&&(Array.isArray(t)||f(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Ot(t)),e&&n&&n.vmCount++,n}function Mt(t,e,n,r,i){var o=new yt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&Lt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return yt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Ut(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!==e&&r!==r||s&&!u||(u?u.call(t,e):n=e,c=!i&&Lt(e),o.notify())}})}}function Ft(t,e,n){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Mt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function jt(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||E(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ut(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Ut(e)}Ot.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Mt(t,e[n])},Ot.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Lt(t[e])};var qt=H.optionMergeStrategies;function Vt(t,e){if(!e)return t;for(var n,r,i,o=dt?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(r=t[n],i=e[n],E(t,n)?r!==i&&f(r)&&f(i)&&Vt(r,i):Ft(t,n,i));return t}function Bt(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,i="function"===typeof t?t.call(n,n):t;return r?Vt(r,i):i}:e?t?function(){return Vt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Kt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Ht(n):n}function Ht(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Wt(t,e,n,r){var i=Object.create(t||null);return e?P(i,e):i}qt.data=function(t,e,n){return n?Bt(t,e,n):e&&"function"!==typeof e?t:Bt(t,e)},K.forEach((function(t){qt[t]=Kt})),B.forEach((function(t){qt[t+"s"]=Wt})),qt.watch=function(t,e,n,r){if(t===st&&(t=void 0),e===st&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in P(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},qt.props=qt.methods=qt.inject=qt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return P(i,t),e&&P(i,e),i},qt.provide=Bt;var zt=function(t,e){return void 0===e?t:e};function Gt(t,e){var n=t.props;if(n){var r,i,o,a={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=S(i),a[o]={type:null})}else if(f(n))for(var s in n)i=n[s],o=S(s),a[o]=f(i)?i:{type:i};else 0;t.props=a}}function $t(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(f(n))for(var o in n){var a=n[o];r[o]=f(a)?P({from:o},a):{from:a}}else 0}}function Qt(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Yt(t,e,n){if("function"===typeof e&&(e=e.options),Gt(e,n),$t(e,n),Qt(e),!e._base&&(e.extends&&(t=Yt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Yt(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)E(t,o)||s(o);function s(r){var i=qt[r]||zt;a[r]=i(t[r],e[r],n,r)}return a}function Xt(t,e,n,r){if("string"===typeof n){var i=t[e];if(E(i,n))return i[n];var o=S(n);if(E(i,o))return i[o];var a=C(o);if(E(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Jt(t,e,n,r){var i=e[t],o=!E(n,t),a=n[t],s=re(Boolean,i.type);if(s>-1)if(o&&!E(i,"default"))a=!1;else if(""===a||a===A(t)){var u=re(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=Zt(r,i,t);var c=Nt;Rt(!0),Lt(a),Rt(c)}return a}function Zt(t,e,n){if(E(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==ee(e.type)?r.call(t):r}}var te=/^\s*function (\w+)/;function ee(t){var e=t&&t.toString().match(te);return e?e[1]:""}function ne(t,e){return ee(t)===ee(e)}function re(t,e){if(!Array.isArray(e))return ne(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(ne(e[n],t))return n;return-1}function ie(t,e,n){_t();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(Ca){ae(Ca,r,"errorCaptured hook")}}}ae(t,e,n)}finally{bt()}}function oe(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&v(o)&&!o._handled&&(o.catch((function(t){return ie(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(Ca){ie(Ca,r,i)}return o}function ae(t,e,n){if(H.errorHandler)try{return H.errorHandler.call(null,t,e,n)}catch(Ca){Ca!==t&&se(Ca,null,"config.errorHandler")}se(t,e,n)}function se(t,e,n){if(!J&&!Z||"undefined"===typeof console)throw t;console.error(t)}var ue,ce=!1,le=[],he=!1;function fe(){he=!1;var t=le.slice(0);le.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ft(Promise)){var pe=Promise.resolve();ue=function(){pe.then(fe),ot&&setTimeout(L)},ce=!0}else if(nt||"undefined"===typeof MutationObserver||!ft(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ue="undefined"!==typeof setImmediate&&ft(setImmediate)?function(){setImmediate(fe)}:function(){setTimeout(fe,0)};else{var de=1,ve=new MutationObserver(fe),ge=document.createTextNode(String(de));ve.observe(ge,{characterData:!0}),ue=function(){de=(de+1)%2,ge.data=String(de)},ce=!0}function ye(t,e){var n;if(le.push((function(){if(t)try{t.call(e)}catch(Ca){ie(Ca,e,"nextTick")}else n&&n(e)})),he||(he=!0,ue()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}var me=new pt;function _e(t){be(t,me),me.clear()}function be(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!l(t)||Object.isFrozen(t)||t instanceof wt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i){n=t.length;while(n--)be(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)be(t[r[n]],e)}}}var we=I((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function Ee(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return oe(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)oe(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function Ie(t,e,n,r,i,a){var u,c,l,h;for(u in t)c=t[u],l=e[u],h=we(u),o(c)||(o(l)?(o(c.fns)&&(c=t[u]=Ee(c,a)),s(h.once)&&(c=t[u]=i(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)o(t[u])&&(h=we(u),r(h.name,e[u],h.capture))}function Te(t,e,n){var r;t instanceof wt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function u(){n.apply(this,arguments),b(r.fns,u)}o(i)?r=Ee([u]):a(i.fns)&&s(i.merged)?(r=i,r.fns.push(u)):r=Ee([i,u]),r.merged=!0,t[e]=r}function Se(t,e,n){var r=e.options.props;if(!o(r)){var i={},s=t.attrs,u=t.props;if(a(s)||a(u))for(var c in r){var l=A(c);Ce(i,u,c,l,!0)||Ce(i,s,c,l,!1)}return i}}function Ce(t,e,n,r,i){if(a(e)){if(E(e,n))return t[n]=e[n],i||delete e[n],!0;if(E(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function ke(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ae(t){return c(t)?[Tt(t)]:Array.isArray(t)?Ne(t):void 0}function xe(t){return a(t)&&a(t.text)&&u(t.isComment)}function Ne(t,e){var n,r,i,u,l=[];for(n=0;n<t.length;n++)r=t[n],o(r)||"boolean"===typeof r||(i=l.length-1,u=l[i],Array.isArray(r)?r.length>0&&(r=Ne(r,(e||"")+"_"+n),xe(r[0])&&xe(u)&&(l[i]=Tt(u.text+r[0].text),r.shift()),l.push.apply(l,r)):c(r)?xe(u)?l[i]=Tt(u.text+r):""!==r&&l.push(Tt(r)):xe(r)&&xe(u)?l[i]=Tt(u.text+r.text):(s(t._isVList)&&a(r.tag)&&o(r.key)&&a(e)&&(r.key="__vlist"+e+"_"+n+"__"),l.push(r)));return l}function Re(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Oe(t){var e=Pe(t.$options.inject,t);e&&(Rt(!1),Object.keys(e).forEach((function(n){Mt(t,n,e[n])})),Rt(!0))}function Pe(t,e){if(t){for(var n=Object.create(null),r=dt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from,s=e;while(s){if(s._provided&&E(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"===typeof u?u.call(e):u}else 0}}return n}}function De(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Le)&&delete n[c];return n}function Le(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Me(t){return t.isComment&&t.asyncFactory}function Fe(t,e,n){var r,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&n&&n!==i&&s===n.$key&&!o&&!n.$hasNormal)return n;for(var u in r={},t)t[u]&&"$"!==u[0]&&(r[u]=je(e,u,t[u]))}else r={};for(var c in e)c in r||(r[c]=Ue(e,c));return t&&Object.isExtensible(t)&&(t._normalized=r),G(r,"$stable",a),G(r,"$key",s),G(r,"$hasNormal",o),r}function je(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});t=t&&"object"===(0,r.Z)(t)&&!Array.isArray(t)?[t]:Ae(t);var e=t&&t[0];return t&&(!e||1===t.length&&e.isComment&&!Me(e))?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function Ue(t,e){return function(){return t[e]}}function qe(t,e){var n,r,i,o,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(l(t))if(dt&&t[Symbol.iterator]){n=[];var u=t[Symbol.iterator](),c=u.next();while(!c.done)n.push(e(c.value,n.length)),c=u.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)s=o[r],n[r]=e(t[s],s,r);return a(n)||(n=[]),n._isVList=!0,n}function Ve(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=P(P({},r),n)),i=o(n)||("function"===typeof e?e():e)):i=this.$slots[t]||("function"===typeof e?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Be(t){return Xt(this.$options,"filters",t,!0)||F}function Ke(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function He(t,e,n,r,i){var o=H.keyCodes[e]||n;return i&&r&&!H.keyCodes[e]?Ke(i,r):o?Ke(o,t):r?A(r)!==e:void 0===t}function We(t,e,n,r,i){if(n)if(l(n)){var o;Array.isArray(n)&&(n=D(n));var a=function(a){if("class"===a||"style"===a||_(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||H.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=S(a),c=A(a);if(!(u in o)&&!(c in o)&&(o[a]=n[a],i)){var l=t.on||(t.on={});l["update:"+a]=function(t){n[a]=t}}};for(var s in n)a(s)}else;return t}function ze(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),$e(r,"__static__"+t,!1)),r}function Ge(t,e,n){return $e(t,"__once__"+e+(n?"_"+n:""),!0),t}function $e(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&Qe(t[r],e+"_"+r,n);else Qe(t,e,n)}function Qe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ye(t,e){if(e)if(f(e)){var n=t.on=t.on?P({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Xe(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Xe(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Je(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Ze(t,e){return"string"===typeof t?e+t:t}function tn(t){t._o=Ge,t._n=y,t._s=g,t._l=qe,t._t=Ve,t._q=j,t._i=U,t._m=ze,t._f=Be,t._k=He,t._b=We,t._v=Tt,t._e=It,t._u=Xe,t._g=Ye,t._d=Je,t._p=Ze}function en(t,e,n,r,o){var a,u=this,c=o.options;E(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var l=s(c._compiled),h=!l;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=Pe(c.inject,r),this.slots=function(){return u.$slots||Fe(t.scopedSlots,u.$slots=De(n,r)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Fe(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Fe(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,i){var o=vn(a,t,e,n,i,h);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,r){return vn(a,t,e,n,r,h)}}function nn(t,e,n,r,o){var s=t.options,u={},c=s.props;if(a(c))for(var l in c)u[l]=Jt(l,c,e||i);else a(n.attrs)&&on(u,n.attrs),a(n.props)&&on(u,n.props);var h=new en(n,u,o,r,t),f=s.render.call(null,h._c,h);if(f instanceof wt)return rn(f,n,h.parent,s,h);if(Array.isArray(f)){for(var p=Ae(f)||[],d=new Array(p.length),v=0;v<p.length;v++)d[v]=rn(p[v],n,h.parent,s,h);return d}}function rn(t,e,n,r,i){var o=St(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function on(t,e){for(var n in e)t[S(n)]=e[n]}tn(en.prototype);var an={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;an.prepatch(n,n)}else{var r=t.componentInstance=cn(t,Pn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;jn(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Bn(n,"mounted")),t.data.keepAlive&&(e._isMounted?er(n):qn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Vn(e,!0):e.$destroy())}},sn=Object.keys(an);function un(t,e,n,r,i){if(!o(t)){var u=n.$options._base;if(l(t)&&(t=u.extend(t)),"function"===typeof t){var c;if(o(t.cid)&&(c=t,t=Sn(c,u),void 0===t))return Tn(c,e,n,r,i);e=e||{},Tr(t),a(e.model)&&fn(t.options,e);var h=Se(e,t,i);if(s(t.options.functional))return nn(t,h,e,n,r);var f=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}ln(e);var d=t.options.name||i,v=new wt("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:f,tag:i,children:r},c);return v}}}function cn(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function ln(t){for(var e=t.hook||(t.hook={}),n=0;n<sn.length;n++){var r=sn[n],i=e[r],o=an[r];i===o||i&&i._merged||(e[r]=i?hn(o,i):o)}}function hn(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function fn(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),o=i[r],s=e.model.callback;a(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(i[r]=[s].concat(o)):i[r]=s}var pn=1,dn=2;function vn(t,e,n,r,i,o){return(Array.isArray(n)||c(n))&&(i=r,r=n,n=void 0),s(o)&&(i=dn),gn(t,e,n,r,i)}function gn(t,e,n,r,i){if(a(n)&&a(n.__ob__))return It();if(a(n)&&a(n.is)&&(e=n.is),!e)return It();var o,s,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===dn?r=Ae(r):i===pn&&(r=ke(r)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||H.getTagNamespace(e),o=H.isReservedTag(e)?new wt(H.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!a(u=Xt(t.$options,"components",e))?new wt(e,n,r,void 0,void 0,t):un(u,n,t,r,e)):o=un(e,n,t,r);return Array.isArray(o)?o:a(o)?(a(s)&&yn(o,s),a(n)&&mn(n),o):It()}function yn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),a(t.children))for(var r=0,i=t.children.length;r<i;r++){var u=t.children[r];a(u.tag)&&(o(u.ns)||s(n)&&"svg"!==u.tag)&&yn(u,e,n)}}function mn(t){l(t.style)&&_e(t.style),l(t.class)&&_e(t.class)}function _n(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=De(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,n,r,i){return vn(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return vn(t,e,n,r,i,!0)};var o=n&&n.data;Mt(t,"$attrs",o&&o.attrs||i,null,!0),Mt(t,"$listeners",e._parentListeners||i,null,!0)}var bn,wn=null;function En(t){tn(t.prototype),t.prototype.$nextTick=function(t){return ye(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=Fe(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{wn=e,t=r.call(e._renderProxy,e.$createElement)}catch(Ca){ie(Ca,e,"render"),t=e._vnode}finally{wn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof wt||(t=It()),t.parent=i,t}}function In(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function Tn(t,e,n,r,i){var o=It();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function Sn(t,e){if(s(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=wn;if(n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),s(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var r=t.owners=[n],i=!0,u=null,c=null;n.$on("hook:destroyed",(function(){return b(r,n)}));var h=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==u&&(clearTimeout(u),u=null),null!==c&&(clearTimeout(c),c=null))},f=q((function(n){t.resolved=In(n,e),i?r.length=0:h(!0)})),p=q((function(e){a(t.errorComp)&&(t.error=!0,h(!0))})),d=t(f,p);return l(d)&&(v(d)?o(t.resolved)&&d.then(f,p):v(d.component)&&(d.component.then(f,p),a(d.error)&&(t.errorComp=In(d.error,e)),a(d.loading)&&(t.loadingComp=In(d.loading,e),0===d.delay?t.loading=!0:u=setTimeout((function(){u=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,h(!1))}),d.delay||200)),a(d.timeout)&&(c=setTimeout((function(){c=null,o(t.resolved)&&p(null)}),d.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}function Cn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||Me(n)))return n}}function kn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Rn(t,e)}function An(t,e){bn.$on(t,e)}function xn(t,e){bn.$off(t,e)}function Nn(t,e){var n=bn;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Rn(t,e,n){bn=t,Ie(e,n||{},An,xn,Nn,t),bn=void 0}function On(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var s=a.length;while(s--)if(o=a[s],o===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?O(n):n;for(var r=O(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)oe(n[o],e,r,e,i)}return e}}var Pn=null;function Dn(t){var e=Pn;return Pn=t,function(){Pn=e}}function Ln(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Mn(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Dn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Bn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||b(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Bn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Fn(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=It),Bn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new or(t,r,L,{before:function(){t._isMounted&&!t._isDestroyed&&Bn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Bn(t,"mounted")),t}function jn(t,e,n,r,o){var a=r.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==i&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),c=!!(o||t.$options._renderChildren||u);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){Rt(!1);for(var l=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var p=h[f],d=t.$options.props;l[p]=Jt(p,d,e,t)}Rt(!0),t.$options.propsData=e}n=n||i;var v=t.$options._parentListeners;t.$options._parentListeners=n,Rn(t,n,v),c&&(t.$slots=De(o,r.context),t.$forceUpdate())}function Un(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function qn(t,e){if(e){if(t._directInactive=!1,Un(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)qn(t.$children[n]);Bn(t,"activated")}}function Vn(t,e){if((!e||(t._directInactive=!0,!Un(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Vn(t.$children[n]);Bn(t,"deactivated")}}function Bn(t,e){_t();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)oe(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),bt()}var Kn=[],Hn=[],Wn={},zn=!1,Gn=!1,$n=0;function Qn(){$n=Kn.length=Hn.length=0,Wn={},zn=Gn=!1}var Yn=0,Xn=Date.now;if(J&&!nt){var Jn=window.performance;Jn&&"function"===typeof Jn.now&&Xn()>document.createEvent("Event").timeStamp&&(Xn=function(){return Jn.now()})}function Zn(){var t,e;for(Yn=Xn(),Gn=!0,Kn.sort((function(t,e){return t.id-e.id})),$n=0;$n<Kn.length;$n++)t=Kn[$n],t.before&&t.before(),e=t.id,Wn[e]=null,t.run();var n=Hn.slice(),r=Kn.slice();Qn(),nr(n),tr(r),ht&&H.devtools&&ht.emit("flush")}function tr(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Bn(r,"updated")}}function er(t){t._inactive=!1,Hn.push(t)}function nr(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,qn(t[e],!0)}function rr(t){var e=t.id;if(null==Wn[e]){if(Wn[e]=!0,Gn){var n=Kn.length-1;while(n>$n&&Kn[n].id>t.id)n--;Kn.splice(n+1,0,t)}else Kn.push(t);zn||(zn=!0,ye(Zn))}}var ir=0,or=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ir,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pt,this.newDepIds=new pt,this.expression="","function"===typeof e?this.getter=e:(this.getter=Q(e),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()};or.prototype.get=function(){var t;_t(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Ca){if(!this.user)throw Ca;ie(Ca,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&_e(t),bt(),this.cleanupDeps()}return t},or.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},or.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},or.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():rr(this)},or.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';oe(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},or.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},or.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},or.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ar={enumerable:!0,configurable:!0,get:L,set:L};function sr(t,e,n){ar.get=function(){return this[e][n]},ar.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ar)}function ur(t){t._watchers=[];var e=t.$options;e.props&&cr(t,e.props),e.methods&&yr(t,e.methods),e.data?lr(t):Lt(t._data={},!0),e.computed&&pr(t,e.computed),e.watch&&e.watch!==st&&mr(t,e.watch)}function cr(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||Rt(!1);var a=function(o){i.push(o);var a=Jt(o,e,n,t);Mt(r,o,a),o in t||sr(t,"_props",o)};for(var s in e)a(s);Rt(!0)}function lr(t){var e=t.$options.data;e=t._data="function"===typeof e?hr(e,t):e||{},f(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&E(r,o)||z(o)||sr(t,"_data",o)}Lt(e,!0)}function hr(t,e){_t();try{return t.call(e,e)}catch(Ca){return ie(Ca,e,"data()"),{}}finally{bt()}}var fr={lazy:!0};function pr(t,e){var n=t._computedWatchers=Object.create(null),r=lt();for(var i in e){var o=e[i],a="function"===typeof o?o:o.get;0,r||(n[i]=new or(t,a||L,L,fr)),i in t||dr(t,i,o)}}function dr(t,e,n){var r=!lt();"function"===typeof n?(ar.get=r?vr(e):gr(n),ar.set=L):(ar.get=n.get?r&&!1!==n.cache?vr(e):gr(n.get):L,ar.set=n.set||L),Object.defineProperty(t,e,ar)}function vr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),yt.target&&e.depend(),e.value}}function gr(t){return function(){return t.call(this,this)}}function yr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?L:R(e[n],t)}function mr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)_r(t,n,r[i]);else _r(t,n,r)}}function _r(t,e,n,r){return f(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function br(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ft,t.prototype.$delete=jt,t.prototype.$watch=function(t,e,n){var r=this;if(f(e))return _r(r,t,e,n);n=n||{},n.user=!0;var i=new or(r,t,e,n);if(n.immediate){var o='callback for immediate watcher "'+i.expression+'"';_t(),oe(e,r,[i.value],r,o),bt()}return function(){i.teardown()}}}var wr=0;function Er(t){t.prototype._init=function(t){var e=this;e._uid=wr++,e._isVue=!0,t&&t._isComponent?Ir(e,t):e.$options=Yt(Tr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Ln(e),kn(e),_n(e),Bn(e,"beforeCreate"),Oe(e),ur(e),Re(e),Bn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Ir(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Tr(t){var e=t.options;if(t.super){var n=Tr(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=Sr(t);i&&P(t.extendOptions,i),e=t.options=Yt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Sr(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function Cr(t){this._init(t)}function kr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=O(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Ar(t){t.mixin=function(t){return this.options=Yt(this.options,t),this}}function xr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Yt(n.options,t),a["super"]=n,a.options.props&&Nr(a),a.options.computed&&Rr(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,B.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=P({},a.options),i[r]=a,a}}function Nr(t){var e=t.options.props;for(var n in e)sr(t.prototype,"_props",n)}function Rr(t){var e=t.options.computed;for(var n in e)dr(t.prototype,n,e[n])}function Or(t){B.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function Pr(t){return t&&(t.Ctor.options.name||t.tag)}function Dr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function Lr(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=a.name;s&&!e(s)&&Mr(n,o,r,i)}}}function Mr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,b(n,e)}Er(Cr),br(Cr),On(Cr),Mn(Cr),En(Cr);var Fr=[String,RegExp,Array],jr={name:"keep-alive",abstract:!0,props:{include:Fr,exclude:Fr,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var o=r.tag,a=r.componentInstance,s=r.componentOptions;e[i]={name:Pr(s),tag:o,componentInstance:a},n.push(i),this.max&&n.length>parseInt(this.max)&&Mr(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Mr(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Lr(t,(function(t){return Dr(e,t)}))})),this.$watch("exclude",(function(e){Lr(t,(function(t){return!Dr(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Cn(t),n=e&&e.componentOptions;if(n){var r=Pr(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!Dr(o,r))||a&&r&&Dr(a,r))return e;var s=this,u=s.cache,c=s.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[l]?(e.componentInstance=u[l].componentInstance,b(c,l),c.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||t&&t[0]}},Ur={KeepAlive:jr};function qr(t){var e={get:function(){return H}};Object.defineProperty(t,"config",e),t.util={warn:vt,extend:P,mergeOptions:Yt,defineReactive:Mt},t.set=Ft,t.delete=jt,t.nextTick=ye,t.observable=function(t){return Lt(t),t},t.options=Object.create(null),B.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,P(t.options.components,Ur),kr(t),Ar(t),xr(t),Or(t)}qr(Cr),Object.defineProperty(Cr.prototype,"$isServer",{get:lt}),Object.defineProperty(Cr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Cr,"FunctionalRenderContext",{value:en}),Cr.version="2.6.14";var Vr=m("style,class"),Br=m("input,textarea,option,select,progress"),Kr=function(t,e,n){return"value"===n&&Br(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Hr=m("contenteditable,draggable,spellcheck"),Wr=m("events,caret,typing,plaintext-only"),zr=function(t,e){return Xr(e)||"false"===e?"false":"contenteditable"===t&&Wr(e)?e:"true"},Gr=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),$r="http://www.w3.org/1999/xlink",Qr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Yr=function(t){return Qr(t)?t.slice(6,t.length):""},Xr=function(t){return null==t||!1===t};function Jr(t){var e=t.data,n=t,r=t;while(a(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Zr(r.data,e));while(a(n=n.parent))n&&n.data&&(e=Zr(e,n.data));return ti(e.staticClass,e.class)}function Zr(t,e){return{staticClass:ei(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function ti(t,e){return a(t)||a(e)?ei(t,ni(e)):""}function ei(t,e){return t?e?t+" "+e:t:e||""}function ni(t){return Array.isArray(t)?ri(t):l(t)?ii(t):"string"===typeof t?t:""}function ri(t){for(var e,n="",r=0,i=t.length;r<i;r++)a(e=ni(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function ii(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var oi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ai=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),si=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ui=function(t){return ai(t)||si(t)};function ci(t){return si(t)?"svg":"math"===t?"math":void 0}var li=Object.create(null);function hi(t){if(!J)return!0;if(ui(t))return!1;if(t=t.toLowerCase(),null!=li[t])return li[t];var e=document.createElement(t);return t.indexOf("-")>-1?li[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:li[t]=/HTMLUnknownElement/.test(e.toString())}var fi=m("text,number,password,search,email,tel,url");function pi(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function di(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function vi(t,e){return document.createElementNS(oi[t],e)}function gi(t){return document.createTextNode(t)}function yi(t){return document.createComment(t)}function mi(t,e,n){t.insertBefore(e,n)}function _i(t,e){t.removeChild(e)}function bi(t,e){t.appendChild(e)}function wi(t){return t.parentNode}function Ei(t){return t.nextSibling}function Ii(t){return t.tagName}function Ti(t,e){t.textContent=e}function Si(t,e){t.setAttribute(e,"")}var Ci=Object.freeze({createElement:di,createElementNS:vi,createTextNode:gi,createComment:yi,insertBefore:mi,removeChild:_i,appendChild:bi,parentNode:wi,nextSibling:Ei,tagName:Ii,setTextContent:Ti,setStyleScope:Si}),ki={create:function(t,e){Ai(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ai(t,!0),Ai(e))},destroy:function(t){Ai(t,!0)}};function Ai(t,e){var n=t.data.ref;if(a(n)){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?b(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var xi=new wt("",{},[]),Ni=["create","activate","update","remove","destroy"];function Ri(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&Oi(t,e)||s(t.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function Oi(t,e){if("input"!==t.tag)return!0;var n,r=a(n=t.data)&&a(n=n.attrs)&&n.type,i=a(n=e.data)&&a(n=n.attrs)&&n.type;return r===i||fi(r)&&fi(i)}function Pi(t,e,n){var r,i,o={};for(r=e;r<=n;++r)i=t[r].key,a(i)&&(o[i]=r);return o}function Di(t){var e,n,r={},i=t.modules,u=t.nodeOps;for(e=0;e<Ni.length;++e)for(r[Ni[e]]=[],n=0;n<i.length;++n)a(i[n][Ni[e]])&&r[Ni[e]].push(i[n][Ni[e]]);function l(t){return new wt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=u.parentNode(t);a(e)&&u.removeChild(e,t)}function p(t,e,n,r,i,o,c){if(a(t.elm)&&a(o)&&(t=o[c]=St(t)),t.isRootInsert=!i,!d(t,e,n,r)){var l=t.data,h=t.children,f=t.tag;a(f)?(t.elm=t.ns?u.createElementNS(t.ns,f):u.createElement(f,t),E(t),_(t,h,e),a(l)&&w(t,e),y(n,t.elm,r)):s(t.isComment)?(t.elm=u.createComment(t.text),y(n,t.elm,r)):(t.elm=u.createTextNode(t.text),y(n,t.elm,r))}}function d(t,e,n,r){var i=t.data;if(a(i)){var o=a(t.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)&&i(t,!1),a(t.componentInstance))return v(t,e),y(n,t.elm,r),s(o)&&g(t,e,n,r),!0}}function v(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(w(t,e),E(t)):(Ai(t),e.push(t))}function g(t,e,n,i){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](xi,s);e.push(s);break}y(n,t.elm,i)}function y(t,e,n){a(t)&&(a(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function _(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else c(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return a(t.tag)}function w(t,n){for(var i=0;i<r.create.length;++i)r.create[i](xi,t);e=t.data.hook,a(e)&&(a(e.create)&&e.create(xi,t),a(e.insert)&&n.push(t))}function E(t){var e;if(a(e=t.fnScopeId))u.setStyleScope(t.elm,e);else{var n=t;while(n)a(e=n.context)&&a(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent}a(e=Pn)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function I(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function T(t){var e,n,i=t.data;if(a(i))for(a(e=i.hook)&&a(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)T(t.children[n])}function S(t,e,n){for(;e<=n;++e){var r=t[e];a(r)&&(a(r.tag)?(C(r),T(r)):f(r.elm))}}function C(t,e){if(a(e)||a(t.data)){var n,i=r.remove.length+1;for(a(e)?e.listeners+=i:e=h(t.elm,i),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&C(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else f(t.elm)}function k(t,e,n,r,i){var s,c,l,h,f=0,d=0,v=e.length-1,g=e[0],y=e[v],m=n.length-1,_=n[0],b=n[m],w=!i;while(f<=v&&d<=m)o(g)?g=e[++f]:o(y)?y=e[--v]:Ri(g,_)?(x(g,_,r,n,d),g=e[++f],_=n[++d]):Ri(y,b)?(x(y,b,r,n,m),y=e[--v],b=n[--m]):Ri(g,b)?(x(g,b,r,n,m),w&&u.insertBefore(t,g.elm,u.nextSibling(y.elm)),g=e[++f],b=n[--m]):Ri(y,_)?(x(y,_,r,n,d),w&&u.insertBefore(t,y.elm,g.elm),y=e[--v],_=n[++d]):(o(s)&&(s=Pi(e,f,v)),c=a(_.key)?s[_.key]:A(_,e,f,v),o(c)?p(_,r,t,g.elm,!1,n,d):(l=e[c],Ri(l,_)?(x(l,_,r,n,d),e[c]=void 0,w&&u.insertBefore(t,l.elm,g.elm)):p(_,r,t,g.elm,!1,n,d)),_=n[++d]);f>v?(h=o(n[m+1])?null:n[m+1].elm,I(t,h,n,d,m,r)):d>m&&S(e,f,v)}function A(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(a(o)&&Ri(t,o))return i}}function x(t,e,n,i,c,l){if(t!==e){a(e.elm)&&a(i)&&(e=i[c]=St(e));var h=e.elm=t.elm;if(s(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?O(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;a(p)&&a(f=p.hook)&&a(f=f.prepatch)&&f(t,e);var d=t.children,v=e.children;if(a(p)&&b(e)){for(f=0;f<r.update.length;++f)r.update[f](t,e);a(f=p.hook)&&a(f=f.update)&&f(t,e)}o(e.text)?a(d)&&a(v)?d!==v&&k(h,d,v,n,l):a(v)?(a(t.text)&&u.setTextContent(h,""),I(h,null,v,0,v.length-1,n)):a(d)?S(d,0,d.length-1):a(t.text)&&u.setTextContent(h,""):t.text!==e.text&&u.setTextContent(h,e.text),a(p)&&a(f=p.hook)&&a(f=f.postpatch)&&f(t,e)}}}function N(t,e,n){if(s(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var R=m("attrs,class,staticClass,staticStyle,key");function O(t,e,n,r){var i,o=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,s(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(u)&&(a(i=u.hook)&&a(i=i.init)&&i(e,!0),a(i=e.componentInstance)))return v(e,n),!0;if(a(o)){if(a(c))if(t.hasChildNodes())if(a(i=u)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var l=!0,h=t.firstChild,f=0;f<c.length;f++){if(!h||!O(h,c[f],n,r)){l=!1;break}h=h.nextSibling}if(!l||h)return!1}else _(e,c,n);if(a(u)){var p=!1;for(var d in u)if(!R(d)){p=!0,w(e,n);break}!p&&u["class"]&&_e(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!o(e)){var c=!1,h=[];if(o(t))c=!0,p(e,h);else{var f=a(t.nodeType);if(!f&&Ri(t,e))x(t,e,h,null,null,i);else{if(f){if(1===t.nodeType&&t.hasAttribute(V)&&(t.removeAttribute(V),n=!0),s(n)&&O(t,e,h))return N(e,h,!0),t;t=l(t)}var d=t.elm,v=u.parentNode(d);if(p(e,h,d._leaveCb?null:v,u.nextSibling(d)),a(e.parent)){var g=e.parent,y=b(e);while(g){for(var m=0;m<r.destroy.length;++m)r.destroy[m](g);if(g.elm=e.elm,y){for(var _=0;_<r.create.length;++_)r.create[_](xi,g);var w=g.data.hook.insert;if(w.merged)for(var E=1;E<w.fns.length;E++)w.fns[E]()}else Ai(g);g=g.parent}}a(v)?S([t],0,0):a(t.tag)&&T(t)}}return N(e,h,c),e.elm}a(t)&&T(t)}}var Li={create:Mi,update:Mi,destroy:function(t){Mi(t,xi)}};function Mi(t,e){(t.data.directives||e.data.directives)&&Fi(t,e)}function Fi(t,e){var n,r,i,o=t===xi,a=e===xi,s=Ui(t.data.directives,t.context),u=Ui(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Vi(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(Vi(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var h=function(){for(var n=0;n<c.length;n++)Vi(c[n],"inserted",e,t)};o?Te(e,"insert",h):h()}if(l.length&&Te(e,"postpatch",(function(){for(var n=0;n<l.length;n++)Vi(l[n],"componentUpdated",e,t)})),!o)for(n in s)u[n]||Vi(s[n],"unbind",t,t,a)}var ji=Object.create(null);function Ui(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=ji),i[qi(r)]=r,r.def=Xt(e.$options,"directives",r.name,!0);return i}function qi(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Vi(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(Ca){ie(Ca,n.context,"directive "+t.name+" "+e+" hook")}}var Bi=[ki,Li];function Ki(t,e){var n=e.componentOptions;if((!a(n)||!1!==n.Ctor.options.inheritAttrs)&&(!o(t.data.attrs)||!o(e.data.attrs))){var r,i,s,u=e.elm,c=t.data.attrs||{},l=e.data.attrs||{};for(r in a(l.__ob__)&&(l=e.data.attrs=P({},l)),l)i=l[r],s=c[r],s!==i&&Hi(u,r,i,e.data.pre);for(r in(nt||it)&&l.value!==c.value&&Hi(u,"value",l.value),c)o(l[r])&&(Qr(r)?u.removeAttributeNS($r,Yr(r)):Hr(r)||u.removeAttribute(r))}}function Hi(t,e,n,r){r||t.tagName.indexOf("-")>-1?Wi(t,e,n):Gr(e)?Xr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Hr(e)?t.setAttribute(e,zr(e,n)):Qr(e)?Xr(n)?t.removeAttributeNS($r,Yr(e)):t.setAttributeNS($r,e,n):Wi(t,e,n)}function Wi(t,e,n){if(Xr(n))t.removeAttribute(e);else{if(nt&&!rt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function e(n){n.stopImmediatePropagation(),t.removeEventListener("input",e)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var zi={create:Ki,update:Ki};function Gi(t,e){var n=e.elm,r=e.data,i=t.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var s=Jr(e),u=n._transitionClasses;a(u)&&(s=ei(s,ni(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var $i,Qi={create:Gi,update:Gi},Yi="__r",Xi="__c";function Ji(t){if(a(t[Yi])){var e=nt?"change":"input";t[e]=[].concat(t[Yi],t[e]||[]),delete t[Yi]}a(t[Xi])&&(t.change=[].concat(t[Xi],t.change||[]),delete t[Xi])}function Zi(t,e,n){var r=$i;return function i(){var o=e.apply(null,arguments);null!==o&&no(t,i,n,r)}}var to=ce&&!(at&&Number(at[1])<=53);function eo(t,e,n,r){if(to){var i=Yn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}$i.addEventListener(t,e,ut?{capture:n,passive:r}:n)}function no(t,e,n,r){(r||$i).removeEventListener(t,e._wrapper||e,n)}function ro(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},r=t.data.on||{};$i=e.elm,Ji(n),Ie(n,r,eo,no,Zi,e.context),$i=void 0}}var io,oo={create:ro,update:ro};function ao(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,r,i=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in a(u.__ob__)&&(u=e.data.domProps=P({},u)),s)n in u||(i[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===s[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var c=o(r)?"":String(r);so(i,c)&&(i.value=c)}else if("innerHTML"===n&&si(i.tagName)&&o(i.innerHTML)){io=io||document.createElement("div"),io.innerHTML="<svg>"+r+"</svg>";var l=io.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(l.firstChild)i.appendChild(l.firstChild)}else if(r!==s[n])try{i[n]=r}catch(Ca){}}}}function so(t,e){return!t.composing&&("OPTION"===t.tagName||uo(t,e)||co(t,e))}function uo(t,e){var n=!0;try{n=document.activeElement!==t}catch(Ca){}return n&&t.value!==e}function co(t,e){var n=t.value,r=t._vModifiers;if(a(r)){if(r.number)return y(n)!==y(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var lo={create:ao,update:ao},ho=I((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function fo(t){var e=po(t.style);return t.staticStyle?P(t.staticStyle,e):e}function po(t){return Array.isArray(t)?D(t):"string"===typeof t?ho(t):t}function vo(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=fo(i.data))&&P(r,n)}(n=fo(t.data))&&P(r,n);var o=t;while(o=o.parent)o.data&&(n=fo(o.data))&&P(r,n);return r}var go,yo=/^--/,mo=/\s*!important$/,_o=function(t,e,n){if(yo.test(e))t.style.setProperty(e,n);else if(mo.test(n))t.style.setProperty(A(e),n.replace(mo,""),"important");else{var r=wo(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},bo=["Webkit","Moz","ms"],wo=I((function(t){if(go=go||document.createElement("div").style,t=S(t),"filter"!==t&&t in go)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<bo.length;n++){var r=bo[n]+e;if(r in go)return r}}));function Eo(t,e){var n=e.data,r=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var i,s,u=e.elm,c=r.staticStyle,l=r.normalizedStyle||r.style||{},h=c||l,f=po(e.data.style)||{};e.data.normalizedStyle=a(f.__ob__)?P({},f):f;var p=vo(e,!0);for(s in h)o(p[s])&&_o(u,s,"");for(s in p)i=p[s],i!==h[s]&&_o(u,s,null==i?"":i)}}var Io={create:Eo,update:Eo},To=/\s+/;function So(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(To).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Co(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(To).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function ko(t){if(t){if("object"===(0,r.Z)(t)){var e={};return!1!==t.css&&P(e,Ao(t.name||"v")),P(e,t),e}return"string"===typeof t?Ao(t):void 0}}var Ao=I((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),xo=J&&!rt,No="transition",Ro="animation",Oo="transition",Po="transitionend",Do="animation",Lo="animationend";xo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Oo="WebkitTransition",Po="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Do="WebkitAnimation",Lo="webkitAnimationEnd"));var Mo=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Fo(t){Mo((function(){Mo(t)}))}function jo(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),So(t,e))}function Uo(t,e){t._transitionClasses&&b(t._transitionClasses,e),Co(t,e)}function qo(t,e,n){var r=Bo(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===No?Po:Lo,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout((function(){u<a&&c()}),o+1),t.addEventListener(s,l)}var Vo=/\b(transform|all)(,|$)/;function Bo(t,e){var n,r=window.getComputedStyle(t),i=(r[Oo+"Delay"]||"").split(", "),o=(r[Oo+"Duration"]||"").split(", "),a=Ko(i,o),s=(r[Do+"Delay"]||"").split(", "),u=(r[Do+"Duration"]||"").split(", "),c=Ko(s,u),l=0,h=0;e===No?a>0&&(n=No,l=a,h=o.length):e===Ro?c>0&&(n=Ro,l=c,h=u.length):(l=Math.max(a,c),n=l>0?a>c?No:Ro:null,h=n?n===No?o.length:u.length:0);var f=n===No&&Vo.test(r[Oo+"Property"]);return{type:n,timeout:l,propCount:h,hasTransform:f}}function Ko(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Ho(e)+Ho(t[n])})))}function Ho(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Wo(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=ko(t.data.transition);if(!o(r)&&!a(n._enterCb)&&1===n.nodeType){var i=r.css,s=r.type,u=r.enterClass,c=r.enterToClass,h=r.enterActiveClass,f=r.appearClass,p=r.appearToClass,d=r.appearActiveClass,v=r.beforeEnter,g=r.enter,m=r.afterEnter,_=r.enterCancelled,b=r.beforeAppear,w=r.appear,E=r.afterAppear,I=r.appearCancelled,T=r.duration,S=Pn,C=Pn.$vnode;while(C&&C.parent)S=C.context,C=C.parent;var k=!S._isMounted||!t.isRootInsert;if(!k||w||""===w){var A=k&&f?f:u,x=k&&d?d:h,N=k&&p?p:c,R=k&&b||v,O=k&&"function"===typeof w?w:g,P=k&&E||m,D=k&&I||_,L=y(l(T)?T.enter:T);0;var M=!1!==i&&!rt,F=$o(O),j=n._enterCb=q((function(){M&&(Uo(n,N),Uo(n,x)),j.cancelled?(M&&Uo(n,A),D&&D(n)):P&&P(n),n._enterCb=null}));t.data.show||Te(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),O&&O(n,j)})),R&&R(n),M&&(jo(n,A),jo(n,x),Fo((function(){Uo(n,A),j.cancelled||(jo(n,N),F||(Go(L)?setTimeout(j,L):qo(n,s,j)))}))),t.data.show&&(e&&e(),O&&O(n,j)),M||F||j()}}}function zo(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=ko(t.data.transition);if(o(r)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var i=r.css,s=r.type,u=r.leaveClass,c=r.leaveToClass,h=r.leaveActiveClass,f=r.beforeLeave,p=r.leave,d=r.afterLeave,v=r.leaveCancelled,g=r.delayLeave,m=r.duration,_=!1!==i&&!rt,b=$o(p),w=y(l(m)?m.leave:m);0;var E=n._leaveCb=q((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(Uo(n,c),Uo(n,h)),E.cancelled?(_&&Uo(n,u),v&&v(n)):(e(),d&&d(n)),n._leaveCb=null}));g?g(I):I()}function I(){E.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),_&&(jo(n,u),jo(n,h),Fo((function(){Uo(n,u),E.cancelled||(jo(n,c),b||(Go(w)?setTimeout(E,w):qo(n,s,E)))}))),p&&p(n,E),_||b||E())}}function Go(t){return"number"===typeof t&&!isNaN(t)}function $o(t){if(o(t))return!1;var e=t.fns;return a(e)?$o(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Qo(t,e){!0!==e.data.show&&Wo(e)}var Yo=J?{create:Qo,activate:Qo,remove:function(t,e){!0!==t.data.show?zo(t,e):e()}}:{},Xo=[zi,Qi,oo,lo,Io,Yo],Jo=Xo.concat(Bi),Zo=Di({nodeOps:Ci,modules:Jo});rt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&sa(t,"input")}));var ta={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Te(n,"postpatch",(function(){ta.componentUpdated(t,e,n)})):ea(t,e,n.context),t._vOptions=[].map.call(t.options,ia)):("textarea"===n.tag||fi(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",oa),t.addEventListener("compositionend",aa),t.addEventListener("change",aa),rt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){ea(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,ia);if(i.some((function(t,e){return!j(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return ra(t,i)})):e.value!==e.oldValue&&ra(e.value,i);o&&sa(t,"change")}}}};function ea(t,e,n){na(t,e,n),(nt||it)&&setTimeout((function(){na(t,e,n)}),0)}function na(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=U(r,ia(a))>-1,a.selected!==o&&(a.selected=o);else if(j(ia(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function ra(t,e){return e.every((function(e){return!j(e,t)}))}function ia(t){return"_value"in t?t._value:t.value}function oa(t){t.target.composing=!0}function aa(t){t.target.composing&&(t.target.composing=!1,sa(t.target,"input"))}function sa(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function ua(t){return!t.componentInstance||t.data&&t.data.transition?t:ua(t.componentInstance._vnode)}var ca={bind:function(t,e,n){var r=e.value;n=ua(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Wo(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=ua(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Wo(n,(function(){t.style.display=t.__vOriginalDisplay})):zo(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},la={model:ta,show:ca},ha={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function fa(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?fa(Cn(e.children)):t}function pa(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[S(o)]=i[o];return e}function da(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function va(t){while(t=t.parent)if(t.data.transition)return!0}function ga(t,e){return e.key===t.key&&e.tag===t.tag}var ya=function(t){return t.tag||Me(t)},ma=function(t){return"show"===t.name},_a={name:"transition",props:ha,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(ya),n.length)){0;var r=this.mode;0;var i=n[0];if(va(this.$vnode))return i;var o=fa(i);if(!o)return i;if(this._leaving)return da(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:c(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=pa(this),u=this._vnode,l=fa(u);if(o.data.directives&&o.data.directives.some(ma)&&(o.data.show=!0),l&&l.data&&!ga(o,l)&&!Me(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=P({},s);if("out-in"===r)return this._leaving=!0,Te(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),da(t,i);if("in-out"===r){if(Me(o))return u;var f,p=function(){f()};Te(s,"afterEnter",p),Te(s,"enterCancelled",p),Te(h,"delayLeave",(function(t){f=t}))}}return i}}},ba=P({tag:String,moveClass:String},ha);delete ba.mode;var wa={props:ba,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Dn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=pa(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],l=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):l.push(f)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ea),t.forEach(Ia),t.forEach(Ta),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;jo(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Po,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Po,t),n._moveCb=null,Uo(n,e))})}})))},methods:{hasMove:function(t,e){if(!xo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Co(n,t)})),So(n,e),n.style.display="none",this.$el.appendChild(n);var r=Bo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function Ea(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ia(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ta(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var Sa={Transition:_a,TransitionGroup:wa};Cr.config.mustUseProp=Kr,Cr.config.isReservedTag=ui,Cr.config.isReservedAttr=Vr,Cr.config.getTagNamespace=ci,Cr.config.isUnknownElement=hi,P(Cr.options.directives,la),P(Cr.options.components,Sa),Cr.prototype.__patch__=J?Zo:L,Cr.prototype.$mount=function(t,e){return t=t&&J?pi(t):void 0,Fn(this,t,e)},J&&setTimeout((function(){H.devtools&&ht&&ht.emit("init",Cr)}),0),e["Z"]=Cr},4665:function(t,e,n){"use strict";var r=n(9726);n(9653),n(4916),n(3123),n(2222),n(1539),n(4747),n(7941),n(1703),n(7042),n(9600),n(8862),n(7327),n(8783),n(3948),n(1249),n(561);
/*!
 * vuex v3.4.0
 * (c) 2020 Evan You
 * @license MIT
 */
function i(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var o="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{},a=o.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t){a&&(t._devtoolHook=a,a.emit("vuex:init",t),a.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){a.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){a.emit("vuex:action",t,e)}),{prepend:!0}))}function u(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function c(t){return null!==t&&"object"===(0,r.Z)(t)}function l(t){return t&&"function"===typeof t.then}function h(t,e){return function(){return t(e)}}var f=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},p={namespaced:{configurable:!0}};p.namespaced.get=function(){return!!this._rawModule.namespaced},f.prototype.addChild=function(t,e){this._children[t]=e},f.prototype.removeChild=function(t){delete this._children[t]},f.prototype.getChild=function(t){return this._children[t]},f.prototype.hasChild=function(t){return t in this._children},f.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},f.prototype.forEachChild=function(t){u(this._children,t)},f.prototype.forEachGetter=function(t){this._rawModule.getters&&u(this._rawModule.getters,t)},f.prototype.forEachAction=function(t){this._rawModule.actions&&u(this._rawModule.actions,t)},f.prototype.forEachMutation=function(t){this._rawModule.mutations&&u(this._rawModule.mutations,t)},Object.defineProperties(f.prototype,p);var d=function(t){this.register([],t,!1)};function v(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;v(t.concat(r),e.getChild(r),n.modules[r])}}d.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},d.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},d.prototype.update=function(t){v([],this.root,t)},d.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new f(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&u(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},d.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)},d.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return e.hasChild(n)};var g;var y=function(t){var e=this;void 0===t&&(t={}),!g&&"undefined"!==typeof window&&window.Vue&&R(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new d(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new g,this._makeLocalGettersCache=Object.create(null);var i=this,o=this,a=o.dispatch,u=o.commit;this.dispatch=function(t,e){return a.call(i,t,e)},this.commit=function(t,e,n){return u.call(i,t,e,n)},this.strict=r;var c=this._modules.root.state;E(this,c,[],this._modules.root),w(this,c),n.forEach((function(t){return t(e)}));var l=void 0!==t.devtools?t.devtools:g.config.devtools;l&&s(this)},m={state:{configurable:!0}};function _(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function b(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;E(t,n,[],t._modules.root,!0),w(t,n,e)}function w(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};u(i,(function(e,n){o[n]=h(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=g.config.silent;g.config.silent=!0,t._vm=new g({data:{$$state:e},computed:o}),g.config.silent=a,t.strict&&A(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),g.nextTick((function(){return r.$destroy()})))}function E(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!o&&!i){var s=x(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){g.set(s,u,r.state)}))}var c=r.context=I(t,a,n);r.forEachMutation((function(e,n){var r=a+n;S(t,r,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,i=e.handler||e;C(t,r,i,c)})),r.forEachGetter((function(e,n){var r=a+n;k(t,r,e,c)})),r.forEachChild((function(r,o){E(t,e,n.concat(o),r,i)}))}function I(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=N(n,r,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:r?t.commit:function(n,r,i){var o=N(n,r,i),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return T(t,e)}},state:{get:function(){return x(t.state,n)}}}),i}function T(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function S(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function C(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return l(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function k(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function A(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function x(t,e){return e.reduce((function(t,e){return t[e]}),t)}function N(t,e,n){return c(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function R(t){g&&t===g||(g=t,i(g))}m.state.get=function(){return this._vm._data.$$state},m.state.set=function(t){0},y.prototype.commit=function(t,e,n){var r=this,i=N(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(s,r.state)})))},y.prototype.dispatch=function(t,e){var n=this,r=N(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(c){0}var u=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(c){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,n.state,t)}))}catch(c){0}e(t)}))}))}},y.prototype.subscribe=function(t,e){return _(t,this._subscribers,e)},y.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return _(n,this._actionSubscribers,e)},y.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},y.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},y.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),E(this,this.state,t,this._modules.get(t),n.preserveState),w(this,this.state)},y.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=x(e.state,t.slice(0,-1));g.delete(n,t[t.length-1])})),b(this)},y.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},y.prototype.hotUpdate=function(t){this._modules.update(t),b(this,!0)},y.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(y.prototype,m);var O=U((function(t,e){var n={};return F(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=q(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),P=U((function(t,e){var n={};return F(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=q(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),D=U((function(t,e){var n={};return F(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||q(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),L=U((function(t,e){var n={};return F(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=q(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),M=function(t){return{mapState:O.bind(null,t),mapGetters:D.bind(null,t),mapMutations:P.bind(null,t),mapActions:L.bind(null,t)}};function F(t){return j(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function j(t){return Array.isArray(t)||c(t)}function U(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function q(t,e,n){var r=t._modulesNamespaceMap[n];return r}var V={Store:y,install:R,version:"3.4.0",mapState:O,mapMutations:P,mapGetters:D,mapActions:L,createNamespacedHelpers:M};e["ZP"]=V},9726:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});n(2526),n(1817),n(1539),n(2165),n(8783),n(3948);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}}}]);
//# sourceMappingURL=chunk-vendors-legacy.33b0d635.js.map